{"version":3,"sources":["../../../../../frontend/components/ui/Button.tsx","../../../../../frontend/node_modules/lucide-react/src/icons/message-circle.ts","../../../../../frontend/components/Avatar.tsx","../../../../../frontend/node_modules/lucide-react/src/icons/circle.ts","../../../../../frontend/app/messages/page.tsx","../../../../../frontend/components/MessageCard.tsx"],"sourcesContent":["import React from 'react';\nimport { cn } from '@/lib/utils';\n\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'primary' | 'secondary' | 'outline' | 'ghost' | 'danger';\n  size?: 'sm' | 'md' | 'lg';\n  isLoading?: boolean;\n  loadingText?: string;\n}\n\nexport default function Button({\n  children,\n  className,\n  variant = 'primary',\n  size = 'md',\n  isLoading = false,\n  loadingText,\n  disabled,\n  ...props\n}: ButtonProps) {\n  const baseStyles = 'inline-flex items-center justify-center rounded-lg font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-ring disabled:opacity-50 disabled:pointer-events-none disabled:cursor-not-allowed';\n\n  const variants = {\n    primary: 'bg-primary text-primary-foreground hover:opacity-90 focus-visible:ring-primary',\n    secondary: 'bg-secondary text-secondary-foreground hover:opacity-90 focus-visible:ring-secondary',\n    outline: 'border border-border hover:bg-accent hover:text-accent-foreground focus-visible:ring-border',\n    ghost: 'hover:bg-accent hover:text-accent-foreground focus-visible:ring-accent',\n    danger: 'bg-destructive text-destructive-foreground hover:opacity-90 focus-visible:ring-destructive',\n  };\n\n  const sizes = {\n    sm: 'px-3 py-1.5 text-sm',\n    md: 'px-4 py-2 text-base',\n    lg: 'px-6 py-3 text-lg',\n  };\n\n  return (\n    <button\n      type={props.type || 'button'}\n      className={cn(baseStyles, variants[variant], sizes[size], className)}\n      disabled={disabled || isLoading}\n      aria-live={isLoading ? 'polite' : undefined}\n      aria-busy={isLoading}\n      {...props}\n    >\n      {isLoading ? (\n        <>\n          <svg\n            className=\"animate-spin -ml-1 mr-2 h-4 w-4\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            aria-hidden=\"true\"\n            role=\"img\"\n          >\n            <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n            <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n          </svg>\n          <span>{loadingText || 'Loading...'}</span>\n        </>\n      ) : children}\n    </button>\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719',\n      key: '1sd12s',\n    },\n  ],\n];\n\n/**\n * @component @name MessageCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMi45OTIgMTYuMzQyYTIgMiAwIDAgMSAuMDk0IDEuMTY3bC0xLjA2NSAzLjI5YTEgMSAwIDAgMCAxLjIzNiAxLjE2OGwzLjQxMy0uOTk4YTIgMiAwIDAgMSAxLjA5OS4wOTIgMTAgMTAgMCAxIDAtNC43NzctNC43MTkiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/message-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MessageCircle = createLucideIcon('message-circle', __iconNode);\n\nexport default MessageCircle;\n","'use client';\n\nimport Image from 'next/image';\nimport { useState, useCallback, useMemo, memo } from 'react';\nimport { cn } from '@/lib/utils';\nimport { User } from 'lucide-react';\nimport { DEFAULT_BLUR_DATA_URL, IMAGE_SIZES } from '@/lib/imageUtils';\n\ninterface AvatarProps {\n  src?: string | null;\n  alt: string;\n  size?: 'sm' | 'md' | 'lg' | 'xl' | number;\n  className?: string;\n  priority?: boolean;\n  showOnlineStatus?: boolean;\n  isOnline?: boolean;\n}\n\n// Static size mappings - moved outside component\nconst SIZE_CLASSES = {\n  sm: 'w-8 h-8',\n  md: 'w-10 h-10',\n  lg: 'w-12 h-12',\n  xl: 'w-16 h-16',\n} as const;\n\nconst SIZE_PX = {\n  sm: 32,\n  md: 40,\n  lg: 48,\n  xl: 64,\n} as const;\n\n/**\n * Avatar component for user profile pictures with fallback and online status\n *\n * @example\n * <Avatar\n *   src={user.avatar}\n *   alt={user.name}\n *   size=\"md\"\n *   showOnlineStatus\n *   isOnline={user.isOnline}\n * />\n */\nconst Avatar = memo(function Avatar({\n  src,\n  alt,\n  size = 'md',\n  className,\n  priority = false,\n  showOnlineStatus = false,\n  isOnline = false,\n}: AvatarProps) {\n  const [hasError, setHasError] = useState(false);\n\n  // Memoize size classes to avoid recalculation\n  const { sizeClass, customSize } = useMemo(() => {\n    return {\n      sizeClass: typeof size === 'number' ? '' : SIZE_CLASSES[size],\n      customSize: typeof size === 'number' ? { width: size, height: size } : {},\n    };\n  }, [size]);\n\n  // Memoize image sizes attribute\n  const imageSizes = useMemo(() => {\n    return IMAGE_SIZES.avatar;\n  }, []);\n\n  // Stable error handler with useCallback\n  const handleError = useCallback(() => {\n    setHasError(true);\n  }, []);\n\n  // Memoize initials calculation\n  const initials = useMemo(() => {\n    const parts = alt.trim().split(' ');\n    if (parts.length >= 2) {\n      return `${parts[0][0]}${parts[1][0]}`.toUpperCase();\n    }\n    return alt[0].toUpperCase();\n  }, [alt]);\n\n  // Memoize online status color\n  const onlineStatusColor = useMemo(() => {\n    return isOnline ? 'bg-green-500' : 'bg-gray-400';\n  }, [isOnline]);\n\n  return (\n    <div\n      className={cn(\n        'relative rounded-full overflow-hidden bg-primary/10 flex items-center justify-center flex-shrink-0',\n        sizeClass,\n        className\n      )}\n      style={customSize}\n    >\n      {src && !hasError ? (\n        <Image\n          src={src}\n          alt={alt}\n          fill\n          className=\"object-cover\"\n          sizes={imageSizes}\n          priority={priority}\n          placeholder=\"blur\"\n          blurDataURL={DEFAULT_BLUR_DATA_URL}\n          onError={handleError}\n        />\n      ) : (\n        <div className=\"w-full h-full flex items-center justify-center text-primary font-semibold\">\n          {initials || <User className=\"h-1/2 w-1/2\" />}\n        </div>\n      )}\n\n      {/* Online status indicator */}\n      {showOnlineStatus && (\n        <span\n          className={cn(\n            'absolute bottom-0 right-0 w-3 h-3 border-2 border-background rounded-full transition-colors',\n            onlineStatusColor\n          )}\n          aria-label={isOnline ? 'Online' : 'Offline'}\n        />\n      )}\n    </div>\n  );\n});\n\nexport default Avatar;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }]];\n\n/**\n * @component @name Circle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Circle = createLucideIcon('circle', __iconNode);\n\nexport default Circle;\n","'use client';\n\nimport { useEffect, useState, useCallback } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport { Loader2, MessageCircle } from 'lucide-react';\nimport { messagesAPI } from '@/lib/api/messages';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useSocket } from '@/contexts/SocketContext';\nimport Button from '@/components/ui/Button';\nimport { MessageListSkeleton } from '@/components/ui/skeleton';\nimport MessageCard from '@/components/MessageCard';\nimport { toast } from '@/components/ui/Toaster';\nimport type { Conversation, Message } from '@/types';\n\nexport default function MessagesPage() {\n  const router = useRouter();\n  const { isAuthenticated } = useAuth();\n  const { socket, isConnected, onlineUsers } = useSocket();\n\n  const [conversations, setConversations] = useState<Conversation[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  const fetchConversations = useCallback(async () => {\n    try {\n      const res = await messagesAPI.getConversations();\n      setConversations(res.data.conversations || []);\n    } catch (error) {\n      console.error('Failed to fetch conversations:', error);\n        toast.error('Failed to load conversations.');\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      router.push('/login');\n      return;\n    }\n\n    fetchConversations();\n  }, [isAuthenticated, router, fetchConversations]);\n\n  // Listen for new messages and conversation updates\n  useEffect(() => {\n    if (!socket || !isConnected) return;\n\n    // Listen for new messages to update conversation list\n    socket.on('notification:message', ({ message, unreadCount }: { message: Message; unreadCount: number }) => {\n      // Update the conversation list\n      setConversations((prevConversations) => {\n        const senderId = message.sender._id;\n        const receiverId = message.receiver._id;\n        const currentUserId = JSON.parse(localStorage.getItem('user') || '{}')._id;\n        const otherUserId = senderId === currentUserId ? receiverId : senderId;\n\n        // Check if conversation already exists\n        const existingIndex = prevConversations.findIndex((c) => c.user.id === otherUserId);\n\n        if (existingIndex !== -1) {\n          // Update existing conversation\n          const updated = [...prevConversations];\n          updated[existingIndex] = {\n            ...updated[existingIndex],\n            lastMessage: {\n              sender: message.sender._id,\n              receiver: message.receiver._id,\n              product: message.product,\n              content: message.content,\n              isRead: message.isRead,\n              createdAt: message.createdAt,\n            },\n            unreadCount: senderId === currentUserId ? 0 : unreadCount,\n          };\n          // Move to top\n          return [updated[existingIndex], ...updated.filter((_, i) => i !== existingIndex)];\n        } else {\n          // This shouldn't happen as conversations are created on first message\n          fetchConversations();\n          return prevConversations;\n        }\n      });\n    });\n\n    return () => {\n      socket.off('notification:message');\n    };\n  }, [socket, isConnected, fetchConversations]);\n\n  if (loading) {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"max-w-4xl mx-auto\">\n          {/* Header skeleton */}\n          <div className=\"flex items-center justify-between mb-8\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"h-8 w-8 bg-muted rounded-full animate-pulse\" />\n              <div className=\"h-8 bg-muted rounded w-48 animate-pulse\" />\n            </div>\n          </div>\n\n          {/* Conversations skeleton */}\n          <MessageListSkeleton count={8} />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <div className=\"max-w-4xl mx-auto\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-8\">\n          <div className=\"flex items-center space-x-3\">\n            <MessageCircle className=\"h-8 w-8 text-primary\" />\n            <h1 className=\"text-3xl font-bold\">Messages</h1>\n          </div>\n          {/* Connection status */}\n          <div className=\"flex items-center space-x-2 text-sm text-muted-foreground\">\n            <div className={`w-2 h-2 rounded-full ${isConnected ? 'bg-green-500' : 'bg-red-500'}`} />\n            <span>{isConnected ? 'Connected' : 'Reconnecting...'}</span>\n          </div>\n        </div>\n\n        {/* Conversations List */}\n        {conversations.length === 0 ? (\n          <div className=\"text-center py-16\">\n            <MessageCircle className=\"h-24 w-24 mx-auto text-muted-foreground mb-4\" />\n            <h2 className=\"text-2xl font-semibold mb-2\">No messages yet</h2>\n            <p className=\"text-muted-foreground mb-6\">\n              Start a conversation with a seller or buyer\n            </p>\n            <Link\n              href=\"/products\"\n              className=\"inline-flex items-center space-x-2\"\n            >\n              <Button>Browse Products</Button>\n            </Link>\n          </div>\n        ) : (\n          <div className=\"space-y-2\">\n            {conversations.map((conversation) => {\n              const isOnline = onlineUsers.has(conversation.user.id);\n              return <MessageCard key={conversation.user.id} conversation={conversation} isOnline={isOnline} />;\n            })}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport Link from 'next/link';\nimport Avatar from '@/components/Avatar';\nimport { Circle } from 'lucide-react';\nimport { memo, useMemo } from 'react';\nimport type { Conversation } from '@/types';\n\ninterface MessageCardProps {\n  conversation: Conversation;\n  isOnline: boolean;\n}\n\nconst MessageCard = memo(function MessageCard({ conversation, isOnline }: MessageCardProps) {\n  const formattedDate = useMemo(() => {\n    return conversation.lastMessage\n      ? new Date(conversation.lastMessage.createdAt).toLocaleDateString()\n      : '';\n  }, [conversation.lastMessage]);\n\n  const lastMessagePreview = conversation.lastMessage?.content || 'No messages yet';\n  const unreadLabel = conversation.unreadCount > 0\n    ? ` with ${conversation.unreadCount} unread messages`\n    : '';\n\n  return (\n    <Link\n      href={`/buyer/messages?userId=${conversation.user.id}`}\n      className=\"block rounded-lg border bg-card p-4 hover:bg-accent transition-colors focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ring\"\n      aria-label={`Chat with ${conversation.user.name}${isOnline ? ', online' : ''}${unreadLabel}. Last message: ${lastMessagePreview}`}\n    >\n      <article className=\"flex items-center space-x-4\">\n        {/* Avatar */}\n        <Avatar\n          src={conversation.user.avatar}\n          alt={conversation.user.name}\n          size=\"lg\"\n          showOnlineStatus\n          isOnline={isOnline}\n        />\n\n        {/* Content */}\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-center justify-between mb-1\">\n            <div className=\"flex items-center space-x-2\">\n              <h3 className=\"font-semibold truncate\" id={`conversation-${conversation.user.id}-name`}>\n                {conversation.user.name}\n              </h3>\n              {isOnline && (\n                <span className=\"text-xs text-green-500 flex items-center\" aria-label=\"Online now\">\n                  <Circle className=\"h-2 w-2 fill-current mr-1\" aria-hidden=\"true\" />\n                  <span>Online</span>\n                </span>\n              )}\n            </div>\n            <time\n              className=\"text-xs text-muted-foreground\"\n              dateTime={conversation.lastMessage?.createdAt}\n              aria-label={`Last message on ${formattedDate}`}\n            >\n              {formattedDate}\n            </time>\n          </div>\n          <p\n            className=\"text-sm text-muted-foreground truncate\"\n            aria-labelledby={`conversation-${conversation.user.id}-name`}\n          >\n            {lastMessagePreview}\n          </p>\n        </div>\n\n        {/* Unread Badge */}\n        {conversation.unreadCount > 0 && (\n          <div className=\"flex-shrink-0\">\n            <span\n              className=\"inline-flex items-center justify-center w-6 h-6 rounded-full bg-primary text-primary-foreground text-xs font-medium\"\n              aria-label={`${conversation.unreadCount} unread messages`}\n            >\n              {conversation.unreadCount}\n            </span>\n          </div>\n        )}\n      </article>\n    </Link>\n  );\n});\n\nexport default MessageCard;\n"],"names":[],"mappings":"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","ignoreList":[1,3]}