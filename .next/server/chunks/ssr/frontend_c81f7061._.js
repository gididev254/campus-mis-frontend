module.exports=[92522,a=>{"use strict";var b=a.i(57850),c=a.i(13916);function d({children:a,className:d,variant:e="primary",size:f="md",isLoading:g=!1,loadingText:h,disabled:i,...j}){return(0,b.jsx)("button",{type:j.type||"button",className:(0,c.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-ring disabled:opacity-50 disabled:pointer-events-none disabled:cursor-not-allowed",{primary:"bg-primary text-primary-foreground hover:opacity-90 focus-visible:ring-primary",secondary:"bg-secondary text-secondary-foreground hover:opacity-90 focus-visible:ring-secondary",outline:"border border-border hover:bg-accent hover:text-accent-foreground focus-visible:ring-border",ghost:"hover:bg-accent hover:text-accent-foreground focus-visible:ring-accent",danger:"bg-destructive text-destructive-foreground hover:opacity-90 focus-visible:ring-destructive"}[e],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[f],d),disabled:i||g,"aria-live":g?"polite":void 0,"aria-busy":g,...j,children:g?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",role:"img",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,b.jsx)("span",{children:h||"Loading..."})]}):a})}a.s(["default",()=>d])},63062,a=>{"use strict";let b=(0,a.i(31261).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],63062)},21900,a=>{"use strict";let b=(0,a.i(31261).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],21900)},41379,a=>{"use strict";let b=(0,a.i(31261).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],41379)},59398,a=>{"use strict";let b=(0,a.i(31261).default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);a.s(["Heart",()=>b],59398)},99486,a=>{"use strict";let b=(0,a.i(31261).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);a.s(["Star",()=>b],99486)},73904,a=>{"use strict";var b=a.i(57850),c=a.i(70579),d=a.i(13916),e=a.i(45056),f=a.i(62129);function g({className:a,aspectRatio:c,width:e,height:f}){return(0,b.jsx)("div",{className:(0,d.cn)("animate-pulse bg-muted rounded-lg overflow-hidden",c?({square:"aspect-square",video:"aspect-video",portrait:"aspect-[3/4]",landscape:"aspect-[4/3]"})[c]:"",a),style:{width:e,height:f},"aria-hidden":"true",children:(0,b.jsx)("div",{className:"w-full h-full bg-gradient-to-r from-transparent via-muted-foreground/10 to-transparent animate-[shimmer_1.5s_infinite]"})})}function h({src:a,alt:h,fill:i=!1,width:j,height:k,className:l,priority:m=!1,sizes:n,showFallback:o=!0,fallbackText:p="No Image",showSkeleton:q=!1,blurColor:r=f.BLUR_COLORS.product}){let[s,t]=(0,e.useState)(!0),[u,v]=(0,e.useState)(!1),w=(0,b.jsx)("div",{className:(0,d.cn)("w-full h-full flex items-center justify-center text-muted-foreground text-sm",l),children:p});if(!a||u)return o?w:null;let x=(0,f.generateCloudinaryBlurDataURL)(a)||(0,f.generateColoredBlurDataURL)(r),y={src:a,alt:h,...m&&{priority:m},sizes:n,...i?{fill:!0,className:(0,d.cn)("object-cover transition-opacity duration-500 ease-in-out",s?"opacity-0":"opacity-100",l)}:{width:j,height:k,className:(0,d.cn)("object-cover transition-opacity duration-500 ease-in-out",s?"opacity-0":"opacity-100",l)},onLoad:()=>t(!1),onError:()=>v(!0),placeholder:"blur",blurDataURL:x||f.DEFAULT_BLUR_DATA_URL};return(0,b.jsxs)(b.Fragment,{children:[s&&q&&(0,b.jsx)("div",{className:"absolute inset-0 z-10",children:(0,b.jsx)(g,{className:"w-full h-full"})}),(0,b.jsx)(c.default,{...y})]})}a.s(["default",()=>h],73904)},40360,a=>{"use strict";let b=(0,a.i(31261).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],40360)},59996,a=>{"use strict";let b=(0,a.i(31261).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],59996)},26638,a=>{"use strict";let b=(0,a.i(31261).default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);a.s(["MessageCircle",()=>b],26638)},58317,a=>{"use strict";let b=(0,a.i(31261).default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);a.s(["Minus",()=>b],58317)},70796,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(93609),e=a.i(73904),f=a.i(59843),g=a.i(21900),h=a.i(59398),i=a.i(63062),j=a.i(41379),k=a.i(40360),l=a.i(26638),m=a.i(81353),n=a.i(99486);let o=(0,a.i(31261).default)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var p=a.i(59996),q=a.i(58317),r=a.i(72084),s=a.i(13916),t=a.i(35971),u=a.i(45369),v=a.i(92522);a.i(59888);var w=a.i(98534),x=a.i(52485);function y(){let a=(0,d.useParams)(),y=(0,d.useRouter)(),{user:z,isAuthenticated:A}=(0,t.useAuth)(),{addToCart:B}=(0,u.useCart)(),[C,D]=(0,c.useState)(null),[E,F]=(0,c.useState)([]),[G,H]=(0,c.useState)(!0),[I,J]=(0,c.useState)(0),[K,L]=(0,c.useState)(!1),[M,N]=(0,c.useState)(1),[O,P]=(0,c.useState)(!1);(0,c.useEffect)(()=>{(async()=>{try{let b=await r.productsAPI.getProduct(a.id);D(b.data.product),L(b.data.product.likes?.includes(z?._id||"")||!1);let c=await r.productsAPI.getRelatedProducts(a.id);F(c.data.products)}catch(a){console.error("Failed to fetch product:",a),y.push("/products")}finally{H(!1)}})()},[a.id,z]);let Q=async()=>{if(!A)return void y.push("/login");try{let a=await r.productsAPI.toggleLike(C._id);L(a.data.liked)}catch(a){console.error("Failed to like product:",a)}},R=async()=>{if(!A)return void y.push("/login");P(!0);try{await B(C._id),w.toast.success(`Added ${M} item(s) to cart!`)}catch(a){console.error("Failed to add to cart:",a),w.toast.error(a.response?.data?.message||"Failed to add to cart")}finally{P(!1)}};return G?(0,b.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,b.jsx)(x.ProductDetailSkeleton,{})}):C?(0,b.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,b.jsxs)(f.default,{href:"/products",className:"inline-flex items-center space-x-2 text-muted-foreground hover:text-foreground mb-6",children:[(0,b.jsx)(g.ArrowLeft,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Back to Products"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-16",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"relative aspect-square bg-muted rounded-lg overflow-hidden",children:(0,b.jsx)(e.default,{src:C.images?.[I],alt:C.title,fill:!0,priority:!0,sizes:"(max-width: 1024px) 100vw, 50vw"})}),C.images&&C.images.length>1&&(0,b.jsx)("div",{className:"flex space-x-2 overflow-x-auto",children:C.images.map((a,c)=>(0,b.jsx)("button",{onClick:()=>J(c),className:(0,s.cn)("relative w-20 h-20 rounded-lg overflow-hidden border-2 flex-shrink-0",I===c?"border-primary":"border-transparent"),children:(0,b.jsx)(e.default,{src:a,alt:`${C.title} ${c+1}`,fill:!0,sizes:"80px"})},c))})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-2",children:C.title}),(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)("span",{className:"text-3xl font-bold text-primary",children:(0,s.formatPrice)(C.price)}),C.isNegotiable&&(0,b.jsx)("span",{className:"px-3 py-1 rounded-full bg-primary/10 text-primary text-sm",children:"Negotiable"})]})]}),C.seller&&(0,b.jsxs)(f.default,{href:`/users/${C.seller._id}`,className:"flex items-center space-x-3 p-4 rounded-lg border bg-card hover:bg-accent transition-colors",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center text-primary font-semibold",children:C.seller.name?.charAt(0)||"U"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"font-semibold",children:C.seller.name||"Unknown Seller"}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground flex items-center space-x-2",children:[(0,b.jsx)(n.Star,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),(0,b.jsx)("span",{children:C.seller.averageRating||"New"}),(C.seller.totalReviews||0)>0&&(0,b.jsxs)("span",{children:["(",C.seller.totalReviews||0," reviews)"]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-muted-foreground",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,b.jsx)(j.Eye,{className:"h-4 w-4"}),(0,b.jsxs)("span",{children:[C.views," views"]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,b.jsx)(h.Heart,{className:"h-4 w-4"}),(0,b.jsxs)("span",{children:[C.likes?.length||0," likes"]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,b.jsx)(k.Calendar,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:(0,s.formatDate)(C.createdAt)})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"font-semibold mb-2",children:"Description"}),(0,b.jsx)("p",{className:"text-muted-foreground whitespace-pre-line",children:C.description})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)("span",{className:"px-3 py-1 rounded-full bg-secondary text-secondary-foreground text-sm",children:C.category.name}),(0,b.jsx)("span",{className:"px-3 py-1 rounded-full bg-secondary text-secondary-foreground text-sm capitalize",children:C.condition.replace("-"," ")})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[(0,b.jsx)(i.MapPin,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:C.location})]}),(0,b.jsxs)("div",{className:"space-y-4 pt-4 border-t",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Quantity"}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("button",{onClick:()=>N(Math.max(1,M-1)),className:"p-2 rounded-lg border hover:bg-accent transition-colors",disabled:M<=1,children:(0,b.jsx)(q.Minus,{className:"h-4 w-4"})}),(0,b.jsx)("span",{className:"w-16 text-center font-medium text-lg",children:M}),(0,b.jsx)("button",{onClick:()=>N(M+1),className:"p-2 rounded-lg border hover:bg-accent transition-colors",children:(0,b.jsx)(p.Plus,{className:"h-4 w-4"})})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsxs)(v.default,{onClick:()=>{A?y.push(`/buyer/checkout?productId=${C?._id}&quantity=${M}`):y.push("/login")},className:"flex-1",size:"lg",children:[(0,b.jsx)(m.ShoppingCart,{className:"h-5 w-5 mr-2"}),"Buy Now"]}),(0,b.jsx)(v.default,{onClick:R,variant:"outline",className:"flex-1",size:"lg",disabled:O,children:O?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"animate-spin mr-2",children:"â³"}),"Adding..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.ShoppingCart,{className:"h-5 w-5 mr-2"}),"Add to Cart"]})}),(0,b.jsx)(v.default,{onClick:Q,variant:K?"primary":"outline",size:"lg",className:(0,s.cn)(K&&"bg-destructive hover:bg-destructive/90"),children:(0,b.jsx)(h.Heart,{className:(0,s.cn)("h-5 w-5",K&&"fill-current")})}),(0,b.jsx)(v.default,{onClick:()=>{A?C?.seller?._id?y.push(`/messages?userId=${C.seller._id}&productId=${C._id}`):w.toast.error("Seller information not available"):y.push("/login")},variant:"outline",size:"lg",disabled:!C?.seller?._id,children:(0,b.jsx)(l.MessageCircle,{className:"h-5 w-5"})}),(0,b.jsx)(v.default,{variant:"outline",size:"lg",children:(0,b.jsx)(o,{className:"h-5 w-5"})})]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Total: ",(0,b.jsx)("span",{className:"font-semibold text-foreground",children:(0,s.formatPrice)((C?.price||0)*M)})]})]})]})]}),E.length>0&&(0,b.jsxs)("section",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Related Products"}),(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:E.map(a=>(0,b.jsx)(ProductCard,{product:a},a._id))})]})]}):null}a.s(["default",()=>y],70796)}];

//# sourceMappingURL=frontend_c81f7061._.js.map