module.exports=[92522,a=>{"use strict";var b=a.i(57850),c=a.i(13916);function d({children:a,className:d,variant:e="primary",size:f="md",isLoading:g=!1,loadingText:h,disabled:i,...j}){return(0,b.jsx)("button",{type:j.type||"button",className:(0,c.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-ring disabled:opacity-50 disabled:pointer-events-none disabled:cursor-not-allowed",{primary:"bg-primary text-primary-foreground hover:opacity-90 focus-visible:ring-primary",secondary:"bg-secondary text-secondary-foreground hover:opacity-90 focus-visible:ring-secondary",outline:"border border-border hover:bg-accent hover:text-accent-foreground focus-visible:ring-border",ghost:"hover:bg-accent hover:text-accent-foreground focus-visible:ring-accent",danger:"bg-destructive text-destructive-foreground hover:opacity-90 focus-visible:ring-destructive"}[e],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[f],d),disabled:i||g,"aria-live":g?"polite":void 0,"aria-busy":g,...j,children:g?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",role:"img",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,b.jsx)("span",{children:h||"Loading..."})]}):a})}a.s(["default",()=>d])},47940,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(32722);class e extends c.Component{constructor(a){super(a),this.state={hasError:!1,error:null}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,b){console.error("ClientErrorBoundary caught an error:",a,b)}resetError=()=>{this.setState({hasError:!1,error:null})};render(){if(this.state.hasError){let a=this.props.fallback||d.ErrorFallback;return(0,b.jsx)(a,{error:this.state.error,resetError:this.resetError})}return this.props.children}}a.s(["ClientErrorBoundary",()=>e])},59398,a=>{"use strict";let b=(0,a.i(31261).default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);a.s(["Heart",()=>b],59398)},25792,a=>{"use strict";let b=(0,a.i(31261).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>b],25792)},83522,a=>{"use strict";let b=(0,a.i(31261).default)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]);a.s(["ShoppingBag",()=>b],83522)},90957,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(93609),e=a.i(70579),f=a.i(59843),g=a.i(69355),h=a.i(59398),i=a.i(25792),j=a.i(83522),k=a.i(46350),l=a.i(7163),m=a.i(35971),n=a.i(13916),o=a.i(92522),p=a.i(52485),q=a.i(47940);a.i(59888);var r=a.i(98534);function s(){return(0,b.jsx)(q.ClientErrorBoundary,{children:(0,b.jsx)(t,{})})}function t(){let a=(0,d.useRouter)(),{isAuthenticated:q}=(0,m.useAuth)(),[s,t]=(0,c.useState)([]),[u,v]=(0,c.useState)(!0),[w,x]=(0,c.useState)(new Set),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)(""),C=(0,c.useCallback)(async()=>{try{let a=await l.wishlistAPI.getWishlist();t(a.data.data?.items||[])}catch(a){console.error("Failed to fetch wishlist:",a),r.toast.error("Failed to load wishlist. Please try again."),B("Failed to load wishlist")}finally{v(!1)}},[]);(0,c.useEffect)(()=>{q?C():a.push("/login")},[q,a,C]);let D=(0,c.useCallback)(async a=>{x(b=>new Set(b).add(a)),B(""),z("");try{await l.wishlistAPI.removeWishlist(a),t(b=>b.filter(b=>b.product._id!==a)),z("Item removed from wishlist"),setTimeout(()=>z(""),3e3)}catch(a){console.error("Failed to remove from wishlist:",a),r.toast.error("Failed to remove item from wishlist."),B("Failed to remove item from wishlist")}finally{x(b=>{let c=new Set(b);return c.delete(a),c})}},[]);return u?(0,b.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,b.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3 mb-8",children:[(0,b.jsx)("div",{className:"h-8 w-8 bg-muted rounded-full animate-pulse"}),(0,b.jsx)("div",{className:"h-8 bg-muted rounded w-48 animate-pulse"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:(0,b.jsx)(p.ProductCardSkeleton,{count:8})})]})}):(0,b.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,b.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3 mb-8",children:[(0,b.jsx)(h.Heart,{className:"h-8 w-8 text-primary"}),(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"My Wishlist"})]}),y&&(0,b.jsxs)("div",{className:"mb-6 flex items-center gap-2 p-4 rounded-lg bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:[(0,b.jsx)(h.Heart,{className:"h-5 w-5 text-green-600 dark:text-green-400 flex-shrink-0"}),(0,b.jsx)("p",{className:"text-sm text-green-800 dark:text-green-200",children:y})]}),A&&(0,b.jsxs)("div",{className:"mb-6 flex items-center gap-2 p-4 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",children:[(0,b.jsx)(i.XCircle,{className:"h-5 w-5 text-red-600 dark:text-red-400 flex-shrink-0"}),(0,b.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200",children:A})]}),0===s.length?(0,b.jsxs)("div",{className:"text-center py-16",children:[(0,b.jsx)(h.Heart,{className:"h-24 w-24 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"Your wishlist is empty"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-6",children:"Save items you love by clicking the heart icon on any product"}),(0,b.jsx)(f.default,{href:"/products",children:(0,b.jsx)(o.default,{children:"Browse Products"})})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(a=>{let c=w.has(a.product._id);return(0,b.jsxs)("div",{className:"rounded-lg border bg-card overflow-hidden hover:shadow-lg transition-shadow",children:[(0,b.jsxs)("div",{className:"relative aspect-square bg-muted",children:[a.product.images?.[0]?(0,b.jsx)(f.default,{href:`/products/${a.product._id}`,children:(0,b.jsx)(e.default,{src:a.product.images[0],alt:a.product.title,fill:!0,className:"object-cover"})}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:"No Image"}),(0,b.jsx)(o.default,{onClick:()=>D(a.product._id),disabled:c,variant:"danger",size:"sm",className:"absolute top-2 right-2 bg-background/80 backdrop-blur-sm hover:bg-background","aria-label":"Remove from wishlist",children:c?(0,b.jsx)(g.Loader2,{className:"h-5 w-5 animate-spin"}):(0,b.jsx)(k.Trash2,{className:"h-5 w-5"})})]}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsx)(f.default,{href:`/products/${a.product._id}`,children:(0,b.jsx)("h3",{className:"font-semibold hover:text-primary transition-colors line-clamp-2 mb-2",children:a.product.title})}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.product.category?.name||"Uncategorized"}),(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"new"===a.product.condition?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"like-new"===a.product.condition?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"good"===a.product.condition?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"}`,children:a.product.condition.replace("-"," ")})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("p",{className:"text-lg font-bold text-primary",children:(0,n.formatPrice)(a.product.price)}),(0,b.jsx)(f.default,{href:`/products/${a.product._id}`,children:(0,b.jsxs)(o.default,{size:"sm",variant:"outline",children:[(0,b.jsx)(j.ShoppingBag,{className:"h-4 w-4 mr-1"}),"View"]})})]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:["Added ",new Date(a.addedAt).toLocaleDateString()]})]})]},a._id)})})]})})}a.s(["default",()=>s])}];

//# sourceMappingURL=frontend_7b5c9468._.js.map