module.exports=[92522,a=>{"use strict";var b=a.i(57850),c=a.i(13916);function d({children:a,className:d,variant:e="primary",size:f="md",isLoading:g=!1,loadingText:h,disabled:i,...j}){return(0,b.jsx)("button",{type:j.type||"button",className:(0,c.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-ring disabled:opacity-50 disabled:pointer-events-none disabled:cursor-not-allowed",{primary:"bg-primary text-primary-foreground hover:opacity-90 focus-visible:ring-primary",secondary:"bg-secondary text-secondary-foreground hover:opacity-90 focus-visible:ring-secondary",outline:"border border-border hover:bg-accent hover:text-accent-foreground focus-visible:ring-border",ghost:"hover:bg-accent hover:text-accent-foreground focus-visible:ring-accent",danger:"bg-destructive text-destructive-foreground hover:opacity-90 focus-visible:ring-destructive"}[e],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[f],d),disabled:i||g,"aria-live":g?"polite":void 0,"aria-busy":g,...j,children:g?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",role:"img",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,b.jsx)("span",{children:h||"Loading..."})]}):a})}a.s(["default",()=>d])},18188,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(13916);function e({label:a,error:e,helperText:f,className:g,id:h,...i}){let j=c.default.useId(),k=h||j,l=e?`${k}-error`:void 0,m=f?`${k}-helper`:void 0,n=[l,m].filter(Boolean).join(" ")||void 0;return(0,b.jsxs)("div",{className:"w-full",children:[a&&(0,b.jsxs)("label",{htmlFor:k,className:"block text-sm font-medium mb-1.5 text-foreground",children:[a,i.required&&(0,b.jsx)("span",{className:"text-destructive ml-1","aria-label":"required",children:"*"})]}),(0,b.jsx)("input",{id:k,"aria-invalid":e?"true":"false","aria-describedby":n,"aria-required":i.required?"true":void 0,className:(0,d.cn)("w-full px-4 py-2.5 rounded-lg border border-input bg-background text-foreground","placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent focus-visible:ring-2 focus-visible:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed",e&&"border-destructive focus:ring-destructive focus-visible:ring-destructive",g),...i}),e&&(0,b.jsx)("p",{id:l,className:"mt-1 text-sm text-destructive",role:"alert","aria-live":"assertive",children:e}),f&&!e&&(0,b.jsx)("p",{id:m,className:"mt-1 text-sm text-muted-foreground",children:f})]})}a.s(["default",()=>e])},57204,a=>{"use strict";var b=a.i(57850),c=a.i(93609),d=a.i(59843),e=a.i(18521),f=a.i(1892),g=a.i(35971);a.i(59888);var h=a.i(98534),i=a.i(92522),j=a.i(18188),k=a.i(60328),l=a.i(53141);function m(){let a=(0,c.useRouter)(),{register:m}=(0,g.useAuth)(),{register:n,handleSubmit:o,watch:p,setValue:q,formState:{errors:r,isSubmitting:s},setError:t}=(0,e.useForm)({resolver:(0,f.zodResolver)(k.registrationSchema),mode:"onBlur",defaultValues:{role:"buyer"}}),u=p("password"),v=p("confirmPassword"),w=p("role"),x=(0,l.getPasswordStrength)(u||""),y=async b=>{try{await m({name:b.name,email:b.email,password:b.password,phone:b.phone,role:b.role,location:b.location}),h.toast.success("Account created successfully!"),a.push("/")}catch(b){let a=b.response?.data?.message||"Registration failed. Please try again.";t("root",{type:"manual",message:a}),h.toast.error(a)}};return(0,b.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,b.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Create Account"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-2",children:"Join Campus Market today"})]}),(0,b.jsxs)("div",{className:"bg-card rounded-lg border p-8",children:[r.root&&(0,b.jsx)("div",{className:"mb-4 p-3 rounded-lg bg-destructive/10 text-destructive text-sm",children:r.root.message}),(0,b.jsxs)("form",{onSubmit:o(y),className:"space-y-4",noValidate:!0,children:[(0,b.jsx)(j.default,{label:"Full Name",type:"text",placeholder:"John Doe",error:r.name?.message,...n("name")}),(0,b.jsx)(j.default,{label:"Email",type:"email",placeholder:"your.email@example.com",error:r.email?.message,...n("email")}),(0,b.jsx)(j.default,{label:"Phone Number",type:"tel",placeholder:"+254700000000",error:r.phone?.message,...n("phone")}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1.5",children:"I want to"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["buyer","seller"].map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>q("role",a),className:`px-4 py-2 rounded-lg border capitalize transition-colors ${w===a?"bg-primary text-primary-foreground border-primary":"bg-background hover:bg-accent"}`,children:a},a))}),r.role&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:r.role.message})]}),(0,b.jsx)(j.default,{label:"Location (Optional)",type:"text",placeholder:"Campus location",error:r.location?.message,...n("location")}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.default,{label:"Password",type:"password",placeholder:"••••••••",error:r.password?.message,...n("password")}),u&&(0,b.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,b.jsx)("div",{className:"flex gap-1",children:[1,2,3,4].map(a=>(0,b.jsx)("div",{className:`h-1.5 flex-1 rounded-full transition-colors ${a<=x.score?x.color:"bg-gray-200 dark:bg-gray-700"}`},a))}),x.label&&(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Password strength: ",(0,b.jsx)("span",{className:`font-medium ${x.score<=1?"text-red-500":2===x.score?"text-orange-500":3===x.score?"text-yellow-600":"text-green-600"}`,children:x.label})]}),(0,b.jsxs)("div",{className:"mt-2 p-3 rounded-lg bg-muted/50 space-y-1",children:[(0,b.jsx)("p",{className:"text-xs font-medium mb-2",children:"Password Requirements:"}),(0,b.jsxs)("ul",{className:"space-y-1 text-xs",children:[(0,b.jsxs)("li",{className:u?.length>=12?"text-green-600 dark:text-green-400":"text-muted-foreground",children:[u?.length>=12?"✓":"○"," At least 12 characters"]}),(0,b.jsxs)("li",{className:/[a-z]/.test(u||"")?"text-green-600 dark:text-green-400":"text-muted-foreground",children:[/[a-z]/.test(u||"")?"✓":"○"," One lowercase letter (a-z)"]}),(0,b.jsxs)("li",{className:/[A-Z]/.test(u||"")?"text-green-600 dark:text-green-400":"text-muted-foreground",children:[/[A-Z]/.test(u||"")?"✓":"○"," One uppercase letter (A-Z)"]}),(0,b.jsxs)("li",{className:/[0-9]/.test(u||"")?"text-green-600 dark:text-green-400":"text-muted-foreground",children:[/[0-9]/.test(u||"")?"✓":"○"," One number (0-9)"]}),(0,b.jsxs)("li",{className:/[@$!%*?&]/.test(u||"")?"text-green-600 dark:text-green-400":"text-muted-foreground",children:[/[@$!%*?&]/.test(u||"")?"✓":"○"," One special character (@$!%*?&)"]})]})]})]})]}),(0,b.jsx)(j.default,{label:"Confirm Password",type:"password",placeholder:"••••••••",error:r.confirmPassword?.message,...n("confirmPassword")}),v&&u&&(0,b.jsx)("div",{className:`text-xs ${u===v?"text-green-600 dark:text-green-400":"text-destructive"}`,children:u===v?"✓ Passwords match":"✗ Passwords do not match"}),(0,b.jsx)(i.default,{type:"submit",className:"w-full",isLoading:s,children:"Create Account"})]}),(0,b.jsxs)("div",{className:"mt-6 text-center text-sm",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Already have an account?"})," ",(0,b.jsx)(d.default,{href:"/login",className:"text-primary hover:underline",children:"Sign in"})]})]}),(0,b.jsxs)("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:[(0,b.jsx)("p",{className:"font-medium mb-2",children:"Need help?"}),(0,b.jsxs)("p",{children:["WhatsApp: ",(0,b.jsx)("a",{href:"https://wa.me/254111938368",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"0111938368"})]}),(0,b.jsxs)("p",{children:["Email: ",(0,b.jsx)("a",{href:"mailto:gedionmutua2024@gmail.com",className:"text-primary hover:underline",children:"gedionmutua2024@gmail.com"})]})]})]})})}a.s(["default",()=>m])}];

//# sourceMappingURL=frontend_de17dd42._.js.map