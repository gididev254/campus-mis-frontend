module.exports=[92522,a=>{"use strict";var b=a.i(57850),c=a.i(13916);function d({children:a,className:d,variant:e="primary",size:f="md",isLoading:g=!1,loadingText:h,disabled:i,...j}){return(0,b.jsx)("button",{type:j.type||"button",className:(0,c.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-ring disabled:opacity-50 disabled:pointer-events-none disabled:cursor-not-allowed",{primary:"bg-primary text-primary-foreground hover:opacity-90 focus-visible:ring-primary",secondary:"bg-secondary text-secondary-foreground hover:opacity-90 focus-visible:ring-secondary",outline:"border border-border hover:bg-accent hover:text-accent-foreground focus-visible:ring-border",ghost:"hover:bg-accent hover:text-accent-foreground focus-visible:ring-accent",danger:"bg-destructive text-destructive-foreground hover:opacity-90 focus-visible:ring-destructive"}[e],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[f],d),disabled:i||g,"aria-live":g?"polite":void 0,"aria-busy":g,...j,children:g?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",role:"img",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,b.jsx)("span",{children:h||"Loading..."})]}):a})}a.s(["default",()=>d])},26910,a=>{"use strict";let b=(0,a.i(31261).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);a.s(["Package",()=>b],26910)},63062,a=>{"use strict";let b=(0,a.i(31261).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],63062)},21900,a=>{"use strict";let b=(0,a.i(31261).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],21900)},41379,a=>{"use strict";let b=(0,a.i(31261).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],41379)},73904,a=>{"use strict";var b=a.i(57850),c=a.i(70579),d=a.i(13916),e=a.i(45056),f=a.i(62129);function g({className:a,aspectRatio:c,width:e,height:f}){return(0,b.jsx)("div",{className:(0,d.cn)("animate-pulse bg-muted rounded-lg overflow-hidden",c?({square:"aspect-square",video:"aspect-video",portrait:"aspect-[3/4]",landscape:"aspect-[4/3]"})[c]:"",a),style:{width:e,height:f},"aria-hidden":"true",children:(0,b.jsx)("div",{className:"w-full h-full bg-gradient-to-r from-transparent via-muted-foreground/10 to-transparent animate-[shimmer_1.5s_infinite]"})})}function h({src:a,alt:h,fill:i=!1,width:j,height:k,className:l,priority:m=!1,sizes:n,showFallback:o=!0,fallbackText:p="No Image",showSkeleton:q=!1,blurColor:r=f.BLUR_COLORS.product}){let[s,t]=(0,e.useState)(!0),[u,v]=(0,e.useState)(!1),w=(0,b.jsx)("div",{className:(0,d.cn)("w-full h-full flex items-center justify-center text-muted-foreground text-sm",l),children:p});if(!a||u)return o?w:null;let x=(0,f.generateCloudinaryBlurDataURL)(a)||(0,f.generateColoredBlurDataURL)(r),y={src:a,alt:h,...m&&{priority:m},sizes:n,...i?{fill:!0,className:(0,d.cn)("object-cover transition-opacity duration-500 ease-in-out",s?"opacity-0":"opacity-100",l)}:{width:j,height:k,className:(0,d.cn)("object-cover transition-opacity duration-500 ease-in-out",s?"opacity-0":"opacity-100",l)},onLoad:()=>t(!1),onError:()=>v(!0),placeholder:"blur",blurDataURL:x||f.DEFAULT_BLUR_DATA_URL};return(0,b.jsxs)(b.Fragment,{children:[s&&q&&(0,b.jsx)("div",{className:"absolute inset-0 z-10",children:(0,b.jsx)(g,{className:"w-full h-full"})}),(0,b.jsx)(c.default,{...y})]})}a.s(["default",()=>h],73904)},99486,a=>{"use strict";let b=(0,a.i(31261).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);a.s(["Star",()=>b],99486)},59398,a=>{"use strict";let b=(0,a.i(31261).default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);a.s(["Heart",()=>b],59398)},84398,a=>{"use strict";var b=a.i(57850),c=a.i(59843),d=a.i(73904),e=a.i(59398),f=a.i(63062),g=a.i(41379),h=a.i(81353),i=a.i(99486),j=a.i(13916),k=a.i(35971),l=a.i(45369),m=a.i(72084);a.i(59888);var n=a.i(98534),o=a.i(45056);let p=(0,o.memo)(function({product:a}){let{user:p,isAuthenticated:q}=(0,k.useAuth)(),{addToCart:r}=(0,l.useCart)(),[s,t]=(0,o.useState)(a.likes?.includes(p?._id||"")),[u,v]=(0,o.useState)(a.likes?.length||0),[w,x]=(0,o.useState)(!1),y=(0,o.useMemo)(()=>(0,j.formatPrice)(a.price),[a.price]),z=(0,o.useMemo)(()=>(0,j.formatRelativeTime)(a.createdAt),[a.createdAt]),A=(0,o.useMemo)(()=>(a.seller?.averageRating??0)>0?(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(i.Star,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),(0,b.jsx)("span",{children:a.seller.averageRating?.toFixed(1)||"0.0"}),(0,b.jsxs)("span",{className:"text-muted-foreground",children:["(",a.seller.totalReviews||0,")"]})]}):null,[a.seller?.averageRating,a.seller?.totalReviews]),B=(0,o.useMemo)(()=>a.views||0,[a.views]),C=(0,o.useCallback)(async b=>{if(b.preventDefault(),q)try{let b=await m.productsAPI.toggleLike(a._id);t(b.data.liked),v(b.data.likesCount)}catch(a){n.toast.error("Failed to like product")}},[a._id,q]),D=(0,o.useCallback)(async b=>{if(b.preventDefault(),!q)return void n.toast.error("Please login to add items to cart");x(!0);try{await r(a._id),n.toast.success("Added to cart!")}catch(a){n.toast.error(a.response?.data?.message||"Failed to add to cart")}finally{x(!1)}},[a._id,q,r]);return(0,b.jsx)(c.default,{href:`/products/${a._id}`,className:"block focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ring rounded-lg","aria-label":`View ${a.title}, priced at ${y}, located in ${a.location}`,children:(0,b.jsxs)("article",{className:"group rounded-lg border bg-card overflow-hidden hover:shadow-lg transition-all duration-300","aria-labelledby":`product-title-${a._id}`,children:[(0,b.jsxs)("div",{className:"relative aspect-square overflow-hidden bg-muted",children:[(0,b.jsx)(d.default,{src:a.images?.[0],alt:`Product image of ${a.title}`,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300",sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw"}),(0,b.jsx)("span",{className:"absolute top-2 left-2 px-2 py-1 rounded-full bg-background/80 backdrop-blur-sm text-xs font-medium","aria-label":`Condition: ${a.condition.replace("-"," ")}`,children:a.condition.replace("-"," ")}),q&&(0,b.jsx)("button",{onClick:C,className:(0,j.cn)("absolute top-2 right-2 p-2 rounded-full bg-background/80 backdrop-blur-sm transition-colors","focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ring",s?"text-destructive":"hover:text-destructive"),"aria-label":s?`Remove ${a.title} from wishlist`:`Add ${a.title} to wishlist`,"aria-pressed":s,type:"button",children:(0,b.jsx)(e.Heart,{className:(0,j.cn)("h-4 w-4",s&&"fill-current"),"aria-hidden":"true"})})]}),(0,b.jsxs)("div",{className:"p-4 space-y-2",children:[(0,b.jsx)("h3",{className:"font-semibold line-clamp-2 group-hover:text-primary transition-colors",id:`product-title-${a._id}`,children:a.title}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-lg font-bold text-primary","aria-labelledby":`product-title-${a._id}`,children:y}),a.isNegotiable&&(0,b.jsx)("span",{className:"text-xs text-muted-foreground","aria-label":"Price is negotiable",children:"Negotiable"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,b.jsx)(f.MapPin,{className:"h-3 w-3","aria-hidden":"true"}),(0,b.jsx)("span",{className:"line-clamp-1",children:a.location})]}),(0,b.jsx)("div",{className:"flex items-center space-x-2",children:(0,b.jsxs)("div",{className:"flex items-center space-x-1","aria-label":`${B} views`,children:[(0,b.jsx)(g.Eye,{className:"h-3 w-3","aria-hidden":"true"}),(0,b.jsx)("span",{children:B})]})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-2 border-t",children:[(0,b.jsxs)(c.default,{href:`/users/${a.seller?._id}`,className:"flex items-center gap-1 hover:text-primary transition-colors rounded-lg px-2 py-1 -mx-2 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ring",onClick:a=>a.preventDefault(),"aria-label":`View seller profile: ${a.seller?.name||"Unknown Seller"}`,children:[(0,b.jsx)("span",{children:a.seller?.name||"Unknown Seller"}),A]}),(0,b.jsx)("time",{dateTime:a.createdAt,"aria-label":`Listed ${z}`,children:z})]}),(0,b.jsx)("button",{onClick:D,disabled:w,"aria-live":"polite","aria-label":w?"Adding product to cart":`Add ${a.title} to cart`,type:"button",className:(0,j.cn)("w-full mt-3 px-4 py-2 rounded-lg font-medium text-sm transition-colors","bg-primary text-primary-foreground hover:bg-primary/90","disabled:opacity-50 disabled:cursor-not-allowed","focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ring"),children:w?(0,b.jsxs)("span",{className:"flex items-center justify-center space-x-2",children:[(0,b.jsx)("span",{className:"animate-spin","aria-hidden":"true",children:"â³"}),(0,b.jsx)("span",{children:"Adding..."})]}):(0,b.jsxs)("span",{className:"flex items-center justify-center space-x-2",children:[(0,b.jsx)(h.ShoppingCart,{className:"h-4 w-4","aria-hidden":"true"}),(0,b.jsx)("span",{children:"Add to Cart"})]})})]})]})})});a.s(["default",0,p])},7963,a=>{"use strict";let b=(0,a.i(31261).default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);a.s(["Tag",()=>b],7963)},17689,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(93609),e=a.i(59843),f=a.i(7963),g=a.i(21900),h=a.i(26910);let i=(0,a.i(31261).default)("sliders-horizontal",[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]]);var j=a.i(39236),k=a.i(72084),l=a.i(92522),m=a.i(52485);a.i(59888);var n=a.i(98534),o=a.i(84398);function p(){let a=(0,d.useParams)();(0,d.useRouter)();let[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)(!0),[v,w]=(0,c.useState)("");return((0,c.useEffect)(()=>{(async()=>{try{let b=a.slug,c=(await j.categoriesAPI.getCategories()).data.categories.find(a=>a.slug===b);if(!c){w("Category not found"),u(!1);return}q(c);let d=await k.productsAPI.getProducts({category:c._id});s(d.data.data||[])}catch(a){console.error("Failed to fetch category:",a),n.toast.error("Failed to load category."),w(a.response?.data?.message||"Failed to load category")}finally{u(!1)}})()},[a.slug]),t)?(0,b.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsx)("div",{className:"h-4 bg-muted rounded w-32 animate-pulse"})}),(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-muted rounded-full animate-pulse"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"h-8 bg-muted rounded w-64 animate-pulse"}),(0,b.jsx)("div",{className:"h-4 bg-muted rounded w-96 animate-pulse"})]})]})}),(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:(0,b.jsx)(m.ProductCardSkeleton,{count:8})})]})}):v||!p?(0,b.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,b.jsxs)("div",{className:"max-w-2xl mx-auto text-center",children:[(0,b.jsx)(f.Tag,{className:"h-24 w-24 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Category Not Found"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-6",children:v||"This category does not exist"}),(0,b.jsx)(e.default,{href:"/categories",children:(0,b.jsx)(l.default,{children:"Browse All Categories"})})]})}):(0,b.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsxs)(e.default,{href:"/categories",className:"inline-flex items-center text-muted-foreground hover:text-primary mb-6",children:[(0,b.jsx)(g.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back to Categories"]}),(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[p.icon&&(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-3xl",children:p.icon})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-2",children:p.name}),p.description&&(0,b.jsx)("p",{className:"text-muted-foreground",children:p.description})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[(0,b.jsx)(h.Package,{className:"h-5 w-5"}),(0,b.jsxs)("span",{children:[r.length," products"]})]})]})}),0===r.length?(0,b.jsxs)("div",{className:"text-center py-16 rounded-lg border bg-muted/30",children:[(0,b.jsx)(h.Package,{className:"h-24 w-24 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"No products yet"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-6",children:"There are no products in this category at the moment"}),(0,b.jsx)(e.default,{href:"/products",children:(0,b.jsx)(l.default,{children:"Browse All Products"})})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(a=>(0,b.jsx)(o.default,{product:a},a._id))}),(0,b.jsx)("div",{className:"mt-12 text-center",children:(0,b.jsx)(e.default,{href:"/products",children:(0,b.jsxs)(l.default,{variant:"outline",size:"lg",children:[(0,b.jsx)(i,{className:"h-5 w-5 mr-2"}),"Browse All Products"]})})})]})})}a.s(["default",()=>p],17689)}];

//# sourceMappingURL=frontend_02b8ea9b._.js.map