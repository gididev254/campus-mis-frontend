module.exports=[92522,a=>{"use strict";var b=a.i(57850),c=a.i(13916);function d({children:a,className:d,variant:e="primary",size:f="md",isLoading:g=!1,loadingText:h,disabled:i,...j}){return(0,b.jsx)("button",{type:j.type||"button",className:(0,c.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-ring disabled:opacity-50 disabled:pointer-events-none disabled:cursor-not-allowed",{primary:"bg-primary text-primary-foreground hover:opacity-90 focus-visible:ring-primary",secondary:"bg-secondary text-secondary-foreground hover:opacity-90 focus-visible:ring-secondary",outline:"border border-border hover:bg-accent hover:text-accent-foreground focus-visible:ring-border",ghost:"hover:bg-accent hover:text-accent-foreground focus-visible:ring-accent",danger:"bg-destructive text-destructive-foreground hover:opacity-90 focus-visible:ring-destructive"}[e],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[f],d),disabled:i||g,"aria-live":g?"polite":void 0,"aria-busy":g,...j,children:g?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",role:"img",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,b.jsx)("span",{children:h||"Loading..."})]}):a})}a.s(["default",()=>d])},63062,a=>{"use strict";let b=(0,a.i(31261).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],63062)},47940,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(32722);class e extends c.Component{constructor(a){super(a),this.state={hasError:!1,error:null}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,b){console.error("ClientErrorBoundary caught an error:",a,b)}resetError=()=>{this.setState({hasError:!1,error:null})};render(){if(this.state.hasError){let a=this.props.fallback||d.ErrorFallback;return(0,b.jsx)(a,{error:this.state.error,resetError:this.resetError})}return this.props.children}}a.s(["ClientErrorBoundary",()=>e])},26910,a=>{"use strict";let b=(0,a.i(31261).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);a.s(["Package",()=>b],26910)},83522,a=>{"use strict";let b=(0,a.i(31261).default)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]);a.s(["ShoppingBag",()=>b],83522)},25792,a=>{"use strict";let b=(0,a.i(31261).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>b],25792)},78807,a=>{"use strict";let b=(0,a.i(31261).default)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]]);a.s(["Clock",()=>b],78807)},37897,a=>{"use strict";let b=(0,a.i(31261).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],37897)},36714,a=>{"use strict";let b=(0,a.i(31261).default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);a.s(["Truck",()=>b],36714)},18253,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(47940),e=a.i(93609),f=a.i(70579),g=a.i(83522),h=a.i(22663),i=a.i(63062),j=a.i(26910),k=a.i(65718),l=a.i(25792),m=a.i(78807),n=a.i(36714),o=a.i(79373),p=a.i(37897),q=a.i(97763),r=a.i(35971),s=a.i(13916),t=a.i(92522),u=a.i(52485);a.i(59888);var v=a.i(98534);function w(){return(0,b.jsx)(d.ClientErrorBoundary,{children:(0,b.jsx)(x,{})})}function x(){let a=(0,e.useRouter)(),{isAuthenticated:d,user:w}=(0,r.useAuth)(),[x,y]=(0,c.useState)([]),[z,A]=(0,c.useState)(!0),[B,C]=(0,c.useState)(null),[D,E]=(0,c.useState)("all"),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)(null),J=(0,c.useCallback)(async()=>{try{A(!0);let a={as:"seller"};"all"!==D&&(a.status=D);let b=await q.ordersAPI.getOrders(a);y(b.data.data||[])}catch(a){console.error("Failed to fetch orders:",a),v.toast.error("Failed to load orders."),v.toast.error("Failed to load orders"),G({type:"error",text:"Failed to load orders"})}finally{A(!1)}},[D]);(0,c.useEffect)(()=>{d?w?.role!=="seller"&&w?.role!=="admin"?a.push("/products"):J():a.push("/login")},[d,w,a,J]);let K=async(a,b)=>{C(a),G(null);try{await q.ordersAPI.updateOrderStatus(a,{status:b}),y(x.map(c=>c._id===a?{...c,status:b}:c)),G({type:"success",text:`Order marked as ${b}`})}catch(a){G({type:"error",text:a instanceof Error&&"response"in a&&a.response?.data?.message||"Failed to update order status"})}finally{C(null)}},L=a=>({pending:"confirmed",confirmed:"shipped",shipped:"delivered",delivered:null,cancelled:null,refunded:null})[a]||null;return z?(0,b.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,b.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3 mb-8",children:[(0,b.jsx)("div",{className:"h-8 w-8 bg-muted rounded-full animate-pulse"}),(0,b.jsx)("div",{className:"h-8 bg-muted rounded w-48 animate-pulse"})]}),(0,b.jsx)(u.OrderListSkeleton,{count:5})]})}):(0,b.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,b.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3 mb-8",children:[(0,b.jsx)(g.ShoppingBag,{className:"h-8 w-8 text-primary"}),(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Seller Orders"})]}),F&&(0,b.jsxs)("div",{className:`mb-4 p-3 rounded-lg flex items-center space-x-2 ${"success"===F.type?"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-400":"bg-destructive/10 text-destructive"}`,children:["success"===F.type?(0,b.jsx)(k.CheckCircle,{className:"h-4 w-4 flex-shrink-0"}):(0,b.jsx)(o.AlertCircle,{className:"h-4 w-4 flex-shrink-0"}),(0,b.jsx)("p",{className:"text-sm",children:F.text})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mb-6",children:["all","pending","confirmed","shipped","delivered","cancelled"].map(a=>(0,b.jsx)(t.default,{variant:D===a?"primary":"outline",onClick:()=>E(a),size:"sm",className:"capitalize",children:a},a))}),0===x.length?(0,b.jsxs)("div",{className:"text-center py-16",children:[(0,b.jsx)(g.ShoppingBag,{className:"h-24 w-24 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"No orders yet"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"all"===D?"Orders will appear here when customers purchase your products":`No ${D} orders found`})]}):(0,b.jsx)("div",{className:"space-y-4",children:x.map(a=>{var c;let d=L(a.status);return(0,b.jsxs)("div",{className:"rounded-lg border bg-card overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-4 cursor-pointer hover:bg-muted/50 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,b.jsxs)("span",{className:"font-semibold text-lg",children:["#",a.orderNumber]}),(0,b.jsxs)("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center space-x-1 ${(a=>{switch(a){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"confirmed":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"shipped":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"delivered":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"refunded":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}})(a.status)}`,children:[(a=>{switch(a){case"pending":return(0,b.jsx)(m.Clock,{className:"h-4 w-4"});case"confirmed":case"delivered":return(0,b.jsx)(k.CheckCircle,{className:"h-4 w-4"});case"shipped":return(0,b.jsx)(n.Truck,{className:"h-4 w-4"});case"cancelled":return(0,b.jsx)(l.XCircle,{className:"h-4 w-4"});case"refunded":return(0,b.jsx)(o.AlertCircle,{className:"h-4 w-4"});default:return(0,b.jsx)(j.Package,{className:"h-4 w-4"})}})(a.status),(0,b.jsx)("span",{className:"capitalize",children:a.status})]})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date(a.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-primary",children:(0,s.formatPrice)(a.totalPrice)}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground capitalize",children:a.paymentMethod})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[a.product?.images?.[0]?(0,b.jsx)("div",{className:"relative h-16 w-16 rounded-lg overflow-hidden bg-muted flex-shrink-0",children:(0,b.jsx)(f.default,{src:a.product.images[0],alt:a.product.title,fill:!0,className:"object-cover"})}):(0,b.jsx)("div",{className:"h-16 w-16 rounded-lg bg-muted flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(j.Package,{className:"h-8 w-8 text-muted-foreground"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-semibold truncate",children:a.product?.title}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Qty: ",a.quantity," Ã— ",(0,s.formatPrice)(a.product?.price||0)]})]}),(0,b.jsx)(t.default,{variant:"ghost",size:"sm",onClick:()=>{var b;I(H===(b=a._id)?null:b)},children:H===a._id?(0,b.jsx)(p.ChevronRight,{className:"h-4 w-4 rotate-90"}):(0,b.jsx)(p.ChevronRight,{className:"h-4 w-4"})})]})]}),H===a._id&&(0,b.jsxs)("div",{className:"border-t border-border p-4 space-y-4 bg-muted/20",children:[(0,b.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,b.jsx)(h.User,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-semibold mb-1",children:"Buyer Information"}),(0,b.jsx)("p",{className:"text-sm",children:a.buyer?.name}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.buyer?.email}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.buyer?.phone})]})]}),(0,b.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,b.jsx)(i.MapPin,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-semibold mb-1",children:"Shipping Address"}),a.shippingAddress?(0,b.jsxs)("div",{className:"text-sm space-y-0.5",children:[a.shippingAddress.street&&(0,b.jsx)("p",{children:a.shippingAddress.street}),a.shippingAddress.building&&(0,b.jsx)("p",{children:a.shippingAddress.building}),a.shippingAddress.room&&(0,b.jsxs)("p",{children:["Room ",a.shippingAddress.room]}),a.shippingAddress.city&&(0,b.jsx)("p",{children:a.shippingAddress.city}),a.shippingAddress.landmarks&&(0,b.jsxs)("p",{className:"text-muted-foreground",children:["Near: ",a.shippingAddress.landmarks]})]}):(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No shipping address provided"})]})]}),a.notes&&(0,b.jsxs)("div",{className:"p-3 bg-muted rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm font-medium mb-1",children:"Order Notes:"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.notes})]}),(0,b.jsxs)("div",{className:"p-3 bg-muted rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm font-medium mb-2",children:"Product Details"}),(0,b.jsxs)("div",{className:"flex items-start space-x-3",children:[a.product?.images?.[0]?(0,b.jsx)("div",{className:"relative h-20 w-20 rounded overflow-hidden bg-muted flex-shrink-0",children:(0,b.jsx)(f.default,{src:a.product.images[0],alt:a.product.title,fill:!0,className:"object-cover"})}):(0,b.jsx)("div",{className:"h-20 w-20 rounded bg-muted flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(j.Package,{className:"h-10 w-10 text-muted-foreground"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-semibold",children:a.product?.title}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:a.product?.description}),(0,b.jsxs)("p",{className:"text-sm",children:["Condition: ",(0,b.jsx)("span",{className:"capitalize",children:a.product?.condition})]}),(0,b.jsxs)("p",{className:"text-sm",children:["Category: ",a.product?.category?.name]})]})]})]}),null!==d&&"cancelled"!==a.status&&"refunded"!==a.status&&(0,b.jsxs)("div",{className:"flex space-x-2 pt-2",children:[(0,b.jsx)(t.default,{variant:"primary",onClick:()=>K(a._id,d),disabled:B===a._id,isLoading:B===a._id,className:"flex-1",children:L(c=a.status)?({pending:"Confirm Order",confirmed:"Mark as Shipped",shipped:"Mark as Delivered"})[c]||"Update Status":"Completed"}),"pending"===a.status&&(0,b.jsx)(t.default,{variant:"danger",onClick:()=>{confirm("Are you sure you want to cancel this order?")&&K(a._id,"cancelled")},disabled:B===a._id,children:"Cancel"})]})]})]},a._id)})})]})})}a.s(["default",()=>w])}];

//# sourceMappingURL=frontend_a1202137._.js.map