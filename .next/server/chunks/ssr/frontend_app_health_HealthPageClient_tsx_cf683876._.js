module.exports=[28161,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(51600),e=a.i(31261);let f=(0,e.default)("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),g=(0,e.default)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),h=(0,e.default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),i=(0,e.default)("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]]),j=(0,e.default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var k=a.i(78807);let l=(0,e.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var m=a.i(25792),n=a.i(79373),o=a.i(94674),p=a.i(70726);let q=async()=>(await p.api.get("/health/detailed")).data;var r=a.i(92522);function s(){let[a,e]=(0,c.useState)(null),[p,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)(!1),x=async()=>{try{s(!0),u(null);let a=await q();e(a)}catch(a){u(a instanceof Error?a.message:"Failed to fetch health data")}finally{s(!1)}};(0,c.useEffect)(()=>{if(x(),v){let a=setInterval(x,5e3);return()=>clearInterval(a)}},[v]);let y=a=>"boolean"==typeof a?a?(0,b.jsx)(l,{className:"h-5 w-5 text-green-500"}):(0,b.jsx)(m.XCircle,{className:"h-5 w-5 text-red-500"}):"connected"===a||"ok"===a?(0,b.jsx)(l,{className:"h-5 w-5 text-green-500"}):(0,b.jsx)(n.AlertCircle,{className:"h-5 w-5 text-yellow-500"}),z=a=>"boolean"==typeof a?a?"text-green-500":"text-red-500":"connected"===a||"ok"===a?"text-green-500":"text-yellow-500";return p&&!a?(0,b.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(d.RefreshCw,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-primary"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Loading health data..."})]})})}):t&&!a?(0,b.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,b.jsxs)(o.Card,{className:"max-w-md w-full",children:[(0,b.jsx)(o.CardHeader,{children:(0,b.jsxs)(o.CardTitle,{className:"flex items-center gap-2 text-red-500",children:[(0,b.jsx)(m.XCircle,{className:"h-6 w-6"}),"Error Loading Health Data"]})}),(0,b.jsxs)(o.CardContent,{children:[(0,b.jsx)("p",{className:"text-muted-foreground mb-4",children:t}),(0,b.jsxs)(r.default,{onClick:x,className:"w-full",children:[(0,b.jsx)(d.RefreshCw,{className:"h-4 w-4 mr-2"}),"Retry"]})]})]})})}):a?(0,b.jsxs)("div",{className:"container mx-auto px-4 py-16",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-4xl font-bold mb-2 flex items-center gap-3",children:[(0,b.jsx)(h,{className:"h-10 w-10 text-primary"}),"System Health Monitor"]}),(0,b.jsx)("p",{className:"text-muted-foreground text-lg",children:"Real-time monitoring of Campus Market infrastructure"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(r.default,{onClick:x,disabled:p,variant:"outline",children:[(0,b.jsx)(d.RefreshCw,{className:`h-4 w-4 mr-2 ${p?"animate-spin":""}`}),"Refresh"]}),(0,b.jsx)(r.default,{onClick:()=>w(!v),variant:v?"primary":"outline",children:v?"Auto: ON":"Auto: OFF"})]})]}),(0,b.jsxs)(o.Card,{className:"mb-6 border-2",children:[(0,b.jsx)(o.CardHeader,{children:(0,b.jsxs)(o.CardTitle,{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)(f,{className:"h-6 w-6 text-primary"}),"System Status"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[y(a.status),(0,b.jsx)("span",{className:`text-2xl font-bold ${z(a.status)}`,children:a.status.toUpperCase()})]})]})}),(0,b.jsx)(o.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Environment"}),(0,b.jsx)("p",{className:"text-lg font-semibold",children:a.environment})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Uptime"}),(0,b.jsx)("p",{className:"text-lg font-semibold",children:a.uptime_formatted})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Node Version"}),(0,b.jsx)("p",{className:"text-lg font-semibold",children:a.node_version})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Last Check"}),(0,b.jsx)("p",{className:"text-lg font-semibold",children:new Date(a.timestamp).toLocaleTimeString()})]})]})})]}),(0,b.jsxs)(o.Card,{className:"mb-6",children:[(0,b.jsx)(o.CardHeader,{children:(0,b.jsxs)(o.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(g,{className:"h-6 w-6 text-primary"}),"Database Status",y(a.database.status)]})}),(0,b.jsxs)(o.CardContent,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Status"}),(0,b.jsx)("p",{className:`text-lg font-semibold ${z(a.database.status)}`,children:a.database.status})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Host"}),(0,b.jsx)("p",{className:"text-lg font-semibold",children:a.database.host})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Port"}),(0,b.jsx)("p",{className:"text-lg font-semibold",children:a.database.port})]})]}),a.database.stats&&!a.database.stats.error&&(0,b.jsxs)("div",{className:"border-t pt-4",children:[(0,b.jsx)("h3",{className:"font-semibold mb-3",children:"Database Statistics"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Database"}),(0,b.jsx)("p",{className:"font-semibold",children:a.database.stats.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Collections"}),(0,b.jsx)("p",{className:"font-semibold",children:a.database.stats.collections})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Data Size"}),(0,b.jsx)("p",{className:"font-semibold",children:a.database.stats.dataSize})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Storage Size"}),(0,b.jsx)("p",{className:"font-semibold",children:a.database.stats.storageSize})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Objects"}),(0,b.jsx)("p",{className:"font-semibold",children:a.database.stats.objects?.toLocaleString()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Indexes"}),(0,b.jsx)("p",{className:"font-semibold",children:a.database.stats.indexes})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Index Size"}),(0,b.jsx)("p",{className:"font-semibold",children:a.database.stats.indexSize})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Avg Object Size"}),(0,b.jsxs)("p",{className:"font-semibold",children:[a.database.stats.avgObjSize," bytes"]})]})]}),a.database.stats.collectionNames&&(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Collections:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:a.database.stats.collectionNames.map(a=>(0,b.jsx)("span",{className:"px-3 py-1 bg-secondary text-secondary-foreground rounded-full text-sm",children:a},a))})]})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,b.jsxs)(o.Card,{children:[(0,b.jsx)(o.CardHeader,{children:(0,b.jsxs)(o.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(i,{className:"h-6 w-6 text-primary"}),"Memory Usage"]})}),(0,b.jsx)(o.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Heap Used"}),(0,b.jsx)("span",{className:"font-semibold",children:a.memory.heapUsed})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Heap Total"}),(0,b.jsx)("span",{className:"font-semibold",children:a.memory.heapTotal})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"RSS"}),(0,b.jsx)("span",{className:"font-semibold",children:a.memory.rss})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"External"}),(0,b.jsx)("span",{className:"font-semibold",children:a.memory.external})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Array Buffers"}),(0,b.jsx)("span",{className:"font-semibold",children:a.memory.arrayBuffers})]})]})})]}),(0,b.jsxs)(o.Card,{children:[(0,b.jsx)(o.CardHeader,{children:(0,b.jsxs)(o.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(j,{className:"h-6 w-6 text-primary"}),"System Info"]})}),(0,b.jsx)(o.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Platform"}),(0,b.jsx)("span",{className:"font-semibold",children:a.platform})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Architecture"}),(0,b.jsx)("span",{className:"font-semibold",children:a.architecture})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"CPU Usage (User)"}),(0,b.jsxs)("span",{className:"font-semibold",children:[a.cpu.usage.user," μs"]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"CPU Usage (System)"}),(0,b.jsxs)("span",{className:"font-semibold",children:[a.cpu.usage.system," μs"]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Process ID"}),(0,b.jsx)("span",{className:"font-semibold",children:a.process.pid})]})]})})]})]}),(0,b.jsxs)(o.Card,{className:"mb-6",children:[(0,b.jsx)(o.CardHeader,{children:(0,b.jsxs)(o.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(h,{className:"h-6 w-6 text-primary"}),"Socket.io Connections"]})}),(0,b.jsx)(o.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Active Connections"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-primary",children:a.sockets.activeConnections})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Namespace Connections"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-primary",children:a.sockets.totalConnections})]})]})})]}),(0,b.jsxs)(o.Card,{className:"mb-6",children:[(0,b.jsx)(o.CardHeader,{children:(0,b.jsxs)(o.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(f,{className:"h-6 w-6 text-primary"}),"API Information"]})}),(0,b.jsx)(o.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Name"}),(0,b.jsx)("span",{className:"font-semibold",children:a.api.name})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Version"}),(0,b.jsx)("span",{className:"font-semibold",children:a.api.version})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Description"}),(0,b.jsx)("span",{className:"font-semibold text-right max-w-md",children:a.api.description})]})]})})]}),(0,b.jsxs)("div",{className:"text-center text-sm text-muted-foreground",children:[(0,b.jsx)(k.Clock,{className:"h-4 w-4 inline mr-2"}),"Last updated: ",new Date(a.timestamp).toLocaleString()]})]}):null}a.s(["default",()=>s],28161)}];

//# sourceMappingURL=frontend_app_health_HealthPageClient_tsx_cf683876._.js.map