module.exports=[47940,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(32722);class e extends c.Component{constructor(a){super(a),this.state={hasError:!1,error:null}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,b){console.error("ClientErrorBoundary caught an error:",a,b)}resetError=()=>{this.setState({hasError:!1,error:null})};render(){if(this.state.hasError){let a=this.props.fallback||d.ErrorFallback;return(0,b.jsx)(a,{error:this.state.error,resetError:this.resetError})}return this.props.children}}a.s(["ClientErrorBoundary",()=>e])},26910,a=>{"use strict";let b=(0,a.i(31261).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);a.s(["Package",()=>b],26910)},73904,a=>{"use strict";var b=a.i(57850),c=a.i(70579),d=a.i(13916),e=a.i(45056),f=a.i(62129);function g({className:a,aspectRatio:c,width:e,height:f}){return(0,b.jsx)("div",{className:(0,d.cn)("animate-pulse bg-muted rounded-lg overflow-hidden relative",c?({square:"aspect-square",video:"aspect-video",portrait:"aspect-[3/4]",landscape:"aspect-[4/3]"})[c]:"",a),style:{width:e,height:f},"aria-hidden":"true",children:(0,b.jsx)("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-muted-foreground/10 to-transparent animate-shimmer"})})}let h=(0,e.memo)(function({src:a,alt:h,fill:i=!1,width:j,height:k,className:l,priority:m=!1,sizes:n,showFallback:o=!0,fallbackText:p="No Image",showSkeleton:q=!1,blurColor:r=f.BLUR_COLORS.product}){let[s,t]=(0,e.useState)(!0),[u,v]=(0,e.useState)(!1),w=(0,e.useMemo)(()=>a?(0,f.generateCloudinaryBlurDataURL)(a)||(0,f.generateColoredBlurDataURL)(r):f.DEFAULT_BLUR_DATA_URL,[a,r]),x=(0,e.useMemo)(()=>(0,b.jsx)("div",{className:(0,d.cn)("w-full h-full flex items-center justify-center text-muted-foreground text-sm",l),children:p}),[l,p]),y=(0,e.useCallback)(()=>t(!1),[]),z=(0,e.useCallback)(()=>v(!0),[]);if(!a||u)return o?x:null;let A=(0,e.useMemo)(()=>({src:a,alt:h,...m&&{priority:m},sizes:n,...i?{fill:!0,className:(0,d.cn)("object-cover transition-opacity duration-500 ease-in-out",s?"opacity-0":"opacity-100",l)}:{width:j,height:k,className:(0,d.cn)("object-cover transition-opacity duration-500 ease-in-out",s?"opacity-0":"opacity-100",l)},onLoad:y,onError:z,placeholder:"blur",blurDataURL:w||f.DEFAULT_BLUR_DATA_URL}),[a,h,m,n,i,j,k,l,s,y,z,w]);return(0,b.jsxs)(b.Fragment,{children:[s&&q&&(0,b.jsx)("div",{className:"absolute inset-0 z-10",children:(0,b.jsx)(g,{className:"w-full h-full"})}),(0,b.jsx)(c.default,{...A})]})});a.s(["default",0,h],73904)},25792,a=>{"use strict";let b=(0,a.i(31261).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>b],25792)},78807,a=>{"use strict";let b=(0,a.i(31261).default)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]]);a.s(["Clock",()=>b],78807)},81651,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(93609),e=a.i(59843),f=a.i(26910),g=a.i(81353),h=a.i(97763),i=a.i(35971),j=a.i(52485),k=a.i(73904),l=a.i(78807),m=a.i(65718),n=a.i(25792),o=a.i(13916);let p=(0,c.memo)(function({order:a}){let d=(0,c.useMemo)(()=>{let c="h-5 w-5";switch(a.status){case"pending":return(0,b.jsx)(l.Clock,{className:`${c} text-yellow-500`,"aria-hidden":"true"});case"confirmed":return(0,b.jsx)(m.CheckCircle,{className:`${c} text-blue-500`,"aria-hidden":"true"});case"shipped":return(0,b.jsx)(f.Package,{className:`${c} text-purple-500`,"aria-hidden":"true"});case"delivered":return(0,b.jsx)(m.CheckCircle,{className:`${c} text-green-500`,"aria-hidden":"true"});case"cancelled":return(0,b.jsx)(n.XCircle,{className:`${c} text-red-500`,"aria-hidden":"true"});default:return(0,b.jsx)(l.Clock,{className:`${c} text-gray-500`,"aria-hidden":"true"})}},[a.status]),g=(0,c.useMemo)(()=>{switch(a.status){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"confirmed":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"shipped":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"delivered":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},[a.status]),h=(0,c.useMemo)(()=>{switch(a.paymentStatus){case"completed":return"text-green-500";case"pending":return"text-yellow-500";case"failed":return"text-red-500";default:return"text-gray-500"}},[a.paymentStatus]),i=(0,c.useMemo)(()=>new Date(a.createdAt).toLocaleDateString(),[a.createdAt]),j=(0,c.useMemo)(()=>(0,o.formatPrice)(a.totalPrice),[a.totalPrice]);return(0,b.jsx)(e.default,{href:`/buyer/orders/${a._id}`,className:"block rounded-lg border bg-card p-6 hover:border-primary transition-colors focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ring","aria-label":`View order ${a.orderNumber} for ${a.product.title}, status: ${a.status}, price: ${j}`,children:(0,b.jsxs)("article",{className:"flex gap-4",children:[(0,b.jsx)("div",{className:"relative w-20 h-20 rounded-lg overflow-hidden bg-muted flex-shrink-0",children:(0,b.jsx)(k.default,{src:a.product.images?.[0],alt:`Product image for ${a.product.title}`,fill:!0})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:"font-semibold truncate",id:`order-${a._id}-title`,children:a.product.title}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Order #",a.orderNumber]})]}),(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g}`,"aria-label":`Order status: ${a.status}`,children:a.status})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[d,(0,b.jsx)("p",{className:`text-sm font-medium ${h}`,"aria-label":`Payment status: ${a.paymentStatus}`,children:a.paymentStatus})]}),(0,b.jsx)("p",{className:"text-lg font-bold text-primary","aria-labelledby":`order-${a._id}-title`,children:j})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:(0,b.jsx)("time",{dateTime:a.createdAt,"aria-label":`Order placed on ${i}`,children:i})})]})]})})});var q=a.i(47940);a.i(59888);var r=a.i(98534);function s(){return(0,b.jsx)(q.ClientErrorBoundary,{children:(0,b.jsx)(t,{})})}function t(){let a=(0,d.useRouter)(),{isAuthenticated:k}=(0,i.useAuth)(),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!0),[q,s]=(0,c.useState)("all"),t=(0,c.useCallback)(async()=>{if(k)try{let a=await h.ordersAPI.getOrders({as:"buyer"});m(a.data.data||[])}catch(a){console.error("Failed to fetch orders:",a),r.toast.error("Failed to load orders. Please try again.")}finally{o(!1)}},[k]);(0,c.useEffect)(()=>{k?t():a.push("/login")},[k,a,t]);let u=(0,c.useMemo)(()=>"all"===q?l:l.filter(a=>a.status===q),[l,q]),v=(0,c.useCallback)(a=>{s(a)},[]);return n?(0,b.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"h-8 w-8 bg-muted rounded-full animate-pulse"}),(0,b.jsx)("div",{className:"h-8 bg-muted rounded w-48 animate-pulse"})]})}),(0,b.jsx)(j.OrderListSkeleton,{count:5})]})}):(0,b.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(g.ShoppingCart,{className:"h-8 w-8 text-primary"}),(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"My Orders"})]})}),(0,b.jsxs)("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:[(0,b.jsx)("button",{onClick:()=>v("all"),className:`px-4 py-2 rounded-lg transition-colors ${"all"===q?"bg-primary text-primary-foreground":"bg-card border hover:bg-accent"}`,children:"All"}),(0,b.jsx)("button",{onClick:()=>v("pending"),className:`px-4 py-2 rounded-lg transition-colors ${"pending"===q?"bg-primary text-primary-foreground":"bg-card border hover:bg-accent"}`,children:"Pending"}),(0,b.jsx)("button",{onClick:()=>v("confirmed"),className:`px-4 py-2 rounded-lg transition-colors ${"confirmed"===q?"bg-primary text-primary-foreground":"bg-card border hover:bg-accent"}`,children:"Confirmed"}),(0,b.jsx)("button",{onClick:()=>v("shipped"),className:`px-4 py-2 rounded-lg transition-colors ${"shipped"===q?"bg-primary text-primary-foreground":"bg-card border hover:bg-accent"}`,children:"Shipped"}),(0,b.jsx)("button",{onClick:()=>v("delivered"),className:`px-4 py-2 rounded-lg transition-colors ${"delivered"===q?"bg-primary text-primary-foreground":"bg-card border hover:bg-accent"}`,children:"Delivered"})]}),0===l.length?(0,b.jsxs)("div",{className:"text-center py-16",children:[(0,b.jsx)(f.Package,{className:"h-24 w-24 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"No orders yet"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-6",children:"all"===q?"You haven't placed any orders yet":`You don't have any ${q} orders`}),(0,b.jsx)(e.default,{href:"/products",className:"inline-flex items-center space-x-2 px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:(0,b.jsx)("span",{children:"Browse Products"})})]}):(0,b.jsx)("div",{className:"space-y-4",children:u.map(a=>(0,b.jsx)(p,{order:a},a._id))})]})})}a.s(["default",()=>s],81651)}];

//# sourceMappingURL=frontend_5c067c88._.js.map