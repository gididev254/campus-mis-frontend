module.exports=[92522,a=>{"use strict";var b=a.i(57850),c=a.i(13916);function d({children:a,className:d,variant:e="primary",size:f="md",isLoading:g=!1,loadingText:h,disabled:i,...j}){return(0,b.jsx)("button",{type:j.type||"button",className:(0,c.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-ring disabled:opacity-50 disabled:pointer-events-none disabled:cursor-not-allowed",{primary:"bg-primary text-primary-foreground hover:opacity-90 focus-visible:ring-primary",secondary:"bg-secondary text-secondary-foreground hover:opacity-90 focus-visible:ring-secondary",outline:"border border-border hover:bg-accent hover:text-accent-foreground focus-visible:ring-border",ghost:"hover:bg-accent hover:text-accent-foreground focus-visible:ring-accent",danger:"bg-destructive text-destructive-foreground hover:opacity-90 focus-visible:ring-destructive"}[e],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[f],d),disabled:i||g,"aria-live":g?"polite":void 0,"aria-busy":g,...j,children:g?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",role:"img",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,b.jsx)("span",{children:h||"Loading..."})]}):a})}a.s(["default",()=>d])},63062,a=>{"use strict";let b=(0,a.i(31261).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],63062)},18188,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(13916);function e({label:a,error:e,helperText:f,className:g,id:h,...i}){let j=c.default.useId(),k=h||j,l=e?`${k}-error`:void 0,m=f?`${k}-helper`:void 0,n=[l,m].filter(Boolean).join(" ")||void 0;return(0,b.jsxs)("div",{className:"w-full",children:[a&&(0,b.jsxs)("label",{htmlFor:k,className:"block text-sm font-medium mb-1.5 text-foreground",children:[a,i.required&&(0,b.jsx)("span",{className:"text-destructive ml-1","aria-label":"required",children:"*"})]}),(0,b.jsx)("input",{id:k,"aria-invalid":e?"true":"false","aria-describedby":n,"aria-required":i.required?"true":void 0,className:(0,d.cn)("w-full px-4 py-2.5 rounded-lg border border-input bg-background text-foreground","placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent focus-visible:ring-2 focus-visible:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed",e&&"border-destructive focus:ring-destructive focus-visible:ring-destructive",g),...i}),e&&(0,b.jsx)("p",{id:l,className:"mt-1 text-sm text-destructive",role:"alert","aria-live":"assertive",children:e}),f&&!e&&(0,b.jsx)("p",{id:m,className:"mt-1 text-sm text-muted-foreground",children:f})]})}a.s(["default",()=>e])},74155,a=>{"use strict";let b=(0,a.i(31261).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>b],74155)},89698,a=>{"use strict";let b=(0,a.i(31261).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);a.s(["Phone",()=>b],89698)},71907,a=>{"use strict";let b=(0,a.i(31261).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);a.s(["Mail",()=>b],71907)},80575,a=>{"use strict";let b=(0,a.i(31261).default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);a.s(["Edit2",()=>b],80575)},65589,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(93609),e=a.i(22663),f=a.i(71907),g=a.i(89698),h=a.i(63062),i=a.i(80575),j=a.i(65718),k=a.i(79373),l=a.i(74155),m=a.i(18521),n=a.i(1892),o=a.i(84588),p=a.i(35971),q=a.i(60328),r=a.i(92522),s=a.i(18188),t=a.i(52485);a.i(59888);var u=a.i(98534);function v(){let a=(0,d.useRouter)(),{user:v,updateUser:w,isAuthenticated:x}=(0,p.useAuth)(),[y,z]=(0,c.useState)(!0),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)(""),[G,H]=(0,c.useState)(""),{register:I,handleSubmit:J,reset:K,formState:{errors:L,isSubmitting:M},setError:N}=(0,m.useForm)({resolver:(0,n.zodResolver)(q.profileUpdateSchema),mode:"onBlur"}),{register:O,handleSubmit:P,reset:Q,watch:R,formState:{errors:S,isSubmitting:T},setError:U}=(0,m.useForm)({resolver:(0,n.zodResolver)(q.passwordChangeSchema),mode:"onBlur"}),V=R("newPassword"),W=R("confirmPassword");(0,c.useEffect)(()=>{x?z(!1):a.push("/login")},[x,a]),(0,c.useEffect)(()=>{v&&K({name:v.name||"",phone:v.phone||"",location:v.location||""})},[v,K]);let X=async a=>{H(""),F("");try{let b=await o.authAPI.updateProfile(a);w(b.data.user),u.toast.success("Profile updated successfully!"),F("Profile updated successfully!"),B(!1),setTimeout(()=>F(""),3e3)}catch(b){let a=b instanceof Error&&"response"in b&&b.response?.data?.message||"Failed to update profile";H(a),u.toast.error(a),N("root",{type:"manual",message:a})}},Y=async a=>{H(""),F("");try{await o.authAPI.changePassword({currentPassword:a.currentPassword,newPassword:a.newPassword}),u.toast.success("Password changed successfully!"),F("Password changed successfully!"),D(!1),Q(),setTimeout(()=>F(""),3e3)}catch(b){let a=b instanceof Error&&"response"in b&&b.response?.data?.message||"Failed to change password";H(a),u.toast.error(a),U("root",{type:"manual",message:a})}};return y?(0,b.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,b.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,b.jsx)(t.ProfileSkeleton,{showAvatar:!0,showStats:!1})})}):(0,b.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,b.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[E&&(0,b.jsxs)("div",{className:"flex items-center gap-2 p-4 rounded-lg bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:[(0,b.jsx)(l.Check,{className:"h-5 w-5 text-green-600 dark:text-green-400 flex-shrink-0"}),(0,b.jsx)("p",{className:"text-sm text-green-800 dark:text-green-200",children:E})]}),G&&(0,b.jsxs)("div",{className:"flex items-center gap-2 p-4 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",children:[(0,b.jsx)(k.AlertCircle,{className:"h-5 w-5 text-red-600 dark:text-red-400 flex-shrink-0"}),(0,b.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200",children:G})]}),(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(e.User,{className:"h-8 w-8 text-primary"}),(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"My Profile"})]})}),(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold",children:"Profile Information"}),!A&&(0,b.jsx)(r.default,{variant:"ghost",size:"sm",onClick:()=>B(!0),"aria-label":"Edit profile",className:"p-2",children:(0,b.jsx)(i.Edit2,{className:"h-5 w-5"})})]}),A?(0,b.jsxs)("form",{onSubmit:J(X),className:"space-y-4",noValidate:!0,children:[L.root&&(0,b.jsx)("div",{className:"mb-4 p-3 rounded-lg bg-destructive/10 text-destructive text-sm",children:L.root.message}),(0,b.jsx)(s.default,{id:"name",label:"Name",type:"text",error:L.name?.message,...I("name")}),(0,b.jsx)(s.default,{id:"email",label:"Email",type:"email",value:v?.email||"",disabled:!0,className:"opacity-50"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground -mt-3",children:"Email cannot be changed"}),(0,b.jsx)(s.default,{id:"phone",label:"Phone",type:"tel",error:L.phone?.message,...I("phone")}),(0,b.jsx)(s.default,{id:"location",label:"Location",type:"text",error:L.location?.message,...I("location")}),(0,b.jsxs)("div",{className:"flex space-x-3",children:[(0,b.jsx)(r.default,{type:"submit",isLoading:M,className:"flex-1",children:"Save Changes"}),(0,b.jsx)(r.default,{type:"button",variant:"outline",onClick:()=>{B(!1),v&&K({name:v.name||"",phone:v.phone||"",location:v.location||""}),H("")},children:"Cancel"})]})]}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(e.User,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Name"}),(0,b.jsx)("p",{className:"font-medium",children:v?.name})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(f.Mail,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Email"}),(0,b.jsx)("p",{className:"font-medium",children:v?.email})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(g.Phone,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Phone"}),(0,b.jsx)("p",{className:"font-medium",children:v?.phone||"Not provided"})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(h.MapPin,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Location"}),(0,b.jsx)("p",{className:"font-medium",children:v?.location||"Not provided"})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(j.CheckCircle,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Account Status"}),(0,b.jsx)("p",{className:"font-medium capitalize",children:v?.role})]})]})]})]}),(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Change Password"}),C?(0,b.jsxs)("form",{onSubmit:P(Y),className:"space-y-4",noValidate:!0,children:[S.root&&(0,b.jsx)("div",{className:"mb-4 p-3 rounded-lg bg-destructive/10 text-destructive text-sm",children:S.root.message}),(0,b.jsx)(s.default,{id:"current-password",label:"Current Password",type:"password",error:S.currentPassword?.message,...O("currentPassword")}),(0,b.jsx)(s.default,{id:"new-password",label:"New Password",type:"password",error:S.newPassword?.message,...O("newPassword")}),(0,b.jsx)(s.default,{id:"confirm-password",label:"Confirm New Password",type:"password",error:S.confirmPassword?.message,...O("confirmPassword")}),W&&V&&(0,b.jsx)("div",{className:`text-xs ${V===W?"text-green-600 dark:text-green-400":"text-destructive"}`,children:V===W?"✓ Passwords match":"✗ Passwords do not match"}),(0,b.jsxs)("div",{className:"flex space-x-3",children:[(0,b.jsx)(r.default,{type:"submit",isLoading:T,className:"flex-1",children:"Change Password"}),(0,b.jsx)(r.default,{type:"button",variant:"outline",onClick:()=>{D(!1),Q(),H("")},children:"Cancel"})]})]}):(0,b.jsx)(r.default,{type:"button",variant:"outline",onClick:()=>D(!0),children:"Change Password"})]})]})})}a.s(["default",()=>v])}];

//# sourceMappingURL=frontend_ade88463._.js.map