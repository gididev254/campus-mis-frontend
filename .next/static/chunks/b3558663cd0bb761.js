(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,38116,e=>{"use strict";var s=e.i(48277),r=e.i(99738);function t({children:e,className:t}){return(0,s.jsx)("div",{className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),children:e})}function a({children:e,className:t}){return(0,s.jsx)("div",{className:(0,r.cn)("flex flex-col space-y-1.5 p-6",t),children:e})}function d({children:e,className:t}){return(0,s.jsx)("h3",{className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",t),children:e})}function l({children:e,className:t}){return(0,s.jsx)("p",{className:(0,r.cn)("text-sm text-muted-foreground",t),children:e})}function i({children:e,className:t}){return(0,s.jsx)("div",{className:(0,r.cn)("p-6 pt-0",t),children:e})}e.s(["Card",()=>t,"CardContent",()=>i,"CardDescription",()=>l,"CardHeader",()=>a,"CardTitle",()=>d])},35384,e=>{"use strict";var s=e.i(48277),r=e.i(30668),t=e.i(46669);class a extends r.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){console.error("ClientErrorBoundary caught an error:",e,s)}resetError=()=>{this.setState({hasError:!1,error:null})};render(){if(this.state.hasError){let e=this.props.fallback||t.ErrorFallback;return(0,s.jsx)(e,{error:this.state.error,resetError:this.resetError})}return this.props.children}}e.s(["ClientErrorBoundary",()=>a])},59484,e=>{"use strict";let s=(0,e.i(35884).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>s],59484)},12463,e=>{"use strict";let s=(0,e.i(35884).default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);e.s(["Heart",()=>s],12463)},90294,e=>{"use strict";let s=(0,e.i(35884).default)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]);e.s(["ShoppingBag",()=>s],90294)},76053,e=>{"use strict";let s=(0,e.i(35884).default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);e.s(["MessageSquare",()=>s],76053)},25032,e=>{"use strict";var s=e.i(48277),r=e.i(30668),t=e.i(16506),a=e.i(96086),d=e.i(42588),l=e.i(90294),i=e.i(59484),n=e.i(76053),c=e.i(12463),o=e.i(40206),x=e.i(22195),h=e.i(99738),m=e.i(38116),u=e.i(35384);e.i(92544);var p=e.i(11897);function f(){let{user:e,isAuthenticated:u}=(0,o.useAuth)(),f=(0,a.useRouter)(),[j,g]=(0,r.useState)([]),[N,v]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{u||f.push("/login?redirect=/buyer")},[u,f]),(0,r.useEffect)(()=>{(async()=>{try{let e=await x.ordersAPI.getOrders({as:"buyer",limit:10});g(e.data.data)}catch(e){console.error("Failed to fetch orders:",e),p.toast.error("Failed to load orders. Please try again.")}finally{v(!1)}})()},[]),N)?(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"animate-pulse space-y-6",children:[(0,s.jsx)("div",{className:"h-8 bg-muted rounded w-1/3"}),(0,s.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,r)=>(0,s.jsx)("div",{className:"h-32 bg-muted rounded-lg"},r))})]})}):(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Buyer Dashboard"}),(0,s.jsxs)("p",{className:"text-muted-foreground",children:["Welcome back, ",e?.name]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,s.jsx)(t.default,{href:"/orders",className:"group",children:(0,s.jsxs)(m.Card,{className:"hover:shadow-lg transition-shadow",children:[(0,s.jsxs)(m.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(m.CardTitle,{className:"text-sm font-medium",children:"My Orders"}),(0,s.jsx)(i.Package,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary transition-colors"})]}),(0,s.jsxs)(m.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:j.length}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"total orders"})]})]})}),(0,s.jsx)(t.default,{href:"/messages",className:"group",children:(0,s.jsxs)(m.Card,{className:"hover:shadow-lg transition-shadow",children:[(0,s.jsxs)(m.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(m.CardTitle,{className:"text-sm font-medium",children:"Messages"}),(0,s.jsx)(n.MessageSquare,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary transition-colors"})]}),(0,s.jsxs)(m.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:"0"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"conversations"})]})]})}),(0,s.jsx)(t.default,{href:"/wishlist",className:"group",children:(0,s.jsxs)(m.Card,{className:"hover:shadow-lg transition-shadow",children:[(0,s.jsxs)(m.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(m.CardTitle,{className:"text-sm font-medium",children:"Wishlist"}),(0,s.jsx)(c.Heart,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary transition-colors"})]}),(0,s.jsxs)(m.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:"0"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"saved items"})]})]})}),(0,s.jsx)(t.default,{href:"/products",className:"group",children:(0,s.jsxs)(m.Card,{className:"hover:shadow-lg transition-shadow",children:[(0,s.jsxs)(m.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(m.CardTitle,{className:"text-sm font-medium",children:"Browse"}),(0,s.jsx)(l.ShoppingBag,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary transition-colors"})]}),(0,s.jsxs)(m.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:"Shop"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"find products"})]})]})})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Recent Orders"}),(0,s.jsx)(t.default,{href:"/orders",className:"text-primary hover:underline text-sm",children:"View All"})]}),(0,s.jsx)("div",{className:"space-y-4",children:0===j.length?(0,s.jsxs)("div",{className:"text-center py-16 text-muted-foreground",children:[(0,s.jsx)(i.Package,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,s.jsx)("p",{className:"mb-2",children:"No orders yet"}),(0,s.jsx)(t.default,{href:"/products",className:"text-primary hover:underline",children:"Start shopping"})]}):j.map(e=>(0,s.jsx)(t.default,{href:`/orders/${e._id}`,children:(0,s.jsxs)("div",{className:"flex items-center space-x-4 p-4 rounded-lg border bg-card hover:shadow-md transition-shadow",children:[(0,s.jsx)("div",{className:"w-16 h-16 rounded bg-muted overflow-hidden flex-shrink-0 relative",children:e.product.images?.[0]?(0,s.jsx)(d.default,{src:e.product.images[0],alt:e.product.title,fill:!0,className:"object-cover",sizes:"64px"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:"ðŸ“¦"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h3",{className:"font-medium truncate",children:e.product.title}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e.orderNumber})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"font-semibold",children:(0,h.formatPrice)(e.totalPrice)}),(0,s.jsx)("span",{className:`px-2 py-1 rounded-full text-xs ${"delivered"===e.status?"bg-green-100 text-green-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"cancelled"===e.status?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:e.status})]})]})},e._id))})]})]})}function j(){return(0,s.jsx)(u.ClientErrorBoundary,{children:(0,s.jsx)(f,{})})}e.s(["default",()=>j])}]);