(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,35384,e=>{"use strict";var s=e.i(48277),a=e.i(30668),l=e.i(46669);class r extends a.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){console.error("ClientErrorBoundary caught an error:",e,s)}resetError=()=>{this.setState({hasError:!1,error:null})};render(){if(this.state.hasError){let e=this.props.fallback||l.ErrorFallback;return(0,s.jsx)(e,{error:this.state.error,resetError:this.resetError})}return this.props.children}}e.s(["ClientErrorBoundary",()=>r])},80658,e=>{"use strict";var s=e.i(48277),a=e.i(99738);function l({children:e,className:l,variant:r="primary",size:d="md",isLoading:c=!1,loadingText:t,disabled:i,...n}){return(0,s.jsx)("button",{type:n.type||"button",className:(0,a.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-ring disabled:opacity-50 disabled:pointer-events-none disabled:cursor-not-allowed",{primary:"bg-primary text-primary-foreground hover:opacity-90 focus-visible:ring-primary",secondary:"bg-secondary text-secondary-foreground hover:opacity-90 focus-visible:ring-secondary",outline:"border border-border hover:bg-accent hover:text-accent-foreground focus-visible:ring-border",ghost:"hover:bg-accent hover:text-accent-foreground focus-visible:ring-accent",danger:"bg-destructive text-destructive-foreground hover:opacity-90 focus-visible:ring-destructive"}[r],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[d],l),disabled:i||c,"aria-live":c?"polite":void 0,"aria-busy":c,...n,children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",role:"img",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,s.jsx)("span",{children:t||"Loading..."})]}):e})}e.s(["default",()=>l])},36291,e=>{"use strict";var s=e.i(48277);let a=({className:e=""})=>(0,s.jsx)("div",{className:`animate-pulse rounded-md bg-muted ${e}`,role:"status","aria-label":"Loading",children:(0,s.jsx)("span",{className:"sr-only",children:"Loading..."})});e.s(["CategoryCardSkeleton",0,({count:e=1})=>(0,s.jsx)(s.Fragment,{children:Array.from({length:e}).map((e,l)=>(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)("div",{className:"w-16 h-16 rounded-full bg-muted animate-pulse"})}),(0,s.jsx)(a,{className:"h-6 w-3/4 mx-auto mb-3"}),(0,s.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,s.jsx)(a,{className:"h-3 w-full"}),(0,s.jsx)(a,{className:"h-3 w-2/3 mx-auto"})]}),(0,s.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,s.jsx)(a,{className:"h-4 w-24"})}),(0,s.jsx)(a,{className:"h-9 w-full"})]},l))}),"MessageListSkeleton",0,({count:e=5})=>(0,s.jsx)("div",{className:"space-y-2",children:Array.from({length:e}).map((e,l)=>(0,s.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-lg border bg-card hover:bg-accent/50",children:[(0,s.jsx)(a,{className:"h-12 w-12 rounded-full flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0 space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(a,{className:"h-4 w-32"}),(0,s.jsx)(a,{className:"h-3 w-20"})]}),(0,s.jsx)(a,{className:"h-3 w-3/4"})]})]},l))}),"OrderDetailSkeleton",0,()=>(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(a,{className:"h-8 w-64"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(a,{className:"h-6 w-24 rounded-full"}),(0,s.jsx)(a,{className:"h-6 w-32 rounded-full"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6 space-y-2",children:[(0,s.jsx)(a,{className:"h-4 w-20"}),(0,s.jsx)(a,{className:"h-6 w-32"})]}),(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6 space-y-2",children:[(0,s.jsx)(a,{className:"h-4 w-20"}),(0,s.jsx)(a,{className:"h-6 w-32"})]}),(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6 space-y-2",children:[(0,s.jsx)(a,{className:"h-4 w-20"}),(0,s.jsx)(a,{className:"h-6 w-32"})]})]}),(0,s.jsx)("div",{className:"rounded-lg border bg-card p-6",children:(0,s.jsxs)("div",{className:"flex gap-6",children:[(0,s.jsx)(a,{className:"w-32 h-32 rounded-lg"}),(0,s.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,s.jsx)(a,{className:"h-6 w-3/4"}),(0,s.jsx)(a,{className:"h-4 w-full"}),(0,s.jsx)(a,{className:"h-4 w-2/3"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(a,{className:"h-4 w-24"}),(0,s.jsx)(a,{className:"h-4 w-24"})]})]})]})}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(a,{className:"h-10 w-32"}),(0,s.jsx)(a,{className:"h-10 w-32"})]})]}),"OrderListSkeleton",0,({count:e=5})=>(0,s.jsx)("div",{className:"space-y-4",children:Array.from({length:e}).map((e,l)=>(0,s.jsx)("div",{className:"rounded-lg border bg-card p-6",children:(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("div",{className:"w-20 h-20 rounded-lg bg-muted animate-pulse flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)(a,{className:"h-4 w-3/4"}),(0,s.jsx)(a,{className:"h-3 w-1/2"})]}),(0,s.jsx)(a,{className:"h-6 w-16 rounded-full"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(a,{className:"h-4 w-24"}),(0,s.jsx)(a,{className:"h-6 w-20"})]}),(0,s.jsx)(a,{className:"h-3 w-32"})]})]})},l))}),"PageHeaderSkeleton",0,({showSubtitle:e=!0,showActions:l=!0})=>(0,s.jsx)("div",{className:"mb-8 space-y-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(a,{className:"h-8 w-64"}),e&&(0,s.jsx)(a,{className:"h-4 w-96"})]}),l&&(0,s.jsx)(a,{className:"h-10 w-32"})]})}),"ProductCardHorizontalSkeleton",0,({count:e=5})=>(0,s.jsx)("div",{className:"space-y-4",children:Array.from({length:e}).map((e,l)=>(0,s.jsx)("div",{className:"rounded-lg border bg-card overflow-hidden",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,s.jsx)("div",{className:"w-full md:w-48 h-48 bg-muted animate-pulse flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 p-6 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)(a,{className:"h-5 w-3/4"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(a,{className:"h-4 w-24"}),(0,s.jsx)(a,{className:"h-4 w-32"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(a,{className:"h-6 w-16 rounded-full"}),(0,s.jsx)(a,{className:"h-6 w-16 rounded-full"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(a,{className:"h-3 w-full"}),(0,s.jsx)(a,{className:"h-3 w-2/3"})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,s.jsx)(a,{className:"h-4 w-24"}),(0,s.jsx)(a,{className:"h-4 w-24"}),(0,s.jsx)(a,{className:"h-4 w-24"})]}),(0,s.jsxs)("div",{className:"flex gap-2 md:w-48",children:[(0,s.jsx)(a,{className:"h-10 flex-1"}),(0,s.jsx)(a,{className:"h-10 flex-1"}),(0,s.jsx)(a,{className:"h-10 w-12"})]})]})]})},l))}),"ProductCardSkeleton",0,({count:e=1})=>(0,s.jsx)(s.Fragment,{children:Array.from({length:e}).map((e,l)=>(0,s.jsxs)("div",{className:"rounded-lg border bg-card overflow-hidden",children:[(0,s.jsx)("div",{className:"aspect-square w-full bg-muted animate-pulse"}),(0,s.jsxs)("div",{className:"p-4 space-y-3",children:[(0,s.jsx)(a,{className:"h-4 w-3/4"}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(a,{className:"h-5 w-1/3"}),(0,s.jsx)(a,{className:"h-3 w-1/4"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(a,{className:"h-3 w-full"}),(0,s.jsx)(a,{className:"h-3 w-full"}),(0,s.jsx)(a,{className:"h-3 w-2/3"})]}),(0,s.jsx)(a,{className:"h-10 w-full"})]})]},l))}),"ProductDetailSkeleton",0,()=>(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(a,{className:"aspect-square w-full rounded-lg"}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-2",children:Array.from({length:4}).map((e,l)=>(0,s.jsx)(a,{className:"aspect-square rounded-lg"},l))})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(a,{className:"h-8 w-3/4"}),(0,s.jsx)(a,{className:"h-6 w-1/3"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(a,{className:"h-6 w-16 rounded-full"}),(0,s.jsx)(a,{className:"h-6 w-16 rounded-full"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(a,{className:"h-4 w-full"}),(0,s.jsx)(a,{className:"h-4 w-full"}),(0,s.jsx)(a,{className:"h-4 w-2/3"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(a,{className:"h-4 w-32"}),(0,s.jsx)(a,{className:"h-4 w-40"})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(a,{className:"h-12 flex-1"}),(0,s.jsx)(a,{className:"h-12 w-16"})]}),(0,s.jsx)(a,{className:"h-10 w-full"})]})]}),(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsx)(a,{className:"h-6 w-32 mb-4"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(a,{className:"h-16 w-16 rounded-full"}),(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)(a,{className:"h-5 w-48"}),(0,s.jsx)(a,{className:"h-4 w-64"})]}),(0,s.jsx)(a,{className:"h-10 w-32"})]})]})]}),"ProfileSkeleton",0,({showAvatar:e=!0,showStats:l=!0})=>(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"rounded-lg border bg-card p-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[e&&(0,s.jsx)("div",{children:(0,s.jsx)(a,{className:"h-24 w-24 rounded-full"})}),(0,s.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,s.jsx)(a,{className:"h-8 w-48"}),(0,s.jsx)(a,{className:"h-4 w-64"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(a,{className:"h-4 w-32"}),(0,s.jsx)(a,{className:"h-4 w-32"})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(a,{className:"h-10 w-32"}),(0,s.jsx)(a,{className:"h-10 w-32"})]})]})}),l&&(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:Array.from({length:4}).map((e,l)=>(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsx)(a,{className:"h-5 w-24 mb-2"}),(0,s.jsx)(a,{className:"h-8 w-16"})]},l))}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(a,{className:"h-6 w-48"}),(0,s.jsx)("div",{className:"space-y-3",children:Array.from({length:3}).map((e,l)=>(0,s.jsx)("div",{className:"rounded-lg border bg-card p-4",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(a,{className:"h-4 w-3/4"}),(0,s.jsx)(a,{className:"h-3 w-full"}),(0,s.jsx)(a,{className:"h-3 w-2/3"})]})},l))})]})]}),"StatsCardsSkeleton",0,({count:e=4})=>(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:e}).map((e,l)=>(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)(a,{className:"h-5 w-24"}),(0,s.jsx)(a,{className:"h-4 w-4"})]}),(0,s.jsx)(a,{className:"h-8 w-16"})]},l))}),"TableSkeleton",0,({rows:e=5,columns:l=5,showAvatar:r=!1})=>(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"flex items-center gap-4 px-4 py-3 border-b",children:Array.from({length:l}).map((e,l)=>(0,s.jsx)(a,{className:"h-5 flex-1"},l))}),Array.from({length:e}).map((e,d)=>(0,s.jsxs)("div",{className:"flex items-center gap-4 px-4 py-4 border-b",children:[r&&(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(a,{className:"h-10 w-10 rounded-full"})}),Array.from({length:l}).map((e,l)=>(0,s.jsx)(a,{className:"h-4 flex-1"},l))]},d))]})])},38116,e=>{"use strict";var s=e.i(48277),a=e.i(99738);function l({children:e,className:l}){return(0,s.jsx)("div",{className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",l),children:e})}function r({children:e,className:l}){return(0,s.jsx)("div",{className:(0,a.cn)("flex flex-col space-y-1.5 p-6",l),children:e})}function d({children:e,className:l}){return(0,s.jsx)("h3",{className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",l),children:e})}function c({children:e,className:l}){return(0,s.jsx)("p",{className:(0,a.cn)("text-sm text-muted-foreground",l),children:e})}function t({children:e,className:l}){return(0,s.jsx)("div",{className:(0,a.cn)("p-6 pt-0",l),children:e})}e.s(["Card",()=>l,"CardContent",()=>t,"CardDescription",()=>c,"CardHeader",()=>r,"CardTitle",()=>d])},97599,e=>{"use strict";let s=(0,e.i(35884).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);e.s(["Phone",()=>s],97599)},54133,e=>{"use strict";let s=(0,e.i(35884).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>s],54133)},33189,e=>{"use strict";let s=(0,e.i(35884).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>s],33189)},216,e=>{"use strict";let s=(0,e.i(35884).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>s],216)},22638,e=>{"use strict";let s=(0,e.i(35884).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>s],22638)},23207,e=>{"use strict";let s=(0,e.i(35884).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>s],23207)},42678,e=>{"use strict";var s=e.i(48277),a=e.i(30668),l=e.i(16506),r=e.i(42588),d=e.i(33189),c=e.i(216),t=e.i(97599);let i=(0,e.i(35884).default)("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);var n=e.i(67494),m=e.i(54133),x=e.i(22638),o=e.i(23207),h=e.i(40206),u=e.i(22195),j=e.i(38116),N=e.i(80658),p=e.i(99738),f=e.i(36291);e.i(92544);var g=e.i(11897),v=e.i(35384);function b(){return(0,s.jsx)(v.ClientErrorBoundary,{children:(0,s.jsx)(y,{})})}function y(){let{user:e}=(0,h.useAuth)(),[v,b]=(0,a.useState)([]),[y,w]=(0,a.useState)(0),[k,C]=(0,a.useState)(!0),[P,A]=(0,a.useState)(null),[S,T]=(0,a.useState)(1),[M,D]=(0,a.useState)(1),[E,F]=(0,a.useState)(!1),[z,B]=(0,a.useState)(null),[L,H]=(0,a.useState)(""),[_,I]=(0,a.useState)(new Set);(0,a.useEffect)(()=>{O()},[S]);let O=async()=>{try{C(!0);let e=(await u.ordersAPI.getPayoutLedger({page:S,limit:20})).data;b(e.sellerGroups),w(e.pendingPayoutTotal);let s=e.totalSellers;D(Math.ceil(s/20))}catch(e){console.error("Failed to fetch payout ledger:",e),g.toast.error("Failed to load payout ledger.")}finally{C(!1)}},q=async e=>{try{A(e),await u.ordersAPI.markSellerPaidBatch(e,L?{notes:L}:void 0);let s=v.filter(s=>s.seller._id!==e);b(s);let a=v.find(s=>s.seller._id===e);a&&w(e=>e-a.pendingAmount),F(!1),H(""),B(null)}catch(e){console.error("Failed to mark as paid:",e),g.toast.error("Failed to mark as paid."),g.toast.error("Failed to mark as paid. Please try again.")}finally{A(null)}};return k?(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)(f.PageHeaderSkeleton,{showSubtitle:!0,showActions:!1}),(0,s.jsx)("div",{className:"mb-8 rounded-lg border bg-card p-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"h-6 bg-muted rounded w-48 animate-pulse"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"h-4 bg-muted rounded w-24 animate-pulse"}),(0,s.jsx)("div",{className:"h-8 bg-muted rounded w-32 animate-pulse"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"h-4 bg-muted rounded w-24 animate-pulse"}),(0,s.jsx)("div",{className:"h-8 bg-muted rounded w-32 animate-pulse"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"h-4 bg-muted rounded w-24 animate-pulse"}),(0,s.jsx)("div",{className:"h-8 bg-muted rounded w-32 animate-pulse"})]})]})]})}),(0,s.jsx)("div",{className:"space-y-4",children:[1,2,3,4,5].map(e=>(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"h-12 w-12 bg-muted rounded-full animate-pulse"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"h-4 bg-muted rounded w-48 animate-pulse"}),(0,s.jsx)("div",{className:"h-3 bg-muted rounded w-32 animate-pulse"})]})]}),(0,s.jsx)("div",{className:"h-6 bg-muted rounded w-24 animate-pulse"})]}),(0,s.jsx)("div",{className:"h-24 bg-muted rounded animate-pulse"})]},e))})]}):(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)(l.default,{href:"/admin",className:"inline-flex items-center text-muted-foreground hover:text-foreground mb-4",children:[(0,s.jsx)(d.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Seller Payout Ledger"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Manage payouts to sellers for completed orders"})]}),(0,s.jsxs)(j.Card,{className:"mb-8",children:[(0,s.jsx)(j.CardHeader,{children:(0,s.jsx)(j.CardTitle,{className:"text-lg",children:"Pending Payouts Summary"})}),(0,s.jsx)(j.CardContent,{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Sellers to Pay"}),(0,s.jsx)("p",{className:"text-3xl font-bold",children:v.length})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Orders to Pay"}),(0,s.jsx)("p",{className:"text-3xl font-bold",children:v.reduce((e,s)=>e+s.orders.length,0)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Amount to Pay"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-green-600",children:(0,p.formatPrice)(y)})]})]})})]}),(0,s.jsx)("div",{className:"space-y-4",children:0===v.length?(0,s.jsx)(j.Card,{children:(0,s.jsx)(j.CardContent,{className:"py-12",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(c.Check,{className:"h-16 w-16 mx-auto text-green-500 mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"All Caught Up!"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"No pending payouts at the moment."})]})})}):v.map(e=>{let a=_.has(e.seller._id);return(0,s.jsxs)(j.Card,{children:[(0,s.jsx)(j.CardHeader,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4 flex-1",children:[a?(0,s.jsx)(x.ChevronDown,{className:"h-5 w-5 text-muted-foreground"}):(0,s.jsx)(o.ChevronRight,{className:"h-5 w-5 text-muted-foreground"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:e.seller?.name||"Unknown"}),(0,s.jsxs)("span",{className:"px-2 py-1 rounded-full bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 text-xs font-medium",children:[e.orders.length," order(s)"]})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e.seller.email})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Payout"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:(0,p.formatPrice)(e.pendingAmount)})]}),(0,s.jsx)(N.default,{onClick:s=>{s.stopPropagation(),B(e),H(""),F(!0)},disabled:P===e.seller._id,size:"sm",className:"bg-green-600 hover:bg-green-700",children:P===e.seller._id?"Processing...":(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Check,{className:"h-4 w-4 mr-2"}),"Pay All"]})})]})]})}),a&&(0,s.jsx)(j.CardContent,{children:(0,s.jsxs)("div",{className:"border-t pt-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h4",{className:"font-semibold text-sm text-muted-foreground",children:["Order Details (",e.orders.length,")"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,s.jsx)(t.Phone,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{className:"font-mono",children:e.seller.phone})]})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b",children:[(0,s.jsx)("th",{className:"text-left py-2 px-3 font-medium text-sm",children:"Order"}),(0,s.jsx)("th",{className:"text-left py-2 px-3 font-medium text-sm",children:"Product"}),(0,s.jsx)("th",{className:"text-left py-2 px-3 font-medium text-sm",children:"Buyer"}),(0,s.jsx)("th",{className:"text-left py-2 px-3 font-medium text-sm",children:"M-Pesa Receipt"}),(0,s.jsx)("th",{className:"text-left py-2 px-3 font-medium text-sm",children:"Amount"}),(0,s.jsx)("th",{className:"text-left py-2 px-3 font-medium text-sm",children:"Date"})]})}),(0,s.jsx)("tbody",{children:e.orders.map(e=>(0,s.jsxs)("tr",{className:"border-b hover:bg-muted/30",children:[(0,s.jsxs)("td",{className:"py-3 px-3",children:[(0,s.jsx)("div",{className:"font-medium text-sm",children:e.orderNumber}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:["ID: ",e.orderId.slice(-6)]})]}),(0,s.jsx)("td",{className:"py-3 px-3",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[e.product.images?.[0]&&(0,s.jsx)("div",{className:"relative w-8 h-8 rounded overflow-hidden flex-shrink-0",children:(0,s.jsx)(r.default,{src:e.product.images[0],alt:e.product.title,fill:!0,className:"object-cover",sizes:"32px"})}),(0,s.jsxs)("div",{className:"max-w-xs",children:[(0,s.jsx)("div",{className:"text-sm font-medium truncate",children:e.product.title}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:[e.product.condition," â€¢ ",(0,p.formatPrice)(e.product.price)]})]})]})}),(0,s.jsx)("td",{className:"py-3 px-3",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(n.User,{className:"h-3 w-3 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium",children:e.buyer.name}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:e.buyer.email})]})]})}),(0,s.jsx)("td",{className:"py-3 px-3",children:"mpesaTransactionId"in e&&e.mpesaTransactionId?(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(i,{className:"h-3 w-3 text-green-600"}),(0,s.jsx)("span",{className:"font-mono text-xs",children:e.mpesaTransactionId})]}):(0,s.jsx)("span",{className:"text-muted-foreground text-xs",children:"N/A"})}),(0,s.jsx)("td",{className:"py-3 px-3",children:(0,s.jsx)("div",{className:"font-semibold",children:(0,p.formatPrice)(e.totalPrice)})}),(0,s.jsx)("td",{className:"py-3 px-3",children:(0,s.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[(0,s.jsx)(m.Calendar,{className:"h-3 w-3"}),(0,s.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})})]})})]},e.orderId))})]})})]})})]},e.seller._id)})}),M>1&&(0,s.jsxs)("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[(0,s.jsx)(N.default,{onClick:()=>T(e=>Math.max(1,e-1)),disabled:1===S,variant:"outline",size:"sm",children:"Previous"}),(0,s.jsxs)("span",{className:"text-sm",children:["Page ",S," of ",M]}),(0,s.jsx)(N.default,{onClick:()=>T(e=>Math.min(M,e+1)),disabled:S===M,variant:"outline",size:"sm",children:"Next"})]}),E&&z&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-background rounded-lg p-6 max-w-md w-full mx-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold mb-4",children:["Confirm Payment to ",z.seller?.name||"Unknown"]}),(0,s.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,s.jsxs)("div",{className:"bg-muted p-4 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Total Amount:"}),(0,s.jsx)("span",{className:"font-bold text-green-600",children:(0,p.formatPrice)(z.pendingAmount)})]}),(0,s.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Orders:"}),(0,s.jsx)("span",{children:z.orders.length})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"To:"}),(0,s.jsx)("span",{className:"font-mono",children:z.seller.phone})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Notes (optional)"}),(0,s.jsx)("textarea",{value:L,onChange:e=>H(e.target.value),placeholder:"Add any notes about this payout...",className:"w-full border rounded-lg px-3 py-2 min-h-[80px] focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,s.jsx)(N.default,{onClick:()=>{F(!1),H(""),B(null)},variant:"outline",children:"Cancel"}),(0,s.jsx)(N.default,{onClick:()=>q(z.seller._id),disabled:P===z.seller._id,className:"bg-green-600 hover:bg-green-700",children:P===z.seller._id?"Processing...":"Confirm Paid"})]})]})})]})}e.s(["default",()=>b],42678)}]);