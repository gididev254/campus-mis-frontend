(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,80658,e=>{"use strict";var s=e.i(48277),a=e.i(99738);function l({children:e,className:l,variant:r="primary",size:t="md",isLoading:c=!1,loadingText:d,disabled:i,...n}){return(0,s.jsx)("button",{type:n.type||"button",className:(0,a.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-ring disabled:opacity-50 disabled:pointer-events-none disabled:cursor-not-allowed",{primary:"bg-primary text-primary-foreground hover:opacity-90 focus-visible:ring-primary",secondary:"bg-secondary text-secondary-foreground hover:opacity-90 focus-visible:ring-secondary",outline:"border border-border hover:bg-accent hover:text-accent-foreground focus-visible:ring-border",ghost:"hover:bg-accent hover:text-accent-foreground focus-visible:ring-accent",danger:"bg-destructive text-destructive-foreground hover:opacity-90 focus-visible:ring-destructive"}[r],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[t],l),disabled:i||c,"aria-live":c?"polite":void 0,"aria-busy":c,...n,children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",role:"img",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,s.jsx)("span",{children:d||"Loading..."})]}):e})}e.s(["default",()=>l])},36291,e=>{"use strict";var s=e.i(48277);let a=({className:e=""})=>(0,s.jsx)("div",{className:`animate-pulse rounded-md bg-muted ${e}`,role:"status","aria-label":"Loading",children:(0,s.jsx)("span",{className:"sr-only",children:"Loading..."})});e.s(["CategoryCardSkeleton",0,({count:e=1})=>(0,s.jsx)(s.Fragment,{children:Array.from({length:e}).map((e,l)=>(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)("div",{className:"w-16 h-16 rounded-full bg-muted animate-pulse"})}),(0,s.jsx)(a,{className:"h-6 w-3/4 mx-auto mb-3"}),(0,s.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,s.jsx)(a,{className:"h-3 w-full"}),(0,s.jsx)(a,{className:"h-3 w-2/3 mx-auto"})]}),(0,s.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,s.jsx)(a,{className:"h-4 w-24"})}),(0,s.jsx)(a,{className:"h-9 w-full"})]},l))}),"MessageListSkeleton",0,({count:e=5})=>(0,s.jsx)("div",{className:"space-y-2",children:Array.from({length:e}).map((e,l)=>(0,s.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-lg border bg-card hover:bg-accent/50",children:[(0,s.jsx)(a,{className:"h-12 w-12 rounded-full flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0 space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(a,{className:"h-4 w-32"}),(0,s.jsx)(a,{className:"h-3 w-20"})]}),(0,s.jsx)(a,{className:"h-3 w-3/4"})]})]},l))}),"OrderDetailSkeleton",0,()=>(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(a,{className:"h-8 w-64"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(a,{className:"h-6 w-24 rounded-full"}),(0,s.jsx)(a,{className:"h-6 w-32 rounded-full"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6 space-y-2",children:[(0,s.jsx)(a,{className:"h-4 w-20"}),(0,s.jsx)(a,{className:"h-6 w-32"})]}),(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6 space-y-2",children:[(0,s.jsx)(a,{className:"h-4 w-20"}),(0,s.jsx)(a,{className:"h-6 w-32"})]}),(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6 space-y-2",children:[(0,s.jsx)(a,{className:"h-4 w-20"}),(0,s.jsx)(a,{className:"h-6 w-32"})]})]}),(0,s.jsx)("div",{className:"rounded-lg border bg-card p-6",children:(0,s.jsxs)("div",{className:"flex gap-6",children:[(0,s.jsx)(a,{className:"w-32 h-32 rounded-lg"}),(0,s.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,s.jsx)(a,{className:"h-6 w-3/4"}),(0,s.jsx)(a,{className:"h-4 w-full"}),(0,s.jsx)(a,{className:"h-4 w-2/3"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(a,{className:"h-4 w-24"}),(0,s.jsx)(a,{className:"h-4 w-24"})]})]})]})}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(a,{className:"h-10 w-32"}),(0,s.jsx)(a,{className:"h-10 w-32"})]})]}),"OrderListSkeleton",0,({count:e=5})=>(0,s.jsx)("div",{className:"space-y-4",children:Array.from({length:e}).map((e,l)=>(0,s.jsx)("div",{className:"rounded-lg border bg-card p-6",children:(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("div",{className:"w-20 h-20 rounded-lg bg-muted animate-pulse flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)(a,{className:"h-4 w-3/4"}),(0,s.jsx)(a,{className:"h-3 w-1/2"})]}),(0,s.jsx)(a,{className:"h-6 w-16 rounded-full"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(a,{className:"h-4 w-24"}),(0,s.jsx)(a,{className:"h-6 w-20"})]}),(0,s.jsx)(a,{className:"h-3 w-32"})]})]})},l))}),"PageHeaderSkeleton",0,({showSubtitle:e=!0,showActions:l=!0})=>(0,s.jsx)("div",{className:"mb-8 space-y-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(a,{className:"h-8 w-64"}),e&&(0,s.jsx)(a,{className:"h-4 w-96"})]}),l&&(0,s.jsx)(a,{className:"h-10 w-32"})]})}),"ProductCardHorizontalSkeleton",0,({count:e=5})=>(0,s.jsx)("div",{className:"space-y-4",children:Array.from({length:e}).map((e,l)=>(0,s.jsx)("div",{className:"rounded-lg border bg-card overflow-hidden",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,s.jsx)("div",{className:"w-full md:w-48 h-48 bg-muted animate-pulse flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 p-6 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)(a,{className:"h-5 w-3/4"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(a,{className:"h-4 w-24"}),(0,s.jsx)(a,{className:"h-4 w-32"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(a,{className:"h-6 w-16 rounded-full"}),(0,s.jsx)(a,{className:"h-6 w-16 rounded-full"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(a,{className:"h-3 w-full"}),(0,s.jsx)(a,{className:"h-3 w-2/3"})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,s.jsx)(a,{className:"h-4 w-24"}),(0,s.jsx)(a,{className:"h-4 w-24"}),(0,s.jsx)(a,{className:"h-4 w-24"})]}),(0,s.jsxs)("div",{className:"flex gap-2 md:w-48",children:[(0,s.jsx)(a,{className:"h-10 flex-1"}),(0,s.jsx)(a,{className:"h-10 flex-1"}),(0,s.jsx)(a,{className:"h-10 w-12"})]})]})]})},l))}),"ProductCardSkeleton",0,({count:e=1})=>(0,s.jsx)(s.Fragment,{children:Array.from({length:e}).map((e,l)=>(0,s.jsxs)("div",{className:"rounded-lg border bg-card overflow-hidden",children:[(0,s.jsx)("div",{className:"aspect-square w-full bg-muted animate-pulse"}),(0,s.jsxs)("div",{className:"p-4 space-y-3",children:[(0,s.jsx)(a,{className:"h-4 w-3/4"}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(a,{className:"h-5 w-1/3"}),(0,s.jsx)(a,{className:"h-3 w-1/4"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(a,{className:"h-3 w-full"}),(0,s.jsx)(a,{className:"h-3 w-full"}),(0,s.jsx)(a,{className:"h-3 w-2/3"})]}),(0,s.jsx)(a,{className:"h-10 w-full"})]})]},l))}),"ProductDetailSkeleton",0,()=>(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(a,{className:"aspect-square w-full rounded-lg"}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-2",children:Array.from({length:4}).map((e,l)=>(0,s.jsx)(a,{className:"aspect-square rounded-lg"},l))})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(a,{className:"h-8 w-3/4"}),(0,s.jsx)(a,{className:"h-6 w-1/3"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(a,{className:"h-6 w-16 rounded-full"}),(0,s.jsx)(a,{className:"h-6 w-16 rounded-full"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(a,{className:"h-4 w-full"}),(0,s.jsx)(a,{className:"h-4 w-full"}),(0,s.jsx)(a,{className:"h-4 w-2/3"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(a,{className:"h-4 w-32"}),(0,s.jsx)(a,{className:"h-4 w-40"})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(a,{className:"h-12 flex-1"}),(0,s.jsx)(a,{className:"h-12 w-16"})]}),(0,s.jsx)(a,{className:"h-10 w-full"})]})]}),(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsx)(a,{className:"h-6 w-32 mb-4"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(a,{className:"h-16 w-16 rounded-full"}),(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)(a,{className:"h-5 w-48"}),(0,s.jsx)(a,{className:"h-4 w-64"})]}),(0,s.jsx)(a,{className:"h-10 w-32"})]})]})]}),"ProfileSkeleton",0,({showAvatar:e=!0,showStats:l=!0})=>(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"rounded-lg border bg-card p-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[e&&(0,s.jsx)("div",{children:(0,s.jsx)(a,{className:"h-24 w-24 rounded-full"})}),(0,s.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,s.jsx)(a,{className:"h-8 w-48"}),(0,s.jsx)(a,{className:"h-4 w-64"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(a,{className:"h-4 w-32"}),(0,s.jsx)(a,{className:"h-4 w-32"})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(a,{className:"h-10 w-32"}),(0,s.jsx)(a,{className:"h-10 w-32"})]})]})}),l&&(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:Array.from({length:4}).map((e,l)=>(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsx)(a,{className:"h-5 w-24 mb-2"}),(0,s.jsx)(a,{className:"h-8 w-16"})]},l))}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(a,{className:"h-6 w-48"}),(0,s.jsx)("div",{className:"space-y-3",children:Array.from({length:3}).map((e,l)=>(0,s.jsx)("div",{className:"rounded-lg border bg-card p-4",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(a,{className:"h-4 w-3/4"}),(0,s.jsx)(a,{className:"h-3 w-full"}),(0,s.jsx)(a,{className:"h-3 w-2/3"})]})},l))})]})]}),"StatsCardsSkeleton",0,({count:e=4})=>(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:e}).map((e,l)=>(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)(a,{className:"h-5 w-24"}),(0,s.jsx)(a,{className:"h-4 w-4"})]}),(0,s.jsx)(a,{className:"h-8 w-16"})]},l))}),"TableSkeleton",0,({rows:e=5,columns:l=5,showAvatar:r=!1})=>(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"flex items-center gap-4 px-4 py-3 border-b",children:Array.from({length:l}).map((e,l)=>(0,s.jsx)(a,{className:"h-5 flex-1"},l))}),Array.from({length:e}).map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-4 px-4 py-4 border-b",children:[r&&(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(a,{className:"h-10 w-10 rounded-full"})}),Array.from({length:l}).map((e,l)=>(0,s.jsx)(a,{className:"h-4 flex-1"},l))]},t))]})])},38116,e=>{"use strict";var s=e.i(48277),a=e.i(99738);function l({children:e,className:l}){return(0,s.jsx)("div",{className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",l),children:e})}function r({children:e,className:l}){return(0,s.jsx)("div",{className:(0,a.cn)("flex flex-col space-y-1.5 p-6",l),children:e})}function t({children:e,className:l}){return(0,s.jsx)("h3",{className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",l),children:e})}function c({children:e,className:l}){return(0,s.jsx)("p",{className:(0,a.cn)("text-sm text-muted-foreground",l),children:e})}function d({children:e,className:l}){return(0,s.jsx)("div",{className:(0,a.cn)("p-6 pt-0",l),children:e})}e.s(["Card",()=>l,"CardContent",()=>d,"CardDescription",()=>c,"CardHeader",()=>r,"CardTitle",()=>t])},35384,e=>{"use strict";var s=e.i(48277),a=e.i(30668),l=e.i(46669);class r extends a.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){console.error("ClientErrorBoundary caught an error:",e,s)}resetError=()=>{this.setState({hasError:!1,error:null})};render(){if(this.state.hasError){let e=this.props.fallback||l.ErrorFallback;return(0,s.jsx)(e,{error:this.state.error,resetError:this.resetError})}return this.props.children}}e.s(["ClientErrorBoundary",()=>r])},59484,e=>{"use strict";let s=(0,e.i(35884).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>s],59484)},63753,e=>{"use strict";let s=(0,e.i(35884).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>s],63753)},54133,e=>{"use strict";let s=(0,e.i(35884).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>s],54133)},33189,e=>{"use strict";let s=(0,e.i(35884).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>s],33189)},216,e=>{"use strict";let s=(0,e.i(35884).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>s],216)},28901,e=>{"use strict";let s=(0,e.i(35884).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>s],28901)},71755,e=>{"use strict";var s=e.i(48277),a=e.i(30668),l=e.i(16506),r=e.i(42588),t=e.i(33189),c=e.i(59484),d=e.i(32890),i=e.i(63753),n=e.i(50097),o=e.i(35884);let x=(0,o.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var m=e.i(216),h=e.i(87635),u=e.i(49449);let j=(0,o.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var p=e.i(54133),f=e.i(28901),g=e.i(40206),N=e.i(91482),v=e.i(38116),y=e.i(80658),w=e.i(36291),b=e.i(99738),k=e.i(35384);e.i(92544);var C=e.i(11897);function S(){return(0,s.jsx)(k.ClientErrorBoundary,{children:(0,s.jsx)(P,{})})}function P(){let{isAdmin:e}=(0,g.useAuth)(),[o,k]=(0,a.useState)([]),[S,P]=(0,a.useState)(!0),[A,F]=(0,a.useState)(""),[M,_]=(0,a.useState)("all"),[E,T]=(0,a.useState)(1),[D,H]=(0,a.useState)(1),[L,q]=(0,a.useState)(0),[z,B]=(0,a.useState)(null),[$,U]=(0,a.useState)(null),[V,O]=(0,a.useState)(null);(0,a.useEffect)(()=>{if(!e){O({type:"error",text:"Access denied. Admin only."}),P(!1);return}R()},[e,E,M]);let R=(0,a.useCallback)(async()=>{if(e)try{P(!0);let e={page:E,limit:20};"all"!==M&&(e.status=M);let s=(await N.productsAPI.getProducts(e)).data,a=s.data||[];if(A){let e=A.toLowerCase();a=a.filter(s=>s.title.toLowerCase().includes(e)||s.description.toLowerCase().includes(e)||(s.seller?.name||"").toLowerCase().includes(e)||s.category.name.toLowerCase().includes(e))}k(a),H(s.pagination.pages),q(s.pagination.total)}catch(e){console.error("Failed to fetch products:",e),C.toast.error("Failed to load products. Please try again."),O({type:"error",text:"Failed to load products. Please try again."})}finally{P(!1)}},[e,E,M,A]);(0,a.useEffect)(()=>{if(void 0!==A){let e=setTimeout(()=>{1===E?R():T(1)},500);return()=>clearTimeout(e)}},[A,E,R]);let I=async(e,s)=>{try{B(e);let a=new FormData,l=o.find(s=>s._id===e);l&&(a.append("title",l.title),a.append("description",l.description),a.append("price",l.price.toString()),a.append("category",l.category._id),a.append("condition",l.condition),a.append("location",l.location),a.append("status",s),void 0!==l.isNegotiable&&a.append("isNegotiable",l.isNegotiable.toString()),await N.productsAPI.updateProduct(e,a),k(o.map(a=>a._id===e?{...a,status:s}:a)),O({type:"success",text:`Product ${"available"===s?"approved":"sold"===s?"marked as sold":"pending"} successfully`}))}catch(e){console.error("Failed to update product status:",e),C.toast.error("Failed to update product status. Please try again."),O({type:"error",text:"Failed to update product status. Please try again."})}finally{B(null)}},K=async e=>{if(confirm("Are you sure you want to delete this product? This action cannot be undone."))try{U(e),await N.productsAPI.deleteProduct(e),k(o.filter(s=>s._id!==e)),q(e=>e-1),O({type:"success",text:"Product deleted successfully"})}catch(e){console.error("Failed to delete product:",e),C.toast.error("Failed to delete product. Please try again."),O({type:"error",text:"Failed to delete product. Please try again."})}finally{U(null)}};if(!e)return(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsx)(v.Card,{className:"max-w-md mx-auto",children:(0,s.jsx)(v.CardContent,{className:"py-8",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(c.Package,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Access Denied"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"You don't have permission to access this page."})]})})})});if(S)return(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)(w.PageHeaderSkeleton,{showSubtitle:!0,showActions:!1}),(0,s.jsx)(w.StatsCardsSkeleton,{count:4}),(0,s.jsx)("div",{className:"mt-8",children:(0,s.jsx)(w.ProductCardHorizontalSkeleton,{count:5})})]});let W=o.filter(e=>e&&"pending"===e.status).length,X=o.filter(e=>e&&"available"===e.status).length,Y=o.filter(e=>e&&"sold"===e.status).length;return(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)(l.default,{href:"/admin",className:"inline-flex items-center text-muted-foreground hover:text-foreground mb-4",children:[(0,s.jsx)(t.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Product Management"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Moderate and manage all products"})]}),V&&(0,s.jsx)("div",{className:`mb-6 p-4 rounded-lg ${"success"===V.type?"bg-green-50 text-green-900 dark:bg-green-900/20 dark:text-green-200":"bg-red-50 text-red-900 dark:bg-red-900/20 dark:text-red-200"}`,children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{children:V.text}),(0,s.jsx)("button",{onClick:()=>O(null),className:"ml-4 hover:opacity-70",children:(0,s.jsx)(h.X,{className:"h-4 w-4"})})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,s.jsxs)(v.Card,{children:[(0,s.jsxs)(v.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(v.CardTitle,{className:"text-sm font-medium",children:"Total Products"}),(0,s.jsx)(c.Package,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(v.CardContent,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:L})})]}),(0,s.jsxs)(v.Card,{children:[(0,s.jsxs)(v.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(v.CardTitle,{className:"text-sm font-medium",children:"Pending Review"}),(0,s.jsx)(i.Eye,{className:"h-4 w-4 text-yellow-600"})]}),(0,s.jsx)(v.CardContent,{children:(0,s.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:W})})]}),(0,s.jsxs)(v.Card,{children:[(0,s.jsxs)(v.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(v.CardTitle,{className:"text-sm font-medium",children:"Available"}),(0,s.jsx)(m.Check,{className:"h-4 w-4 text-green-600"})]}),(0,s.jsx)(v.CardContent,{children:(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600",children:X})})]}),(0,s.jsxs)(v.Card,{children:[(0,s.jsxs)(v.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(v.CardTitle,{className:"text-sm font-medium",children:"Sold"}),(0,s.jsx)(n.ShoppingCart,{className:"h-4 w-4 text-gray-600"})]}),(0,s.jsx)(v.CardContent,{children:(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-600",children:Y})})]})]}),(0,s.jsx)(v.Card,{className:"mb-6",children:(0,s.jsx)(v.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)("input",{type:"text",placeholder:"Search by title, description, seller, or category...",value:A,onChange:e=>F(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,s.jsxs)("select",{value:M,onChange:e=>{_(e.target.value),T(1)},className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,s.jsx)("option",{value:"all",children:"All Status"}),(0,s.jsx)("option",{value:"pending",children:"Pending Review"}),(0,s.jsx)("option",{value:"available",children:"Available"}),(0,s.jsx)("option",{value:"sold",children:"Sold"})]})]})})}),(0,s.jsx)("div",{className:"space-y-4",children:0===o.length?(0,s.jsx)(v.Card,{children:(0,s.jsx)(v.CardContent,{className:"py-12",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(c.Package,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No Products Found"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:A||"all"!==M?"Try adjusting your filters or search terms.":"No products listed yet."})]})})}):o.map(e=>(0,s.jsx)(v.Card,{className:"overflow-hidden",children:(0,s.jsx)(v.CardContent,{className:"p-0",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,s.jsx)("div",{className:"w-full md:w-48 h-48 relative flex-shrink-0",children:e.images?.[0]?(0,s.jsx)(r.default,{src:e.images[0],alt:e.title,fill:!0,className:"object-cover"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-muted",children:(0,s.jsx)(x,{className:"h-12 w-12 text-muted-foreground"})})}),(0,s.jsx)("div",{className:"flex-1 p-6",children:(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-1",children:e.title}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[(0,s.jsxs)("span",{children:["by ",e.seller?.name||"Unknown"]}),(0,s.jsx)("span",{children:"â€¢"}),(0,s.jsx)("span",{children:e.category.name})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,s.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(e=>{switch(e){case"available":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"sold":default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}})(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),(0,s.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getConditionBadge(e.condition)}`,children:e.condition.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")})]})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:e.description}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(f.DollarSign,{className:"h-4 w-4 mr-1 text-green-600"}),(0,s.jsx)("span",{className:"font-bold text-lg",children:(0,b.formatPrice)(e.price)})]}),(0,s.jsxs)("div",{className:"flex items-center text-muted-foreground",children:[(0,s.jsx)(p.Calendar,{className:"h-3 w-3 mr-1"}),(0,s.jsxs)("span",{children:["Listed ",(0,b.formatDateShort)(e.createdAt)]})]}),(0,s.jsxs)("div",{className:"flex items-center text-muted-foreground",children:[(0,s.jsx)(i.Eye,{className:"h-3 w-3 mr-1"}),(0,s.jsxs)("span",{children:[e.views||0," views"]})]}),e.isNegotiable&&(0,s.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 px-2 py-1 rounded",children:"Negotiable"})]}),(0,s.jsxs)("div",{className:"mt-3 flex items-center text-sm text-muted-foreground",children:[(0,s.jsxs)("span",{className:"mr-4",children:["ðŸ“ ",e.location]}),(0,s.jsxs)(l.default,{href:`/products/${e._id}`,className:"text-primary hover:underline flex items-center",children:["View Details ",(0,s.jsx)(j,{className:"h-3 w-3 ml-1"})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col space-y-2 lg:w-48",children:["pending"===e.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.default,{onClick:()=>I(e._id,"available"),disabled:z===e._id,className:"w-full bg-green-600 hover:bg-green-700",children:z===e._id?"Processing...":(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.Check,{className:"h-4 w-4 mr-2"}),"Approve"]})}),(0,s.jsx)(y.default,{onClick:()=>I(e._id,"sold"),disabled:z===e._id,variant:"outline",className:"w-full",children:"Mark as Sold"})]}),"available"===e.status&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(y.default,{onClick:()=>I(e._id,"sold"),disabled:z===e._id,variant:"outline",className:"w-full",children:z===e._id?"Processing...":(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.ShoppingCart,{className:"h-4 w-4 mr-2"}),"Mark Sold"]})})}),"sold"===e.status&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(y.default,{onClick:()=>I(e._id,"available"),disabled:z===e._id,variant:"outline",className:"w-full",children:z===e._id?"Processing...":(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.Check,{className:"h-4 w-4 mr-2"}),"Mark Available"]})})}),(0,s.jsx)(y.default,{onClick:()=>K(e._id),disabled:z===e._id||$===e._id,variant:"danger",className:"w-full",children:$===e._id?"Deleting...":(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.Trash2,{className:"h-4 w-4 mr-2"}),"Delete"]})})]})]})})]})})},e._id))}),D>1&&(0,s.jsxs)("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[(0,s.jsx)(y.default,{onClick:()=>T(e=>Math.max(1,e-1)),disabled:1===E,variant:"outline",size:"sm",children:"Previous"}),(0,s.jsxs)("span",{className:"text-sm",children:["Page ",E," of ",D]}),(0,s.jsx)(y.default,{onClick:()=>T(e=>Math.min(D,e+1)),disabled:E===D,variant:"outline",size:"sm",children:"Next"})]})]})}e.s(["default",()=>S],71755)}]);