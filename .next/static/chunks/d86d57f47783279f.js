(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,80658,e=>{"use strict";var s=e.i(48277),t=e.i(99738);function r({children:e,className:r,variant:a="primary",size:l="md",isLoading:i=!1,loadingText:d,disabled:c,...n}){return(0,s.jsx)("button",{type:n.type||"button",className:(0,t.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-ring disabled:opacity-50 disabled:pointer-events-none disabled:cursor-not-allowed",{primary:"bg-primary text-primary-foreground hover:opacity-90 focus-visible:ring-primary",secondary:"bg-secondary text-secondary-foreground hover:opacity-90 focus-visible:ring-secondary",outline:"border border-border hover:bg-accent hover:text-accent-foreground focus-visible:ring-border",ghost:"hover:bg-accent hover:text-accent-foreground focus-visible:ring-accent",danger:"bg-destructive text-destructive-foreground hover:opacity-90 focus-visible:ring-destructive"}[a],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[l],r),disabled:c||i,"aria-live":i?"polite":void 0,"aria-busy":i,...n,children:i?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",role:"img",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,s.jsx)("span",{children:d||"Loading..."})]}):e})}e.s(["default",()=>r])},59484,e=>{"use strict";let s=(0,e.i(35884).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>s],59484)},88255,e=>{"use strict";let s=(0,e.i(35884).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>s],88255)},35169,e=>{"use strict";let s=(0,e.i(35884).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>s],35169)},87200,e=>{"use strict";let s=(0,e.i(35884).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>s],87200)},3893,e=>{"use strict";let s=(0,e.i(35884).default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);e.s(["MessageCircle",()=>s],3893)},9878,e=>{"use strict";var s=e.i(48277),t=e.i(30668),r=e.i(96086),a=e.i(16506),l=e.i(67494),i=e.i(88255),d=e.i(35169),c=e.i(3893),n=e.i(59484),o=e.i(87200),m=e.i(42001),x=e.i(91482),u=e.i(99738),h=e.i(80658);e.i(92544);var g=e.i(11897);function p(){let e=(0,r.useRouter)(),p=(0,r.useParams)(),[f,v]=(0,t.useState)(null),[j,b]=(0,t.useState)([]),[y,N]=(0,t.useState)([]),[w,k]=(0,t.useState)(!0),[P,S]=(0,t.useState)("products");return((0,t.useEffect)(()=>{(async()=>{try{let e=p.id,s=await m.usersAPI.getUserProfile(e);v(s.data.user);let t=await x.productsAPI.getSellerProducts(e,{limit:8});b(t.data.data||[]);let r=await m.usersAPI.getUserReviews(e);N(r.data.reviews||[])}catch(s){console.error("Failed to fetch user data:",s),g.toast.error("Failed to load user data."),e.push("/products")}finally{k(!1)}})()},[p.id,e]),w)?(0,s.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Loading profile..."})]})}):f?(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,s.jsx)("div",{className:"bg-card rounded-lg border p-8 mb-8",children:(0,s.jsxs)("div",{className:"flex items-start gap-6",children:[(0,s.jsx)("div",{className:"w-24 h-24 rounded-full bg-primary/10 flex items-center justify-center text-primary text-3xl font-bold flex-shrink-0",children:f.name?.charAt(0).toUpperCase()||"U"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-2",children:f.name}),(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:f.email}),f.location&&(0,s.jsxs)("div",{className:"flex items-center text-muted-foreground mb-4",children:[(0,s.jsx)(i.MapPin,{className:"h-4 w-4 mr-2"}),f.location]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"flex items-center",children:[1,2,3,4,5].map(e=>(0,s.jsx)(d.Star,{className:`h-5 w-5 ${e<=Math.round(f.averageRating||0)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},e))}),(0,s.jsx)("span",{className:"font-semibold",children:f.averageRating?.toFixed(1)||"New"}),(0,s.jsxs)("span",{className:"text-muted-foreground",children:["(",f.totalReviews||0," reviews)"]})]}),"seller"===f.role&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.Package,{className:"h-5 w-5 text-muted-foreground"}),(0,s.jsxs)("span",{children:[j.length," products"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.TrendingUp,{className:"h-5 w-5 text-green-600"}),(0,s.jsx)("span",{children:"0 sold"})]})]})]})]}),(0,s.jsx)("div",{className:"flex flex-col gap-2",children:(0,s.jsxs)(h.default,{onClick:()=>{localStorage.getItem("token")?e.push(`/messages?userId=${p.id}`):e.push(`/login?redirect=/messages?userId=${p.id}`)},children:[(0,s.jsx)(c.MessageCircle,{className:"h-4 w-4 mr-2"}),"Contact"]})})]})}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[(0,s.jsx)(d.Star,{className:"h-6 w-6 text-yellow-500"}),"Seller Reviews (",y.length,")"]}),0===y.length?(0,s.jsxs)("div",{className:"text-center py-12 rounded-lg border bg-muted/30",children:[(0,s.jsx)(d.Star,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),(0,s.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"No Reviews Yet"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:f._id===localStorage.getItem("userId")?"You haven't received any reviews yet":`${f.name} hasn't received any reviews yet`})]}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.map(e=>(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold",children:e.reviewer?.name?.charAt(0)||"U"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-semibold",children:e.reviewer?.name||"Anonymous"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,u.formatDate)(e.createdAt)})]}),(0,s.jsx)("div",{className:"flex items-center",children:[1,2,3,4,5].map(t=>(0,s.jsx)(d.Star,{className:`h-4 w-4 ${t<=e.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},t))})]}),(0,s.jsx)("p",{className:"text-muted-foreground",children:e.comment}),e.order&&(0,s.jsx)(a.default,{href:`/orders/${e.order}`,className:"inline-block mt-3 text-sm text-primary hover:underline",children:"View Order â†’"})]},e._id))})]}),"seller"===f.role&&j.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold mb-6",children:["Active Listings (",j.length,")"]}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:j.map(e=>(0,s.jsx)(ProductCard,{product:e},e._id))}),j.length>=8&&(0,s.jsx)("div",{className:"text-center mt-6",children:(0,s.jsx)(a.default,{href:`/products?seller=${f._id}`,children:(0,s.jsx)(h.default,{variant:"outline",children:"View All Products"})})})]})]})}):(0,s.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto text-center",children:[(0,s.jsx)(l.User,{className:"h-24 w-24 mx-auto text-muted-foreground mb-4"}),(0,s.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"User Not Found"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-6",children:"This user profile does not exist"}),(0,s.jsx)(a.default,{href:"/products",children:(0,s.jsx)(h.default,{children:"Browse Products"})})]})})}e.s(["default",()=>p])}]);