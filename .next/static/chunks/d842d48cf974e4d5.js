(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,80658,e=>{"use strict";var s=e.i(48277),t=e.i(99738);function a({children:e,className:a,variant:r="primary",size:l="md",isLoading:i=!1,loadingText:d,disabled:n,...c}){return(0,s.jsx)("button",{type:c.type||"button",className:(0,t.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-ring disabled:opacity-50 disabled:pointer-events-none disabled:cursor-not-allowed",{primary:"bg-primary text-primary-foreground hover:opacity-90 focus-visible:ring-primary",secondary:"bg-secondary text-secondary-foreground hover:opacity-90 focus-visible:ring-secondary",outline:"border border-border hover:bg-accent hover:text-accent-foreground focus-visible:ring-border",ghost:"hover:bg-accent hover:text-accent-foreground focus-visible:ring-accent",danger:"bg-destructive text-destructive-foreground hover:opacity-90 focus-visible:ring-destructive"}[r],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[l],a),disabled:n||i,"aria-live":i?"polite":void 0,"aria-busy":i,...c,children:i?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",role:"img",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,s.jsx)("span",{children:d||"Loading..."})]}):e})}e.s(["default",()=>a])},38116,e=>{"use strict";var s=e.i(48277),t=e.i(99738);function a({children:e,className:a}){return(0,s.jsx)("div",{className:(0,t.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),children:e})}function r({children:e,className:a}){return(0,s.jsx)("div",{className:(0,t.cn)("flex flex-col space-y-1.5 p-6",a),children:e})}function l({children:e,className:a}){return(0,s.jsx)("h3",{className:(0,t.cn)("text-2xl font-semibold leading-none tracking-tight",a),children:e})}function i({children:e,className:a}){return(0,s.jsx)("p",{className:(0,t.cn)("text-sm text-muted-foreground",a),children:e})}function d({children:e,className:a}){return(0,s.jsx)("div",{className:(0,t.cn)("p-6 pt-0",a),children:e})}e.s(["Card",()=>a,"CardContent",()=>d,"CardDescription",()=>i,"CardHeader",()=>r,"CardTitle",()=>l])},29202,e=>{"use strict";let s=(0,e.i(35884).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>s],29202)},43938,e=>{"use strict";let s=(0,e.i(35884).default)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]]);e.s(["Clock",()=>s],43938)},4738,e=>{"use strict";var s=e.i(48277),t=e.i(30668),a=e.i(42414),r=e.i(35884);let l=(0,r.default)("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),i=(0,r.default)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),d=(0,r.default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),n=(0,r.default)("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]]),c=(0,r.default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var m=e.i(43938);let x=(0,r.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var o=e.i(29202),h=e.i(42350),u=e.i(38116),j=e.i(89605);let p=async()=>(await j.api.get("/health/detailed")).data;var f=e.i(80658);function g(){let[e,r]=(0,t.useState)(null),[j,g]=(0,t.useState)(!0),[N,y]=(0,t.useState)(null),[b,v]=(0,t.useState)(!1),C=async()=>{try{g(!0),y(null);let e=await p();r(e)}catch(e){y(e instanceof Error?e.message:"Failed to fetch health data")}finally{g(!1)}};(0,t.useEffect)(()=>{if(C(),b){let e=setInterval(C,5e3);return()=>clearInterval(e)}},[b]);let w=e=>"boolean"==typeof e?e?(0,s.jsx)(x,{className:"h-5 w-5 text-green-500"}):(0,s.jsx)(o.XCircle,{className:"h-5 w-5 text-red-500"}):"connected"===e||"ok"===e?(0,s.jsx)(x,{className:"h-5 w-5 text-green-500"}):(0,s.jsx)(h.AlertCircle,{className:"h-5 w-5 text-yellow-500"}),k=e=>"boolean"==typeof e?e?"text-green-500":"text-red-500":"connected"===e||"ok"===e?"text-green-500":"text-yellow-500";return j&&!e?(0,s.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(a.RefreshCw,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-primary"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Loading health data..."})]})})}):N&&!e?(0,s.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,s.jsxs)(u.Card,{className:"max-w-md w-full",children:[(0,s.jsx)(u.CardHeader,{children:(0,s.jsxs)(u.CardTitle,{className:"flex items-center gap-2 text-red-500",children:[(0,s.jsx)(o.XCircle,{className:"h-6 w-6"}),"Error Loading Health Data"]})}),(0,s.jsxs)(u.CardContent,{children:[(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:N}),(0,s.jsxs)(f.default,{onClick:C,className:"w-full",children:[(0,s.jsx)(a.RefreshCw,{className:"h-4 w-4 mr-2"}),"Retry"]})]})]})})}):e?(0,s.jsxs)("div",{className:"container mx-auto px-4 py-16",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-4xl font-bold mb-2 flex items-center gap-3",children:[(0,s.jsx)(d,{className:"h-10 w-10 text-primary"}),"System Health Monitor"]}),(0,s.jsx)("p",{className:"text-muted-foreground text-lg",children:"Real-time monitoring of Campus Market infrastructure"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(f.default,{onClick:C,disabled:j,variant:"outline",children:[(0,s.jsx)(a.RefreshCw,{className:`h-4 w-4 mr-2 ${j?"animate-spin":""}`}),"Refresh"]}),(0,s.jsx)(f.default,{onClick:()=>v(!b),variant:b?"default":"outline",children:b?"Auto: ON":"Auto: OFF"})]})]}),(0,s.jsxs)(u.Card,{className:"mb-6 border-2",children:[(0,s.jsx)(u.CardHeader,{children:(0,s.jsxs)(u.CardTitle,{className:"flex items-center justify-between",children:[(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)(l,{className:"h-6 w-6 text-primary"}),"System Status"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[w(e.status),(0,s.jsx)("span",{className:`text-2xl font-bold ${k(e.status)}`,children:e.status.toUpperCase()})]})]})}),(0,s.jsx)(u.CardContent,{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Environment"}),(0,s.jsx)("p",{className:"text-lg font-semibold",children:e.environment})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Uptime"}),(0,s.jsx)("p",{className:"text-lg font-semibold",children:e.uptime_formatted})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Node Version"}),(0,s.jsx)("p",{className:"text-lg font-semibold",children:e.node_version})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Last Check"}),(0,s.jsx)("p",{className:"text-lg font-semibold",children:new Date(e.timestamp).toLocaleTimeString()})]})]})})]}),(0,s.jsxs)(u.Card,{className:"mb-6",children:[(0,s.jsx)(u.CardHeader,{children:(0,s.jsxs)(u.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(i,{className:"h-6 w-6 text-primary"}),"Database Status",w(e.database.status)]})}),(0,s.jsxs)(u.CardContent,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Status"}),(0,s.jsx)("p",{className:`text-lg font-semibold ${k(e.database.status)}`,children:e.database.status})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Host"}),(0,s.jsx)("p",{className:"text-lg font-semibold",children:e.database.host})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Port"}),(0,s.jsx)("p",{className:"text-lg font-semibold",children:e.database.port})]})]}),e.database.stats&&!e.database.stats.error&&(0,s.jsxs)("div",{className:"border-t pt-4",children:[(0,s.jsx)("h3",{className:"font-semibold mb-3",children:"Database Statistics"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Database"}),(0,s.jsx)("p",{className:"font-semibold",children:e.database.stats.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Collections"}),(0,s.jsx)("p",{className:"font-semibold",children:e.database.stats.collections})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Data Size"}),(0,s.jsx)("p",{className:"font-semibold",children:e.database.stats.dataSize})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Storage Size"}),(0,s.jsx)("p",{className:"font-semibold",children:e.database.stats.storageSize})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Objects"}),(0,s.jsx)("p",{className:"font-semibold",children:e.database.stats.objects?.toLocaleString()})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Indexes"}),(0,s.jsx)("p",{className:"font-semibold",children:e.database.stats.indexes})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Index Size"}),(0,s.jsx)("p",{className:"font-semibold",children:e.database.stats.indexSize})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Avg Object Size"}),(0,s.jsxs)("p",{className:"font-semibold",children:[e.database.stats.avgObjSize," bytes"]})]})]}),e.database.stats.collectionNames&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Collections:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:e.database.stats.collectionNames.map(e=>(0,s.jsx)("span",{className:"px-3 py-1 bg-secondary text-secondary-foreground rounded-full text-sm",children:e},e))})]})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,s.jsxs)(u.Card,{children:[(0,s.jsx)(u.CardHeader,{children:(0,s.jsxs)(u.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(n,{className:"h-6 w-6 text-primary"}),"Memory Usage"]})}),(0,s.jsx)(u.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Heap Used"}),(0,s.jsx)("span",{className:"font-semibold",children:e.memory.heapUsed})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Heap Total"}),(0,s.jsx)("span",{className:"font-semibold",children:e.memory.heapTotal})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"RSS"}),(0,s.jsx)("span",{className:"font-semibold",children:e.memory.rss})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"External"}),(0,s.jsx)("span",{className:"font-semibold",children:e.memory.external})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Array Buffers"}),(0,s.jsx)("span",{className:"font-semibold",children:e.memory.arrayBuffers})]})]})})]}),(0,s.jsxs)(u.Card,{children:[(0,s.jsx)(u.CardHeader,{children:(0,s.jsxs)(u.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(c,{className:"h-6 w-6 text-primary"}),"System Info"]})}),(0,s.jsx)(u.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Platform"}),(0,s.jsx)("span",{className:"font-semibold",children:e.platform})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Architecture"}),(0,s.jsx)("span",{className:"font-semibold",children:e.architecture})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"CPU Usage (User)"}),(0,s.jsxs)("span",{className:"font-semibold",children:[e.cpu.usage.user," μs"]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"CPU Usage (System)"}),(0,s.jsxs)("span",{className:"font-semibold",children:[e.cpu.usage.system," μs"]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Process ID"}),(0,s.jsx)("span",{className:"font-semibold",children:e.process.pid})]})]})})]})]}),(0,s.jsxs)(u.Card,{className:"mb-6",children:[(0,s.jsx)(u.CardHeader,{children:(0,s.jsxs)(u.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(d,{className:"h-6 w-6 text-primary"}),"Socket.io Connections"]})}),(0,s.jsx)(u.CardContent,{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Active Connections"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-primary",children:e.sockets.activeConnections})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Namespace Connections"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-primary",children:e.sockets.totalConnections})]})]})})]}),(0,s.jsxs)(u.Card,{className:"mb-6",children:[(0,s.jsx)(u.CardHeader,{children:(0,s.jsxs)(u.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(l,{className:"h-6 w-6 text-primary"}),"API Information"]})}),(0,s.jsx)(u.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Name"}),(0,s.jsx)("span",{className:"font-semibold",children:e.api.name})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Version"}),(0,s.jsx)("span",{className:"font-semibold",children:e.api.version})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Description"}),(0,s.jsx)("span",{className:"font-semibold text-right max-w-md",children:e.api.description})]})]})})]}),(0,s.jsxs)("div",{className:"text-center text-sm text-muted-foreground",children:[(0,s.jsx)(m.Clock,{className:"h-4 w-4 inline mr-2"}),"Last updated: ",new Date(e.timestamp).toLocaleString()]})]}):null}e.s(["default",()=>g],4738)}]);