(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,36291,e=>{"use strict";var s=e.i(48277);let a=({className:e=""})=>(0,s.jsx)("div",{className:`animate-pulse rounded-md bg-muted ${e}`,role:"status","aria-label":"Loading",children:(0,s.jsx)("span",{className:"sr-only",children:"Loading..."})});e.s(["CategoryCardSkeleton",0,({count:e=1})=>(0,s.jsx)(s.Fragment,{children:Array.from({length:e}).map((e,l)=>(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)("div",{className:"w-16 h-16 rounded-full bg-muted animate-pulse"})}),(0,s.jsx)(a,{className:"h-6 w-3/4 mx-auto mb-3"}),(0,s.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,s.jsx)(a,{className:"h-3 w-full"}),(0,s.jsx)(a,{className:"h-3 w-2/3 mx-auto"})]}),(0,s.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,s.jsx)(a,{className:"h-4 w-24"})}),(0,s.jsx)(a,{className:"h-9 w-full"})]},l))}),"MessageListSkeleton",0,({count:e=5})=>(0,s.jsx)("div",{className:"space-y-2",children:Array.from({length:e}).map((e,l)=>(0,s.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-lg border bg-card hover:bg-accent/50",children:[(0,s.jsx)(a,{className:"h-12 w-12 rounded-full flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0 space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(a,{className:"h-4 w-32"}),(0,s.jsx)(a,{className:"h-3 w-20"})]}),(0,s.jsx)(a,{className:"h-3 w-3/4"})]})]},l))}),"OrderDetailSkeleton",0,()=>(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(a,{className:"h-8 w-64"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(a,{className:"h-6 w-24 rounded-full"}),(0,s.jsx)(a,{className:"h-6 w-32 rounded-full"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6 space-y-2",children:[(0,s.jsx)(a,{className:"h-4 w-20"}),(0,s.jsx)(a,{className:"h-6 w-32"})]}),(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6 space-y-2",children:[(0,s.jsx)(a,{className:"h-4 w-20"}),(0,s.jsx)(a,{className:"h-6 w-32"})]}),(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6 space-y-2",children:[(0,s.jsx)(a,{className:"h-4 w-20"}),(0,s.jsx)(a,{className:"h-6 w-32"})]})]}),(0,s.jsx)("div",{className:"rounded-lg border bg-card p-6",children:(0,s.jsxs)("div",{className:"flex gap-6",children:[(0,s.jsx)(a,{className:"w-32 h-32 rounded-lg"}),(0,s.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,s.jsx)(a,{className:"h-6 w-3/4"}),(0,s.jsx)(a,{className:"h-4 w-full"}),(0,s.jsx)(a,{className:"h-4 w-2/3"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(a,{className:"h-4 w-24"}),(0,s.jsx)(a,{className:"h-4 w-24"})]})]})]})}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(a,{className:"h-10 w-32"}),(0,s.jsx)(a,{className:"h-10 w-32"})]})]}),"OrderListSkeleton",0,({count:e=5})=>(0,s.jsx)("div",{className:"space-y-4",children:Array.from({length:e}).map((e,l)=>(0,s.jsx)("div",{className:"rounded-lg border bg-card p-6",children:(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("div",{className:"w-20 h-20 rounded-lg bg-muted animate-pulse flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)(a,{className:"h-4 w-3/4"}),(0,s.jsx)(a,{className:"h-3 w-1/2"})]}),(0,s.jsx)(a,{className:"h-6 w-16 rounded-full"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(a,{className:"h-4 w-24"}),(0,s.jsx)(a,{className:"h-6 w-20"})]}),(0,s.jsx)(a,{className:"h-3 w-32"})]})]})},l))}),"PageHeaderSkeleton",0,({showSubtitle:e=!0,showActions:l=!0})=>(0,s.jsx)("div",{className:"mb-8 space-y-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(a,{className:"h-8 w-64"}),e&&(0,s.jsx)(a,{className:"h-4 w-96"})]}),l&&(0,s.jsx)(a,{className:"h-10 w-32"})]})}),"ProductCardHorizontalSkeleton",0,({count:e=5})=>(0,s.jsx)("div",{className:"space-y-4",children:Array.from({length:e}).map((e,l)=>(0,s.jsx)("div",{className:"rounded-lg border bg-card overflow-hidden",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,s.jsx)("div",{className:"w-full md:w-48 h-48 bg-muted animate-pulse flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 p-6 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)(a,{className:"h-5 w-3/4"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(a,{className:"h-4 w-24"}),(0,s.jsx)(a,{className:"h-4 w-32"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(a,{className:"h-6 w-16 rounded-full"}),(0,s.jsx)(a,{className:"h-6 w-16 rounded-full"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(a,{className:"h-3 w-full"}),(0,s.jsx)(a,{className:"h-3 w-2/3"})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,s.jsx)(a,{className:"h-4 w-24"}),(0,s.jsx)(a,{className:"h-4 w-24"}),(0,s.jsx)(a,{className:"h-4 w-24"})]}),(0,s.jsxs)("div",{className:"flex gap-2 md:w-48",children:[(0,s.jsx)(a,{className:"h-10 flex-1"}),(0,s.jsx)(a,{className:"h-10 flex-1"}),(0,s.jsx)(a,{className:"h-10 w-12"})]})]})]})},l))}),"ProductCardSkeleton",0,({count:e=1})=>(0,s.jsx)(s.Fragment,{children:Array.from({length:e}).map((e,l)=>(0,s.jsxs)("div",{className:"rounded-lg border bg-card overflow-hidden",children:[(0,s.jsx)("div",{className:"aspect-square w-full bg-muted animate-pulse"}),(0,s.jsxs)("div",{className:"p-4 space-y-3",children:[(0,s.jsx)(a,{className:"h-4 w-3/4"}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(a,{className:"h-5 w-1/3"}),(0,s.jsx)(a,{className:"h-3 w-1/4"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(a,{className:"h-3 w-full"}),(0,s.jsx)(a,{className:"h-3 w-full"}),(0,s.jsx)(a,{className:"h-3 w-2/3"})]}),(0,s.jsx)(a,{className:"h-10 w-full"})]})]},l))}),"ProductDetailSkeleton",0,()=>(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(a,{className:"aspect-square w-full rounded-lg"}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-2",children:Array.from({length:4}).map((e,l)=>(0,s.jsx)(a,{className:"aspect-square rounded-lg"},l))})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(a,{className:"h-8 w-3/4"}),(0,s.jsx)(a,{className:"h-6 w-1/3"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(a,{className:"h-6 w-16 rounded-full"}),(0,s.jsx)(a,{className:"h-6 w-16 rounded-full"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(a,{className:"h-4 w-full"}),(0,s.jsx)(a,{className:"h-4 w-full"}),(0,s.jsx)(a,{className:"h-4 w-2/3"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(a,{className:"h-4 w-32"}),(0,s.jsx)(a,{className:"h-4 w-40"})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(a,{className:"h-12 flex-1"}),(0,s.jsx)(a,{className:"h-12 w-16"})]}),(0,s.jsx)(a,{className:"h-10 w-full"})]})]}),(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsx)(a,{className:"h-6 w-32 mb-4"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(a,{className:"h-16 w-16 rounded-full"}),(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)(a,{className:"h-5 w-48"}),(0,s.jsx)(a,{className:"h-4 w-64"})]}),(0,s.jsx)(a,{className:"h-10 w-32"})]})]})]}),"ProfileSkeleton",0,({showAvatar:e=!0,showStats:l=!0})=>(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"rounded-lg border bg-card p-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[e&&(0,s.jsx)("div",{children:(0,s.jsx)(a,{className:"h-24 w-24 rounded-full"})}),(0,s.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,s.jsx)(a,{className:"h-8 w-48"}),(0,s.jsx)(a,{className:"h-4 w-64"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(a,{className:"h-4 w-32"}),(0,s.jsx)(a,{className:"h-4 w-32"})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(a,{className:"h-10 w-32"}),(0,s.jsx)(a,{className:"h-10 w-32"})]})]})}),l&&(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:Array.from({length:4}).map((e,l)=>(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsx)(a,{className:"h-5 w-24 mb-2"}),(0,s.jsx)(a,{className:"h-8 w-16"})]},l))}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(a,{className:"h-6 w-48"}),(0,s.jsx)("div",{className:"space-y-3",children:Array.from({length:3}).map((e,l)=>(0,s.jsx)("div",{className:"rounded-lg border bg-card p-4",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(a,{className:"h-4 w-3/4"}),(0,s.jsx)(a,{className:"h-3 w-full"}),(0,s.jsx)(a,{className:"h-3 w-2/3"})]})},l))})]})]}),"StatsCardsSkeleton",0,({count:e=4})=>(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:e}).map((e,l)=>(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)(a,{className:"h-5 w-24"}),(0,s.jsx)(a,{className:"h-4 w-4"})]}),(0,s.jsx)(a,{className:"h-8 w-16"})]},l))}),"TableSkeleton",0,({rows:e=5,columns:l=5,showAvatar:r=!1})=>(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"flex items-center gap-4 px-4 py-3 border-b",children:Array.from({length:l}).map((e,l)=>(0,s.jsx)(a,{className:"h-5 flex-1"},l))}),Array.from({length:e}).map((e,d)=>(0,s.jsxs)("div",{className:"flex items-center gap-4 px-4 py-4 border-b",children:[r&&(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(a,{className:"h-10 w-10 rounded-full"})}),Array.from({length:l}).map((e,l)=>(0,s.jsx)(a,{className:"h-4 flex-1"},l))]},d))]})])},59484,e=>{"use strict";let s=(0,e.i(35884).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>s],59484)},88255,e=>{"use strict";let s=(0,e.i(35884).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>s],88255)},29202,e=>{"use strict";let s=(0,e.i(35884).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>s],29202)},43938,e=>{"use strict";let s=(0,e.i(35884).default)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]]);e.s(["Clock",()=>s],43938)},97599,e=>{"use strict";let s=(0,e.i(35884).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);e.s(["Phone",()=>s],97599)},82087,e=>{"use strict";let s=(0,e.i(35884).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>s],82087)},89433,e=>{"use strict";var s=e.i(48277),a=e.i(30668),l=e.i(96086),r=e.i(42588),d=e.i(80380),c=e.i(88255),i=e.i(97599),t=e.i(82087),n=e.i(59484),m=e.i(43938),x=e.i(93561),o=e.i(29202),h=e.i(42350),j=e.i(22195),u=e.i(40206),N=e.i(99738);e.i(92544);var p=e.i(11897),g=e.i(36291);function f(){let e=(0,l.useParams)(),f=(0,l.useRouter)(),{isAuthenticated:v}=(0,u.useAuth)(),[w,y]=(0,a.useState)(null),[b,k]=(0,a.useState)(!0),[A,P]=(0,a.useState)(!1),[C,S]=(0,a.useState)(""),[O,I]=(0,a.useState)(!1);(0,a.useEffect)(()=>{v?(async()=>{try{let s=await j.ordersAPI.getOrder(e.id);y(s.data.order)}catch(e){console.error("Failed to fetch order:",e),p.toast.error("Failed to load order details."),e.response?.status===404?(p.toast.error("Order not found"),f.push("/buyer/orders")):e.response?.status===403&&(p.toast.error("You are not authorized to view this order"),f.push("/products"))}finally{k(!1)}})():f.push("/login")},[e.id,v,f]);let M=async()=>{if(w&&confirm("Are you sure you want to cancel this order?")){P(!0);try{await j.ordersAPI.cancelOrder(w._id,{reason:"buyer-request"}),p.toast.success("Order cancelled successfully");let e=await j.ordersAPI.getOrder(w._id);y(e.data.order)}catch(e){console.error("Failed to cancel order:",e),p.toast.error("Failed to cancel order."),p.toast.error(e.response?.data?.message||"Failed to cancel order")}finally{P(!1)}}},q=async()=>{if(w){if(!C||C.length<10)return void p.toast.error("Please enter a valid phone number");I(!0);try{let e=await j.ordersAPI.initiatePayment(w._id,{phoneNumber:C});p.toast.success("Payment initiated! Check your phone for M-Pesa prompt.",{description:`Request ID: ${e.data.checkoutRequestID}`});let s=await j.ordersAPI.getOrder(w._id);y(s.data.order)}catch(e){console.error("Failed to initiate payment:",e),p.toast.error("Failed to initiate payment."),p.toast.error(e.response?.data?.message||"Failed to initiate payment")}finally{I(!1)}}};return b?(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,s.jsx)(g.OrderDetailSkeleton,{})})}):w?(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Order Details"}),(0,s.jsxs)("p",{className:"text-muted-foreground mt-1",children:["Order #",w.orderNumber]})]}),(0,s.jsx)("button",{onClick:()=>f.back(),className:"px-4 py-2 border rounded-lg hover:bg-accent transition-colors",children:"Back"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)("div",{className:"rounded-lg border bg-card p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Order Status"}),(0,s.jsx)("p",{className:"text-2xl font-bold capitalize mt-1",children:w.status})]}),(()=>{if(!w)return null;switch(w.status){case"pending":return(0,s.jsx)(m.Clock,{className:"h-5 w-5 text-yellow-500"});case"confirmed":return(0,s.jsx)(x.CheckCircle,{className:"h-5 w-5 text-blue-500"});case"shipped":return(0,s.jsx)(n.Package,{className:"h-5 w-5 text-purple-500"});case"delivered":return(0,s.jsx)(x.CheckCircle,{className:"h-5 w-5 text-green-500"});case"cancelled":return(0,s.jsx)(o.XCircle,{className:"h-5 w-5 text-red-500"});case"refunded":return(0,s.jsx)(h.AlertCircle,{className:"h-5 w-5 text-orange-500"});default:return(0,s.jsx)(h.AlertCircle,{className:"h-5 w-5 text-gray-500"})}})()]})}),(0,s.jsx)("div",{className:"rounded-lg border bg-card p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Payment Status"}),(0,s.jsx)("p",{className:`text-2xl font-bold capitalize mt-1 ${(()=>{if(!w)return"text-gray-500";switch(w.paymentStatus){case"completed":return"text-green-500";case"pending":return"text-yellow-500";case"failed":return"text-red-500";case"refunded":return"text-orange-500";default:return"text-gray-500"}})()}`,children:w.paymentStatus})]}),"completed"===w.paymentStatus?(0,s.jsx)(x.CheckCircle,{className:"h-5 w-5 text-green-500"}):(0,s.jsx)(m.Clock,{className:"h-5 w-5 text-yellow-500"})]})})]}),(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Product Information"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("div",{className:"relative w-24 h-24 rounded-lg overflow-hidden bg-muted flex-shrink-0",children:w.product.images?.[0]?(0,s.jsx)(r.default,{src:w.product.images[0],alt:w.product.title,fill:!0,className:"object-cover"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:"No Image"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"font-semibold",children:w.product.title}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Seller: ",w.seller.name]}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",w.quantity]}),(0,s.jsx)("p",{className:"text-lg font-bold text-primary mt-2",children:(0,N.formatPrice)(w.totalPrice)})]})]})]}),w.shippingAddress&&(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,s.jsx)(c.MapPin,{className:"h-5 w-5 text-primary"}),(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Shipping Address"})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[w.shippingAddress.street&&(0,s.jsx)("p",{className:"text-sm",children:w.shippingAddress.street}),(w.shippingAddress.building||w.shippingAddress.room)&&(0,s.jsxs)("p",{className:"text-sm",children:[w.shippingAddress.building&&`Building: ${w.shippingAddress.building}`,w.shippingAddress.building&&w.shippingAddress.room&&", ",w.shippingAddress.room&&`Room: ${w.shippingAddress.room}`]}),w.shippingAddress.city&&(0,s.jsx)("p",{className:"text-sm",children:w.shippingAddress.city}),w.shippingAddress.landmarks&&(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Landmarks: ",w.shippingAddress.landmarks]})]})]}),(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Seller Information"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(t.Mail,{className:"h-5 w-5 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Email"}),(0,s.jsx)("p",{className:"font-medium",children:w.seller.email})]})]}),w.seller.phone&&(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(i.Phone,{className:"h-5 w-5 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Phone"}),(0,s.jsx)("p",{className:"font-medium",children:w.seller.phone})]})]})]})]}),"pending"===w.paymentStatus&&(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Complete Payment"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"M-Pesa Phone Number"}),(0,s.jsx)("input",{type:"tel",placeholder:"e.g., 0712345678",value:C,onChange:e=>S(e.target.value),className:"w-full px-4 py-2 rounded-lg border bg-background"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"You will receive an M-Pesa prompt on this number"})]}),(0,s.jsx)("button",{onClick:q,disabled:O,className:"w-full px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:O?(0,s.jsxs)("span",{className:"flex items-center justify-center space-x-2",children:[(0,s.jsx)(d.Loader2,{className:"h-5 w-5 animate-spin"}),(0,s.jsx)("span",{children:"Processing..."})]}):`Pay ${(0,N.formatPrice)(w.totalPrice)}`})]})]}),"pending"===w.status&&(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Actions"}),(0,s.jsx)("button",{onClick:M,disabled:A,className:"w-full px-6 py-3 bg-destructive text-destructive-foreground rounded-lg hover:bg-destructive/90 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:A?(0,s.jsxs)("span",{className:"flex items-center justify-center space-x-2",children:[(0,s.jsx)(d.Loader2,{className:"h-5 w-5 animate-spin"}),(0,s.jsx)("span",{children:"Cancelling..."})]}):"Cancel Order"})]}),(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Order Timeline"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(m.Clock,{className:"h-5 w-5 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Order Placed"}),(0,s.jsx)("p",{className:"font-medium",children:new Date(w.createdAt).toLocaleString()})]})]}),w.deliveredAt&&(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(x.CheckCircle,{className:"h-5 w-5 text-green-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Delivered"}),(0,s.jsx)("p",{className:"font-medium",children:new Date(w.deliveredAt).toLocaleString()})]})]}),w.cancelledAt&&(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(o.XCircle,{className:"h-5 w-5 text-red-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Cancelled"}),(0,s.jsx)("p",{className:"font-medium",children:new Date(w.cancelledAt).toLocaleString()})]})]})]})]}),w.mpesaTransactionId&&(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Payment Details"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Transaction ID"}),(0,s.jsx)("span",{className:"font-medium",children:w.mpesaTransactionId})]}),w.mpesaPhoneNumber&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Phone Number"}),(0,s.jsx)("span",{className:"font-medium",children:w.mpesaPhoneNumber})]})]})]})]})}):null}e.s(["default",()=>f])}]);