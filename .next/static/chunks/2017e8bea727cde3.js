(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,80658,e=>{"use strict";var s=e.i(48277),a=e.i(99738);function l({children:e,className:l,variant:r="primary",size:i="md",isLoading:t=!1,loadingText:c,disabled:d,...n}){return(0,s.jsx)("button",{type:n.type||"button",className:(0,a.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-ring disabled:opacity-50 disabled:pointer-events-none disabled:cursor-not-allowed",{primary:"bg-primary text-primary-foreground hover:opacity-90 focus-visible:ring-primary",secondary:"bg-secondary text-secondary-foreground hover:opacity-90 focus-visible:ring-secondary",outline:"border border-border hover:bg-accent hover:text-accent-foreground focus-visible:ring-border",ghost:"hover:bg-accent hover:text-accent-foreground focus-visible:ring-accent",danger:"bg-destructive text-destructive-foreground hover:opacity-90 focus-visible:ring-destructive"}[r],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[i],l),disabled:d||t,"aria-live":t?"polite":void 0,"aria-busy":t,...n,children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",role:"img",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,s.jsx)("span",{children:c||"Loading..."})]}):e})}e.s(["default",()=>l])},36291,e=>{"use strict";var s=e.i(48277);let a=({className:e=""})=>(0,s.jsx)("div",{className:`animate-pulse rounded-md bg-muted ${e}`,role:"status","aria-label":"Loading",children:(0,s.jsx)("span",{className:"sr-only",children:"Loading..."})});e.s(["CategoryCardSkeleton",0,({count:e=1})=>(0,s.jsx)(s.Fragment,{children:Array.from({length:e}).map((e,l)=>(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)("div",{className:"w-16 h-16 rounded-full bg-muted animate-pulse"})}),(0,s.jsx)(a,{className:"h-6 w-3/4 mx-auto mb-3"}),(0,s.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,s.jsx)(a,{className:"h-3 w-full"}),(0,s.jsx)(a,{className:"h-3 w-2/3 mx-auto"})]}),(0,s.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,s.jsx)(a,{className:"h-4 w-24"})}),(0,s.jsx)(a,{className:"h-9 w-full"})]},l))}),"MessageListSkeleton",0,({count:e=5})=>(0,s.jsx)("div",{className:"space-y-2",children:Array.from({length:e}).map((e,l)=>(0,s.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-lg border bg-card hover:bg-accent/50",children:[(0,s.jsx)(a,{className:"h-12 w-12 rounded-full flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0 space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(a,{className:"h-4 w-32"}),(0,s.jsx)(a,{className:"h-3 w-20"})]}),(0,s.jsx)(a,{className:"h-3 w-3/4"})]})]},l))}),"OrderDetailSkeleton",0,()=>(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(a,{className:"h-8 w-64"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(a,{className:"h-6 w-24 rounded-full"}),(0,s.jsx)(a,{className:"h-6 w-32 rounded-full"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6 space-y-2",children:[(0,s.jsx)(a,{className:"h-4 w-20"}),(0,s.jsx)(a,{className:"h-6 w-32"})]}),(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6 space-y-2",children:[(0,s.jsx)(a,{className:"h-4 w-20"}),(0,s.jsx)(a,{className:"h-6 w-32"})]}),(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6 space-y-2",children:[(0,s.jsx)(a,{className:"h-4 w-20"}),(0,s.jsx)(a,{className:"h-6 w-32"})]})]}),(0,s.jsx)("div",{className:"rounded-lg border bg-card p-6",children:(0,s.jsxs)("div",{className:"flex gap-6",children:[(0,s.jsx)(a,{className:"w-32 h-32 rounded-lg"}),(0,s.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,s.jsx)(a,{className:"h-6 w-3/4"}),(0,s.jsx)(a,{className:"h-4 w-full"}),(0,s.jsx)(a,{className:"h-4 w-2/3"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(a,{className:"h-4 w-24"}),(0,s.jsx)(a,{className:"h-4 w-24"})]})]})]})}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(a,{className:"h-10 w-32"}),(0,s.jsx)(a,{className:"h-10 w-32"})]})]}),"OrderListSkeleton",0,({count:e=5})=>(0,s.jsx)("div",{className:"space-y-4",children:Array.from({length:e}).map((e,l)=>(0,s.jsx)("div",{className:"rounded-lg border bg-card p-6",children:(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("div",{className:"w-20 h-20 rounded-lg bg-muted animate-pulse flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)(a,{className:"h-4 w-3/4"}),(0,s.jsx)(a,{className:"h-3 w-1/2"})]}),(0,s.jsx)(a,{className:"h-6 w-16 rounded-full"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(a,{className:"h-4 w-24"}),(0,s.jsx)(a,{className:"h-6 w-20"})]}),(0,s.jsx)(a,{className:"h-3 w-32"})]})]})},l))}),"PageHeaderSkeleton",0,({showSubtitle:e=!0,showActions:l=!0})=>(0,s.jsx)("div",{className:"mb-8 space-y-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(a,{className:"h-8 w-64"}),e&&(0,s.jsx)(a,{className:"h-4 w-96"})]}),l&&(0,s.jsx)(a,{className:"h-10 w-32"})]})}),"ProductCardHorizontalSkeleton",0,({count:e=5})=>(0,s.jsx)("div",{className:"space-y-4",children:Array.from({length:e}).map((e,l)=>(0,s.jsx)("div",{className:"rounded-lg border bg-card overflow-hidden",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,s.jsx)("div",{className:"w-full md:w-48 h-48 bg-muted animate-pulse flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 p-6 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)(a,{className:"h-5 w-3/4"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(a,{className:"h-4 w-24"}),(0,s.jsx)(a,{className:"h-4 w-32"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(a,{className:"h-6 w-16 rounded-full"}),(0,s.jsx)(a,{className:"h-6 w-16 rounded-full"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(a,{className:"h-3 w-full"}),(0,s.jsx)(a,{className:"h-3 w-2/3"})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,s.jsx)(a,{className:"h-4 w-24"}),(0,s.jsx)(a,{className:"h-4 w-24"}),(0,s.jsx)(a,{className:"h-4 w-24"})]}),(0,s.jsxs)("div",{className:"flex gap-2 md:w-48",children:[(0,s.jsx)(a,{className:"h-10 flex-1"}),(0,s.jsx)(a,{className:"h-10 flex-1"}),(0,s.jsx)(a,{className:"h-10 w-12"})]})]})]})},l))}),"ProductCardSkeleton",0,({count:e=1})=>(0,s.jsx)(s.Fragment,{children:Array.from({length:e}).map((e,l)=>(0,s.jsxs)("div",{className:"rounded-lg border bg-card overflow-hidden",children:[(0,s.jsx)("div",{className:"aspect-square w-full bg-muted animate-pulse"}),(0,s.jsxs)("div",{className:"p-4 space-y-3",children:[(0,s.jsx)(a,{className:"h-4 w-3/4"}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(a,{className:"h-5 w-1/3"}),(0,s.jsx)(a,{className:"h-3 w-1/4"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(a,{className:"h-3 w-full"}),(0,s.jsx)(a,{className:"h-3 w-full"}),(0,s.jsx)(a,{className:"h-3 w-2/3"})]}),(0,s.jsx)(a,{className:"h-10 w-full"})]})]},l))}),"ProductDetailSkeleton",0,()=>(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(a,{className:"aspect-square w-full rounded-lg"}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-2",children:Array.from({length:4}).map((e,l)=>(0,s.jsx)(a,{className:"aspect-square rounded-lg"},l))})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(a,{className:"h-8 w-3/4"}),(0,s.jsx)(a,{className:"h-6 w-1/3"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(a,{className:"h-6 w-16 rounded-full"}),(0,s.jsx)(a,{className:"h-6 w-16 rounded-full"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(a,{className:"h-4 w-full"}),(0,s.jsx)(a,{className:"h-4 w-full"}),(0,s.jsx)(a,{className:"h-4 w-2/3"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(a,{className:"h-4 w-32"}),(0,s.jsx)(a,{className:"h-4 w-40"})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(a,{className:"h-12 flex-1"}),(0,s.jsx)(a,{className:"h-12 w-16"})]}),(0,s.jsx)(a,{className:"h-10 w-full"})]})]}),(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsx)(a,{className:"h-6 w-32 mb-4"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(a,{className:"h-16 w-16 rounded-full"}),(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)(a,{className:"h-5 w-48"}),(0,s.jsx)(a,{className:"h-4 w-64"})]}),(0,s.jsx)(a,{className:"h-10 w-32"})]})]})]}),"ProfileSkeleton",0,({showAvatar:e=!0,showStats:l=!0})=>(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"rounded-lg border bg-card p-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[e&&(0,s.jsx)("div",{children:(0,s.jsx)(a,{className:"h-24 w-24 rounded-full"})}),(0,s.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,s.jsx)(a,{className:"h-8 w-48"}),(0,s.jsx)(a,{className:"h-4 w-64"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(a,{className:"h-4 w-32"}),(0,s.jsx)(a,{className:"h-4 w-32"})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(a,{className:"h-10 w-32"}),(0,s.jsx)(a,{className:"h-10 w-32"})]})]})}),l&&(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:Array.from({length:4}).map((e,l)=>(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsx)(a,{className:"h-5 w-24 mb-2"}),(0,s.jsx)(a,{className:"h-8 w-16"})]},l))}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(a,{className:"h-6 w-48"}),(0,s.jsx)("div",{className:"space-y-3",children:Array.from({length:3}).map((e,l)=>(0,s.jsx)("div",{className:"rounded-lg border bg-card p-4",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(a,{className:"h-4 w-3/4"}),(0,s.jsx)(a,{className:"h-3 w-full"}),(0,s.jsx)(a,{className:"h-3 w-2/3"})]})},l))})]})]}),"StatsCardsSkeleton",0,({count:e=4})=>(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:e}).map((e,l)=>(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)(a,{className:"h-5 w-24"}),(0,s.jsx)(a,{className:"h-4 w-4"})]}),(0,s.jsx)(a,{className:"h-8 w-16"})]},l))}),"TableSkeleton",0,({rows:e=5,columns:l=5,showAvatar:r=!1})=>(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"flex items-center gap-4 px-4 py-3 border-b",children:Array.from({length:l}).map((e,l)=>(0,s.jsx)(a,{className:"h-5 flex-1"},l))}),Array.from({length:e}).map((e,i)=>(0,s.jsxs)("div",{className:"flex items-center gap-4 px-4 py-4 border-b",children:[r&&(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(a,{className:"h-10 w-10 rounded-full"})}),Array.from({length:l}).map((e,l)=>(0,s.jsx)(a,{className:"h-4 flex-1"},l))]},i))]})])},88255,e=>{"use strict";let s=(0,e.i(35884).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>s],88255)},63753,e=>{"use strict";let s=(0,e.i(35884).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>s],63753)},87200,e=>{"use strict";let s=(0,e.i(35884).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>s],87200)},30704,e=>{"use strict";let s=(0,e.i(35884).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>s],30704)},52443,e=>{"use strict";let s=(0,e.i(35884).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>s],52443)},8152,e=>{"use strict";let s=(0,e.i(35884).default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);e.s(["Truck",()=>s],8152)},37770,e=>{"use strict";var s=e.i(48277),a=e.i(42588),l=e.i(99738),r=e.i(30668),i=e.i(33991);function t({className:e,aspectRatio:a,width:r,height:i}){return(0,s.jsx)("div",{className:(0,l.cn)("animate-pulse bg-muted rounded-lg overflow-hidden",a?({square:"aspect-square",video:"aspect-video",portrait:"aspect-[3/4]",landscape:"aspect-[4/3]"})[a]:"",e),style:{width:r,height:i},"aria-hidden":"true",children:(0,s.jsx)("div",{className:"w-full h-full bg-gradient-to-r from-transparent via-muted-foreground/10 to-transparent animate-[shimmer_1.5s_infinite]"})})}function c({src:e,alt:c,fill:d=!1,width:n,height:o,className:m,priority:x=!1,sizes:u,showFallback:h=!0,fallbackText:p="No Image",showSkeleton:f=!1,blurColor:j=i.BLUR_COLORS.product}){let[g,N]=(0,r.useState)(!0),[v,b]=(0,r.useState)(!1),y=(0,s.jsx)("div",{className:(0,l.cn)("w-full h-full flex items-center justify-center text-muted-foreground text-sm",m),children:p});if(!e||v)return h?y:null;let w=(0,i.generateCloudinaryBlurDataURL)(e)||(0,i.generateColoredBlurDataURL)(j),k={src:e,alt:c,...x&&{priority:x},sizes:u,...d?{fill:!0,className:(0,l.cn)("object-cover transition-opacity duration-500 ease-in-out",g?"opacity-0":"opacity-100",m)}:{width:n,height:o,className:(0,l.cn)("object-cover transition-opacity duration-500 ease-in-out",g?"opacity-0":"opacity-100",m)},onLoad:()=>N(!1),onError:()=>b(!0),placeholder:"blur",blurDataURL:w||i.DEFAULT_BLUR_DATA_URL};return(0,s.jsxs)(s.Fragment,{children:[g&&f&&(0,s.jsx)("div",{className:"absolute inset-0 z-10",children:(0,s.jsx)(t,{className:"w-full h-full"})}),(0,s.jsx)(a.default,{...k})]})}e.s(["default",()=>c],37770)},35169,e=>{"use strict";let s=(0,e.i(35884).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>s],35169)},12463,e=>{"use strict";let s=(0,e.i(35884).default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);e.s(["Heart",()=>s],12463)},18458,e=>{"use strict";var s=e.i(48277),a=e.i(16506),l=e.i(37770),r=e.i(12463),i=e.i(88255),t=e.i(63753),c=e.i(50097),d=e.i(35169),n=e.i(99738),o=e.i(40206),m=e.i(47281),x=e.i(91482);e.i(92544);var u=e.i(11897),h=e.i(30668);let p=(0,h.memo)(function({product:e}){let{user:p,isAuthenticated:f}=(0,o.useAuth)(),{addToCart:j}=(0,m.useCart)(),[g,N]=(0,h.useState)(e.likes?.includes(p?._id||"")),[v,b]=(0,h.useState)(e.likes?.length||0),[y,w]=(0,h.useState)(!1),k=(0,h.useMemo)(()=>(0,n.formatPrice)(e.price),[e.price]),S=(0,h.useMemo)(()=>(0,n.formatRelativeTime)(e.createdAt),[e.createdAt]),A=(0,h.useMemo)(()=>(e.seller?.averageRating??0)>0?(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(d.Star,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),(0,s.jsx)("span",{children:e.seller.averageRating?.toFixed(1)||"0.0"}),(0,s.jsxs)("span",{className:"text-muted-foreground",children:["(",e.seller.totalReviews||0,")"]})]}):null,[e.seller?.averageRating,e.seller?.totalReviews]),C=(0,h.useMemo)(()=>e.views||0,[e.views]),P=(0,h.useCallback)(async s=>{if(s.preventDefault(),f)try{let s=await x.productsAPI.toggleLike(e._id);N(s.data.liked),b(s.data.likesCount)}catch(e){u.toast.error("Failed to like product")}},[e._id,f]),$=(0,h.useCallback)(async s=>{if(s.preventDefault(),!f)return void u.toast.error("Please login to add items to cart");w(!0);try{await j(e._id),u.toast.success("Added to cart!")}catch(e){u.toast.error(e.response?.data?.message||"Failed to add to cart")}finally{w(!1)}},[e._id,f,j]);return(0,s.jsx)(a.default,{href:`/products/${e._id}`,className:"block focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ring rounded-lg","aria-label":`View ${e.title}, priced at ${k}, located in ${e.location}`,children:(0,s.jsxs)("article",{className:"group rounded-lg border bg-card overflow-hidden hover:shadow-lg transition-all duration-300","aria-labelledby":`product-title-${e._id}`,children:[(0,s.jsxs)("div",{className:"relative aspect-square overflow-hidden bg-muted",children:[(0,s.jsx)(l.default,{src:e.images?.[0],alt:`Product image of ${e.title}`,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300",sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw"}),(0,s.jsx)("span",{className:"absolute top-2 left-2 px-2 py-1 rounded-full bg-background/80 backdrop-blur-sm text-xs font-medium","aria-label":`Condition: ${e.condition.replace("-"," ")}`,children:e.condition.replace("-"," ")}),f&&(0,s.jsx)("button",{onClick:P,className:(0,n.cn)("absolute top-2 right-2 p-2 rounded-full bg-background/80 backdrop-blur-sm transition-colors","focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ring",g?"text-destructive":"hover:text-destructive"),"aria-label":g?`Remove ${e.title} from wishlist`:`Add ${e.title} to wishlist`,"aria-pressed":g,type:"button",children:(0,s.jsx)(r.Heart,{className:(0,n.cn)("h-4 w-4",g&&"fill-current"),"aria-hidden":"true"})})]}),(0,s.jsxs)("div",{className:"p-4 space-y-2",children:[(0,s.jsx)("h3",{className:"font-semibold line-clamp-2 group-hover:text-primary transition-colors",id:`product-title-${e._id}`,children:e.title}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-lg font-bold text-primary","aria-labelledby":`product-title-${e._id}`,children:k}),e.isNegotiable&&(0,s.jsx)("span",{className:"text-xs text-muted-foreground","aria-label":"Price is negotiable",children:"Negotiable"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(i.MapPin,{className:"h-3 w-3","aria-hidden":"true"}),(0,s.jsx)("span",{className:"line-clamp-1",children:e.location})]}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsxs)("div",{className:"flex items-center space-x-1","aria-label":`${C} views`,children:[(0,s.jsx)(t.Eye,{className:"h-3 w-3","aria-hidden":"true"}),(0,s.jsx)("span",{children:C})]})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-2 border-t",children:[(0,s.jsxs)(a.default,{href:`/users/${e.seller?._id}`,className:"flex items-center gap-1 hover:text-primary transition-colors rounded-lg px-2 py-1 -mx-2 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ring",onClick:e=>e.preventDefault(),"aria-label":`View seller profile: ${e.seller?.name||"Unknown Seller"}`,children:[(0,s.jsx)("span",{children:e.seller?.name||"Unknown Seller"}),A]}),(0,s.jsx)("time",{dateTime:e.createdAt,"aria-label":`Listed ${S}`,children:S})]}),(0,s.jsx)("button",{onClick:$,disabled:y,"aria-live":"polite","aria-label":y?"Adding product to cart":`Add ${e.title} to cart`,type:"button",className:(0,n.cn)("w-full mt-3 px-4 py-2 rounded-lg font-medium text-sm transition-colors","bg-primary text-primary-foreground hover:bg-primary/90","disabled:opacity-50 disabled:cursor-not-allowed","focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ring"),children:y?(0,s.jsxs)("span",{className:"flex items-center justify-center space-x-2",children:[(0,s.jsx)("span",{className:"animate-spin","aria-hidden":"true",children:"â³"}),(0,s.jsx)("span",{children:"Adding..."})]}):(0,s.jsxs)("span",{className:"flex items-center justify-center space-x-2",children:[(0,s.jsx)(c.ShoppingCart,{className:"h-4 w-4","aria-hidden":"true"}),(0,s.jsx)("span",{children:"Add to Cart"})]})})]})]})})});e.s(["default",0,p])},68020,e=>{"use strict";var s=e.i(48277),a=e.i(18458),l=e.i(36291),r=e.i(99738);function i({products:e,loading:i=!1,columns:t={sm:1,md:2,lg:4,xl:4},className:c}){let d=(0,r.cn)("grid gap-6",`grid-cols-${t.sm||1}`,t.md&&`md:grid-cols-${t.md}`,t.lg&&`lg:grid-cols-${t.lg}`,t.xl&&`xl:grid-cols-${t.xl}`,c);return i?(0,s.jsx)("div",{className:d,children:(0,s.jsx)(l.ProductCardSkeleton,{count:8})}):e&&0!==e.length?(0,s.jsx)("div",{className:d,children:e.map(e=>(0,s.jsx)(a.default,{product:e},e._id))}):(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"No products found"})})}e.s(["default",()=>i])},19219,e=>{"use strict";var s=e.i(48277),a=e.i(30668),l=e.i(16506),r=e.i(32890),i=e.i(87200),t=e.i(30704),c=e.i(8152);let d=(0,e.i(35884).default)("headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);var n=e.i(52443),o=e.i(68020),m=e.i(91482),x=e.i(64076),u=e.i(36291),h=e.i(80658),p=e.i(11897);let f=[{icon:t.Shield,title:"Secure Transactions",description:"Safe payments with M-Pesa integration"},{icon:c.Truck,title:"Easy Delivery",description:"Convenient campus delivery options"},{icon:d,title:"24/7 Support",description:"Always here to help you out"},{icon:i.TrendingUp,title:"Trending Items",description:"Discover what's popular on campus"}],j=[{value:"10K+",label:"Products"},{value:"5K+",label:"Users"},{value:"1K+",label:"Transactions"}],g=(0,a.memo)(function(){let[e,i]=(0,a.useState)([]),[t,c]=(0,a.useState)([]),[d,g]=(0,a.useState)(!0),N=(0,a.useCallback)(async()=>{try{let[e,s]=await Promise.all([m.productsAPI.getProducts({page:1,limit:8,sortBy:"createdAt"}),x.categoriesAPI.getCategories()]);i(e.data.data),c(s.data.categories.slice(0,6))}catch(e){console.error("Failed to fetch data:",e),p.toast.error("Failed to load data.")}finally{g(!1)}},[]);(0,a.useEffect)(()=>{N()},[N]);let v=(0,a.useMemo)(()=>t.map(e=>(0,s.jsxs)(l.default,{href:`/categories/${e.slug}`,className:"group p-4 rounded-lg border bg-card hover:border-primary transition-all text-center focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ring","aria-label":`Browse ${e.name} category with ${e.productCount||0} items`,children:[(0,s.jsx)("div",{className:"text-3xl mb-2","aria-hidden":"true",children:e.icon||"ðŸ“¦"}),(0,s.jsx)("h3",{className:"font-medium text-sm group-hover:text-primary transition-colors",children:e.name}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[e.productCount||0," items"]})]},e._id)),[t]);return(0,s.jsxs)("div",{className:"space-y-16 pb-16",children:[(0,s.jsx)("section",{"aria-labelledby":"hero-heading",className:"relative bg-gradient-to-br from-primary/10 via-purple-10 to-background py-20",children:(0,s.jsx)("div",{className:"container mx-auto px-4",children:(0,s.jsxs)("div",{className:"max-w-3xl mx-auto text-center space-y-6",children:[(0,s.jsxs)("h1",{id:"hero-heading",className:"text-4xl md:text-6xl font-bold",children:["Welcome to"," ",(0,s.jsx)("span",{className:"bg-gradient-to-r from-primary to-purple-600 bg-clip-text text-transparent",children:"Embuni Campus Market"})]}),(0,s.jsx)("p",{className:"text-xl text-muted-foreground",children:"Your trusted campus marketplace"}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 max-w-2xl mx-auto",role:"search",children:[(0,s.jsx)(l.default,{href:"/products",className:"flex-1","aria-label":"Search for products",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(r.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground","aria-hidden":"true"}),(0,s.jsx)("input",{type:"text",placeholder:"Search for products...",className:"w-full pl-10 pr-4 py-3 rounded-lg border border-input bg-background focus:outline-none focus:ring-2 focus:ring-ring",readOnly:!0,"aria-label":"Search for products - click to go to products page"})]})}),(0,s.jsx)(h.default,{size:"lg","aria-label":"Search products",children:"Search"})]}),(0,s.jsx)("dl",{className:"grid grid-cols-3 gap-4 pt-8","aria-label":"Platform statistics",children:j.map(e=>(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("dt",{className:"text-2xl font-bold text-primary",children:e.value}),(0,s.jsx)("dd",{className:"text-sm text-muted-foreground",children:e.label})]},e.label))})]})})}),(0,s.jsxs)("section",{"aria-labelledby":"features-heading",className:"container mx-auto px-4",children:[(0,s.jsx)("h2",{id:"features-heading",className:"sr-only",children:"Platform Features"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",role:"list",children:f.map((e,a)=>(0,s.jsxs)("article",{className:"text-center space-y-3 p-6 rounded-lg border bg-card",role:"listitem",children:[(0,s.jsx)("div",{className:"inline-flex p-3 rounded-lg bg-primary/10 text-primary","aria-hidden":"true",children:(0,s.jsx)(e.icon,{className:"h-6 w-6"})}),(0,s.jsx)("h3",{className:"font-semibold",id:`feature-${a}-title`,children:e.title}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground","aria-describedby":`feature-${a}-title`,children:e.description})]},a))})]}),(0,s.jsxs)("section",{"aria-labelledby":"categories-heading",className:"container mx-auto px-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h2",{id:"categories-heading",className:"text-2xl font-bold",children:"Browse Categories"}),(0,s.jsxs)(l.default,{href:"/categories",className:"text-primary hover:underline flex items-center focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ring rounded","aria-label":"View all categories",children:["View All ",(0,s.jsx)(n.ArrowRight,{className:"ml-1 h-4 w-4","aria-hidden":"true"})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",role:"list","aria-label":"Product categories",children:d?(0,s.jsx)(u.CategoryCardSkeleton,{count:6}):v})]}),(0,s.jsxs)("section",{"aria-labelledby":"products-heading",className:"container mx-auto px-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h2",{id:"products-heading",className:"text-2xl font-bold",children:"Latest Products"}),(0,s.jsxs)(l.default,{href:"/products",className:"text-primary hover:underline flex items-center focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ring rounded","aria-label":"View all products",children:["View All ",(0,s.jsx)(n.ArrowRight,{className:"ml-1 h-4 w-4","aria-hidden":"true"})]})]}),(0,s.jsx)(o.default,{products:e,loading:d})]}),(0,s.jsx)("section",{"aria-labelledby":"cta-heading",className:"container mx-auto px-4",children:(0,s.jsxs)("div",{className:"bg-gradient-to-r from-primary to-purple-600 rounded-2xl p-12 text-center text-white",children:[(0,s.jsx)("h2",{id:"cta-heading",className:"text-3xl font-bold mb-4",children:"Start Selling Today"}),(0,s.jsx)("p",{className:"text-lg mb-6 opacity-90",children:"Join thousands of students already selling on Campus Market"}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",role:"group","aria-label":"Call to action buttons",children:[(0,s.jsx)(l.default,{href:"/register",children:(0,s.jsx)(h.default,{size:"lg",className:"bg-white text-primary hover:bg-white/90","aria-label":"Get started for free",children:"Get Started Free"})}),(0,s.jsx)(l.default,{href:"/products",children:(0,s.jsx)(h.default,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white/10","aria-label":"Browse all products",children:"Browse Products"})})]})]})})]})});e.s(["default",0,g],19219)}]);