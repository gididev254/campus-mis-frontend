(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,80658,e=>{"use strict";var s=e.i(48277),t=e.i(99738);function a({children:e,className:a,variant:r="primary",size:l="md",isLoading:i=!1,loadingText:c,disabled:n,...d}){return(0,s.jsx)("button",{type:d.type||"button",className:(0,t.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-ring disabled:opacity-50 disabled:pointer-events-none disabled:cursor-not-allowed",{primary:"bg-primary text-primary-foreground hover:opacity-90 focus-visible:ring-primary",secondary:"bg-secondary text-secondary-foreground hover:opacity-90 focus-visible:ring-secondary",outline:"border border-border hover:bg-accent hover:text-accent-foreground focus-visible:ring-border",ghost:"hover:bg-accent hover:text-accent-foreground focus-visible:ring-accent",danger:"bg-destructive text-destructive-foreground hover:opacity-90 focus-visible:ring-destructive"}[r],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[l],a),disabled:n||i,"aria-live":i?"polite":void 0,"aria-busy":i,...d,children:i?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",role:"img",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,s.jsx)("span",{children:c||"Loading..."})]}):e})}e.s(["default",()=>a])},36291,e=>{"use strict";var s=e.i(48277);let t=({className:e=""})=>(0,s.jsx)("div",{className:`animate-pulse rounded-md bg-muted ${e}`,role:"status","aria-label":"Loading",children:(0,s.jsx)("span",{className:"sr-only",children:"Loading..."})});e.s(["CategoryCardSkeleton",0,({count:e=1})=>(0,s.jsx)(s.Fragment,{children:Array.from({length:e}).map((e,a)=>(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)("div",{className:"w-16 h-16 rounded-full bg-muted animate-pulse"})}),(0,s.jsx)(t,{className:"h-6 w-3/4 mx-auto mb-3"}),(0,s.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,s.jsx)(t,{className:"h-3 w-full"}),(0,s.jsx)(t,{className:"h-3 w-2/3 mx-auto"})]}),(0,s.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,s.jsx)(t,{className:"h-4 w-24"})}),(0,s.jsx)(t,{className:"h-9 w-full"})]},a))}),"MessageListSkeleton",0,({count:e=5})=>(0,s.jsx)("div",{className:"space-y-2",children:Array.from({length:e}).map((e,a)=>(0,s.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-lg border bg-card hover:bg-accent/50",children:[(0,s.jsx)(t,{className:"h-12 w-12 rounded-full flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0 space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(t,{className:"h-4 w-32"}),(0,s.jsx)(t,{className:"h-3 w-20"})]}),(0,s.jsx)(t,{className:"h-3 w-3/4"})]})]},a))}),"OrderDetailSkeleton",0,()=>(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(t,{className:"h-8 w-64"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(t,{className:"h-6 w-24 rounded-full"}),(0,s.jsx)(t,{className:"h-6 w-32 rounded-full"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6 space-y-2",children:[(0,s.jsx)(t,{className:"h-4 w-20"}),(0,s.jsx)(t,{className:"h-6 w-32"})]}),(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6 space-y-2",children:[(0,s.jsx)(t,{className:"h-4 w-20"}),(0,s.jsx)(t,{className:"h-6 w-32"})]}),(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6 space-y-2",children:[(0,s.jsx)(t,{className:"h-4 w-20"}),(0,s.jsx)(t,{className:"h-6 w-32"})]})]}),(0,s.jsx)("div",{className:"rounded-lg border bg-card p-6",children:(0,s.jsxs)("div",{className:"flex gap-6",children:[(0,s.jsx)(t,{className:"w-32 h-32 rounded-lg"}),(0,s.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,s.jsx)(t,{className:"h-6 w-3/4"}),(0,s.jsx)(t,{className:"h-4 w-full"}),(0,s.jsx)(t,{className:"h-4 w-2/3"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(t,{className:"h-4 w-24"}),(0,s.jsx)(t,{className:"h-4 w-24"})]})]})]})}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(t,{className:"h-10 w-32"}),(0,s.jsx)(t,{className:"h-10 w-32"})]})]}),"OrderListSkeleton",0,({count:e=5})=>(0,s.jsx)("div",{className:"space-y-4",children:Array.from({length:e}).map((e,a)=>(0,s.jsx)("div",{className:"rounded-lg border bg-card p-6",children:(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("div",{className:"w-20 h-20 rounded-lg bg-muted animate-pulse flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)(t,{className:"h-4 w-3/4"}),(0,s.jsx)(t,{className:"h-3 w-1/2"})]}),(0,s.jsx)(t,{className:"h-6 w-16 rounded-full"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(t,{className:"h-4 w-24"}),(0,s.jsx)(t,{className:"h-6 w-20"})]}),(0,s.jsx)(t,{className:"h-3 w-32"})]})]})},a))}),"PageHeaderSkeleton",0,({showSubtitle:e=!0,showActions:a=!0})=>(0,s.jsx)("div",{className:"mb-8 space-y-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(t,{className:"h-8 w-64"}),e&&(0,s.jsx)(t,{className:"h-4 w-96"})]}),a&&(0,s.jsx)(t,{className:"h-10 w-32"})]})}),"ProductCardHorizontalSkeleton",0,({count:e=5})=>(0,s.jsx)("div",{className:"space-y-4",children:Array.from({length:e}).map((e,a)=>(0,s.jsx)("div",{className:"rounded-lg border bg-card overflow-hidden",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,s.jsx)("div",{className:"w-full md:w-48 h-48 bg-muted animate-pulse flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 p-6 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)(t,{className:"h-5 w-3/4"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(t,{className:"h-4 w-24"}),(0,s.jsx)(t,{className:"h-4 w-32"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(t,{className:"h-6 w-16 rounded-full"}),(0,s.jsx)(t,{className:"h-6 w-16 rounded-full"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(t,{className:"h-3 w-full"}),(0,s.jsx)(t,{className:"h-3 w-2/3"})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,s.jsx)(t,{className:"h-4 w-24"}),(0,s.jsx)(t,{className:"h-4 w-24"}),(0,s.jsx)(t,{className:"h-4 w-24"})]}),(0,s.jsxs)("div",{className:"flex gap-2 md:w-48",children:[(0,s.jsx)(t,{className:"h-10 flex-1"}),(0,s.jsx)(t,{className:"h-10 flex-1"}),(0,s.jsx)(t,{className:"h-10 w-12"})]})]})]})},a))}),"ProductCardSkeleton",0,({count:e=1})=>(0,s.jsx)(s.Fragment,{children:Array.from({length:e}).map((e,a)=>(0,s.jsxs)("div",{className:"rounded-lg border bg-card overflow-hidden",children:[(0,s.jsx)("div",{className:"aspect-square w-full bg-muted animate-pulse"}),(0,s.jsxs)("div",{className:"p-4 space-y-3",children:[(0,s.jsx)(t,{className:"h-4 w-3/4"}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(t,{className:"h-5 w-1/3"}),(0,s.jsx)(t,{className:"h-3 w-1/4"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(t,{className:"h-3 w-full"}),(0,s.jsx)(t,{className:"h-3 w-full"}),(0,s.jsx)(t,{className:"h-3 w-2/3"})]}),(0,s.jsx)(t,{className:"h-10 w-full"})]})]},a))}),"ProductDetailSkeleton",0,()=>(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(t,{className:"aspect-square w-full rounded-lg"}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-2",children:Array.from({length:4}).map((e,a)=>(0,s.jsx)(t,{className:"aspect-square rounded-lg"},a))})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(t,{className:"h-8 w-3/4"}),(0,s.jsx)(t,{className:"h-6 w-1/3"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(t,{className:"h-6 w-16 rounded-full"}),(0,s.jsx)(t,{className:"h-6 w-16 rounded-full"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(t,{className:"h-4 w-full"}),(0,s.jsx)(t,{className:"h-4 w-full"}),(0,s.jsx)(t,{className:"h-4 w-2/3"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(t,{className:"h-4 w-32"}),(0,s.jsx)(t,{className:"h-4 w-40"})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(t,{className:"h-12 flex-1"}),(0,s.jsx)(t,{className:"h-12 w-16"})]}),(0,s.jsx)(t,{className:"h-10 w-full"})]})]}),(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsx)(t,{className:"h-6 w-32 mb-4"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(t,{className:"h-16 w-16 rounded-full"}),(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)(t,{className:"h-5 w-48"}),(0,s.jsx)(t,{className:"h-4 w-64"})]}),(0,s.jsx)(t,{className:"h-10 w-32"})]})]})]}),"ProfileSkeleton",0,({showAvatar:e=!0,showStats:a=!0})=>(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"rounded-lg border bg-card p-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[e&&(0,s.jsx)("div",{children:(0,s.jsx)(t,{className:"h-24 w-24 rounded-full"})}),(0,s.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,s.jsx)(t,{className:"h-8 w-48"}),(0,s.jsx)(t,{className:"h-4 w-64"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(t,{className:"h-4 w-32"}),(0,s.jsx)(t,{className:"h-4 w-32"})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(t,{className:"h-10 w-32"}),(0,s.jsx)(t,{className:"h-10 w-32"})]})]})}),a&&(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:Array.from({length:4}).map((e,a)=>(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsx)(t,{className:"h-5 w-24 mb-2"}),(0,s.jsx)(t,{className:"h-8 w-16"})]},a))}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(t,{className:"h-6 w-48"}),(0,s.jsx)("div",{className:"space-y-3",children:Array.from({length:3}).map((e,a)=>(0,s.jsx)("div",{className:"rounded-lg border bg-card p-4",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(t,{className:"h-4 w-3/4"}),(0,s.jsx)(t,{className:"h-3 w-full"}),(0,s.jsx)(t,{className:"h-3 w-2/3"})]})},a))})]})]}),"StatsCardsSkeleton",0,({count:e=4})=>(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:e}).map((e,a)=>(0,s.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)(t,{className:"h-5 w-24"}),(0,s.jsx)(t,{className:"h-4 w-4"})]}),(0,s.jsx)(t,{className:"h-8 w-16"})]},a))}),"TableSkeleton",0,({rows:e=5,columns:a=5,showAvatar:r=!1})=>(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"flex items-center gap-4 px-4 py-3 border-b",children:Array.from({length:a}).map((e,a)=>(0,s.jsx)(t,{className:"h-5 flex-1"},a))}),Array.from({length:e}).map((e,l)=>(0,s.jsxs)("div",{className:"flex items-center gap-4 px-4 py-4 border-b",children:[r&&(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(t,{className:"h-10 w-10 rounded-full"})}),Array.from({length:a}).map((e,a)=>(0,s.jsx)(t,{className:"h-4 flex-1"},a))]},l))]})])},88255,e=>{"use strict";let s=(0,e.i(35884).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>s],88255)},63753,e=>{"use strict";let s=(0,e.i(35884).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>s],63753)},37770,e=>{"use strict";var s=e.i(48277),t=e.i(42588),a=e.i(99738),r=e.i(30668),l=e.i(33991);function i({className:e,aspectRatio:t,width:r,height:l}){return(0,s.jsx)("div",{className:(0,a.cn)("animate-pulse bg-muted rounded-lg overflow-hidden",t?({square:"aspect-square",video:"aspect-video",portrait:"aspect-[3/4]",landscape:"aspect-[4/3]"})[t]:"",e),style:{width:r,height:l},"aria-hidden":"true",children:(0,s.jsx)("div",{className:"w-full h-full bg-gradient-to-r from-transparent via-muted-foreground/10 to-transparent animate-[shimmer_1.5s_infinite]"})})}function c({src:e,alt:c,fill:n=!1,width:d,height:o,className:u,priority:h=!1,sizes:m,showFallback:x=!0,fallbackText:p="No Image",showSkeleton:f=!1,blurColor:v=l.BLUR_COLORS.product}){let[g,j]=(0,r.useState)(!0),[N,y]=(0,r.useState)(!1),b=(0,s.jsx)("div",{className:(0,a.cn)("w-full h-full flex items-center justify-center text-muted-foreground text-sm",u),children:p});if(!e||N)return x?b:null;let w=(0,l.generateCloudinaryBlurDataURL)(e)||(0,l.generateColoredBlurDataURL)(v),R={src:e,alt:c,...h&&{priority:h},sizes:m,...n?{fill:!0,className:(0,a.cn)("object-cover transition-opacity duration-500 ease-in-out",g?"opacity-0":"opacity-100",u)}:{width:d,height:o,className:(0,a.cn)("object-cover transition-opacity duration-500 ease-in-out",g?"opacity-0":"opacity-100",u)},onLoad:()=>j(!1),onError:()=>y(!0),placeholder:"blur",blurDataURL:w||l.DEFAULT_BLUR_DATA_URL};return(0,s.jsxs)(s.Fragment,{children:[g&&f&&(0,s.jsx)("div",{className:"absolute inset-0 z-10",children:(0,s.jsx)(i,{className:"w-full h-full"})}),(0,s.jsx)(t.default,{...R})]})}e.s(["default",()=>c],37770)},35169,e=>{"use strict";let s=(0,e.i(35884).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>s],35169)},12463,e=>{"use strict";let s=(0,e.i(35884).default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);e.s(["Heart",()=>s],12463)},18458,e=>{"use strict";var s=e.i(48277),t=e.i(16506),a=e.i(37770),r=e.i(12463),l=e.i(88255),i=e.i(63753),c=e.i(50097),n=e.i(35169),d=e.i(99738),o=e.i(40206),u=e.i(47281),h=e.i(91482);e.i(92544);var m=e.i(11897),x=e.i(30668);let p=(0,x.memo)(function({product:e}){let{user:p,isAuthenticated:f}=(0,o.useAuth)(),{addToCart:v}=(0,u.useCart)(),[g,j]=(0,x.useState)(e.likes?.includes(p?._id||"")),[N,y]=(0,x.useState)(e.likes?.length||0),[b,w]=(0,x.useState)(!1),R=(0,x.useMemo)(()=>(0,d.formatPrice)(e.price),[e.price]),S=(0,x.useMemo)(()=>(0,d.formatRelativeTime)(e.createdAt),[e.createdAt]),C=(0,x.useMemo)(()=>(e.seller?.averageRating??0)>0?(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(n.Star,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),(0,s.jsx)("span",{children:e.seller.averageRating?.toFixed(1)||"0.0"}),(0,s.jsxs)("span",{className:"text-muted-foreground",children:["(",e.seller.totalReviews||0,")"]})]}):null,[e.seller?.averageRating,e.seller?.totalReviews]),k=(0,x.useMemo)(()=>e.views||0,[e.views]),Q=(0,x.useCallback)(async s=>{if(s.preventDefault(),f)try{let s=await h.productsAPI.toggleLike(e._id);j(s.data.liked),y(s.data.likesCount)}catch(e){m.toast.error("Failed to like product")}},[e._id,f]),T=(0,x.useCallback)(async s=>{if(s.preventDefault(),!f)return void m.toast.error("Please login to add items to cart");w(!0);try{await v(e._id),m.toast.success("Added to cart!")}catch(e){m.toast.error(e.response?.data?.message||"Failed to add to cart")}finally{w(!1)}},[e._id,f,v]);return(0,s.jsx)(t.default,{href:`/products/${e._id}`,className:"block focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ring rounded-lg","aria-label":`View ${e.title}, priced at ${R}, located in ${e.location}`,children:(0,s.jsxs)("article",{className:"group rounded-lg border bg-card overflow-hidden hover:shadow-lg transition-all duration-300","aria-labelledby":`product-title-${e._id}`,children:[(0,s.jsxs)("div",{className:"relative aspect-square overflow-hidden bg-muted",children:[(0,s.jsx)(a.default,{src:e.images?.[0],alt:`Product image of ${e.title}`,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300",sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw"}),(0,s.jsx)("span",{className:"absolute top-2 left-2 px-2 py-1 rounded-full bg-background/80 backdrop-blur-sm text-xs font-medium","aria-label":`Condition: ${e.condition.replace("-"," ")}`,children:e.condition.replace("-"," ")}),f&&(0,s.jsx)("button",{onClick:Q,className:(0,d.cn)("absolute top-2 right-2 p-2 rounded-full bg-background/80 backdrop-blur-sm transition-colors","focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ring",g?"text-destructive":"hover:text-destructive"),"aria-label":g?`Remove ${e.title} from wishlist`:`Add ${e.title} to wishlist`,"aria-pressed":g,type:"button",children:(0,s.jsx)(r.Heart,{className:(0,d.cn)("h-4 w-4",g&&"fill-current"),"aria-hidden":"true"})})]}),(0,s.jsxs)("div",{className:"p-4 space-y-2",children:[(0,s.jsx)("h3",{className:"font-semibold line-clamp-2 group-hover:text-primary transition-colors",id:`product-title-${e._id}`,children:e.title}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-lg font-bold text-primary","aria-labelledby":`product-title-${e._id}`,children:R}),e.isNegotiable&&(0,s.jsx)("span",{className:"text-xs text-muted-foreground","aria-label":"Price is negotiable",children:"Negotiable"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(l.MapPin,{className:"h-3 w-3","aria-hidden":"true"}),(0,s.jsx)("span",{className:"line-clamp-1",children:e.location})]}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsxs)("div",{className:"flex items-center space-x-1","aria-label":`${k} views`,children:[(0,s.jsx)(i.Eye,{className:"h-3 w-3","aria-hidden":"true"}),(0,s.jsx)("span",{children:k})]})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-2 border-t",children:[(0,s.jsxs)(t.default,{href:`/users/${e.seller?._id}`,className:"flex items-center gap-1 hover:text-primary transition-colors rounded-lg px-2 py-1 -mx-2 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ring",onClick:e=>e.preventDefault(),"aria-label":`View seller profile: ${e.seller?.name||"Unknown Seller"}`,children:[(0,s.jsx)("span",{children:e.seller?.name||"Unknown Seller"}),C]}),(0,s.jsx)("time",{dateTime:e.createdAt,"aria-label":`Listed ${S}`,children:S})]}),(0,s.jsx)("button",{onClick:T,disabled:b,"aria-live":"polite","aria-label":b?"Adding product to cart":`Add ${e.title} to cart`,type:"button",className:(0,d.cn)("w-full mt-3 px-4 py-2 rounded-lg font-medium text-sm transition-colors","bg-primary text-primary-foreground hover:bg-primary/90","disabled:opacity-50 disabled:cursor-not-allowed","focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ring"),children:b?(0,s.jsxs)("span",{className:"flex items-center justify-center space-x-2",children:[(0,s.jsx)("span",{className:"animate-spin","aria-hidden":"true",children:"â³"}),(0,s.jsx)("span",{children:"Adding..."})]}):(0,s.jsxs)("span",{className:"flex items-center justify-center space-x-2",children:[(0,s.jsx)(c.ShoppingCart,{className:"h-4 w-4","aria-hidden":"true"}),(0,s.jsx)("span",{children:"Add to Cart"})]})})]})]})})});e.s(["default",0,p])},68020,e=>{"use strict";var s=e.i(48277),t=e.i(18458),a=e.i(36291),r=e.i(99738);function l({products:e,loading:l=!1,columns:i={sm:1,md:2,lg:4,xl:4},className:c}){let n=(0,r.cn)("grid gap-6",`grid-cols-${i.sm||1}`,i.md&&`md:grid-cols-${i.md}`,i.lg&&`lg:grid-cols-${i.lg}`,i.xl&&`xl:grid-cols-${i.xl}`,c);return l?(0,s.jsx)("div",{className:n,children:(0,s.jsx)(a.ProductCardSkeleton,{count:8})}):e&&0!==e.length?(0,s.jsx)("div",{className:n,children:e.map(e=>(0,s.jsx)(t.default,{product:e},e._id))}):(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"No products found"})})}e.s(["default",()=>l])},52369,e=>{"use strict";let s;var t=e.i(48277),a=e.i(30668),r=e.i(32890),l=e.i(68020),i=e.i(66849),c=e.i(47206),n=e.i(28997),d=e.i(10488),o=e.i(11043),u=e.i(68160),h=e.i(36441),m=class extends d.Subscribable{constructor(e,s){super(),this.options=s,this.#e=e,this.#s=null,this.#t=(0,o.pendingThenable)(),this.bindMethods(),this.setOptions(s)}#e;#a=void 0;#r=void 0;#l=void 0;#i;#c;#t;#s;#n;#d;#o;#u;#h;#m;#x=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#a.addObserver(this),x(this.#a,this.options)?this.#p():this.updateResult(),this.#f())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return p(this.#a,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return p(this.#a,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#g(),this.#a.removeObserver(this)}setOptions(e){let s=this.options,t=this.#a;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,u.resolveEnabled)(this.options.enabled,this.#a))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#a.setOptions(this.options),s._defaulted&&!(0,u.shallowEqualObjects)(this.options,s)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#a,observer:this});let a=this.hasListeners();a&&f(this.#a,t,this.options,s)&&this.#p(),this.updateResult(),a&&(this.#a!==t||(0,u.resolveEnabled)(this.options.enabled,this.#a)!==(0,u.resolveEnabled)(s.enabled,this.#a)||(0,u.resolveStaleTime)(this.options.staleTime,this.#a)!==(0,u.resolveStaleTime)(s.staleTime,this.#a))&&this.#N();let r=this.#y();a&&(this.#a!==t||(0,u.resolveEnabled)(this.options.enabled,this.#a)!==(0,u.resolveEnabled)(s.enabled,this.#a)||r!==this.#m)&&this.#b(r)}getOptimisticResult(e){var s,t;let a=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(a,e);return s=this,t=r,(0,u.shallowEqualObjects)(s.getCurrentResult(),t)||(this.#l=r,this.#c=this.options,this.#i=this.#a.state),r}getCurrentResult(){return this.#l}trackResult(e,s){return new Proxy(e,{get:(e,t)=>(this.trackProp(t),s?.(t),"promise"===t&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#t.status||this.#t.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,t))})}trackProp(e){this.#x.add(e)}getCurrentQuery(){return this.#a}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let s=this.#e.defaultQueryOptions(e),t=this.#e.getQueryCache().build(this.#e,s);return t.fetch().then(()=>this.createResult(t,s))}fetch(e){return this.#p({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#l))}#p(e){this.#j();let s=this.#a.fetch(this.options,e);return e?.throwOnError||(s=s.catch(u.noop)),s}#N(){this.#v();let e=(0,u.resolveStaleTime)(this.options.staleTime,this.#a);if(u.isServer||this.#l.isStale||!(0,u.isValidTimeout)(e))return;let s=(0,u.timeUntilStale)(this.#l.dataUpdatedAt,e);this.#u=h.timeoutManager.setTimeout(()=>{this.#l.isStale||this.updateResult()},s+1)}#y(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#a):this.options.refetchInterval)??!1}#b(e){this.#g(),this.#m=e,!u.isServer&&!1!==(0,u.resolveEnabled)(this.options.enabled,this.#a)&&(0,u.isValidTimeout)(this.#m)&&0!==this.#m&&(this.#h=h.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||i.focusManager.isFocused())&&this.#p()},this.#m))}#f(){this.#N(),this.#b(this.#y())}#v(){this.#u&&(h.timeoutManager.clearTimeout(this.#u),this.#u=void 0)}#g(){this.#h&&(h.timeoutManager.clearInterval(this.#h),this.#h=void 0)}createResult(e,s){let t,a=this.#a,r=this.options,l=this.#l,i=this.#i,c=this.#c,d=e!==a?e.state:this.#r,{state:h}=e,m={...h},p=!1;if(s._optimisticResults){let t=this.hasListeners(),l=!t&&x(e,s),i=t&&f(e,a,s,r);(l||i)&&(m={...m,...(0,n.fetchState)(h.data,e.options)}),"isRestoring"===s._optimisticResults&&(m.fetchStatus="idle")}let{error:g,errorUpdatedAt:j,status:N}=m;t=m.data;let y=!1;if(void 0!==s.placeholderData&&void 0===t&&"pending"===N){let e;l?.isPlaceholderData&&s.placeholderData===c?.placeholderData?(e=l.data,y=!0):e="function"==typeof s.placeholderData?s.placeholderData(this.#o?.state.data,this.#o):s.placeholderData,void 0!==e&&(N="success",t=(0,u.replaceData)(l?.data,e,s),p=!0)}if(s.select&&void 0!==t&&!y)if(l&&t===i?.data&&s.select===this.#n)t=this.#d;else try{this.#n=s.select,t=s.select(t),t=(0,u.replaceData)(l?.data,t,s),this.#d=t,this.#s=null}catch(e){this.#s=e}this.#s&&(g=this.#s,t=this.#d,j=Date.now(),N="error");let b="fetching"===m.fetchStatus,w="pending"===N,R="error"===N,S=w&&b,C=void 0!==t,k={status:N,fetchStatus:m.fetchStatus,isPending:w,isSuccess:"success"===N,isError:R,isInitialLoading:S,isLoading:S,data:t,dataUpdatedAt:m.dataUpdatedAt,error:g,errorUpdatedAt:j,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:R&&!C,isPaused:"paused"===m.fetchStatus,isPlaceholderData:p,isRefetchError:R&&C,isStale:v(e,s),refetch:this.refetch,promise:this.#t,isEnabled:!1!==(0,u.resolveEnabled)(s.enabled,e)};if(this.options.experimental_prefetchInRender){let s=void 0!==k.data,t="error"===k.status&&!s,r=e=>{t?e.reject(k.error):s&&e.resolve(k.data)},l=()=>{r(this.#t=k.promise=(0,o.pendingThenable)())},i=this.#t;switch(i.status){case"pending":e.queryHash===a.queryHash&&r(i);break;case"fulfilled":(t||k.data!==i.value)&&l();break;case"rejected":t&&k.error===i.reason||l()}}return k}updateResult(){let e=this.#l,s=this.createResult(this.#a,this.options);if(this.#i=this.#a.state,this.#c=this.options,void 0!==this.#i.data&&(this.#o=this.#a),(0,u.shallowEqualObjects)(s,e))return;this.#l=s;let t=()=>{if(!e)return!0;let{notifyOnChangeProps:s}=this.options,t="function"==typeof s?s():s;if("all"===t||!t&&!this.#x.size)return!0;let a=new Set(t??this.#x);return this.options.throwOnError&&a.add("error"),Object.keys(this.#l).some(s=>this.#l[s]!==e[s]&&a.has(s))};this.#w({listeners:t()})}#j(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#a)return;let s=this.#a;this.#a=e,this.#r=e.state,this.hasListeners()&&(s?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#f()}#w(e){c.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#l)}),this.#e.getQueryCache().notify({query:this.#a,type:"observerResultsUpdated"})})}};function x(e,s){return!1!==(0,u.resolveEnabled)(s.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==s.retryOnMount)||void 0!==e.state.data&&p(e,s,s.refetchOnMount)}function p(e,s,t){if(!1!==(0,u.resolveEnabled)(s.enabled,e)&&"static"!==(0,u.resolveStaleTime)(s.staleTime,e)){let a="function"==typeof t?t(e):t;return"always"===a||!1!==a&&v(e,s)}return!1}function f(e,s,t,a){return(e!==s||!1===(0,u.resolveEnabled)(a.enabled,e))&&(!t.suspense||"error"!==e.state.status)&&v(e,t)}function v(e,s){return!1!==(0,u.resolveEnabled)(s.enabled,e)&&e.isStaleByTime((0,u.resolveStaleTime)(s.staleTime,e))}e.i(39057);var g=e.i(46592),j=a.createContext((s=!1,{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s})),N=a.createContext(!1);N.Provider;var y=(e,s,t)=>s.fetchOptimistic(e).catch(()=>{t.clearReset()});function b(e,s){return function(e,s,t){let r,l=a.useContext(N),i=a.useContext(j),n=(0,g.useQueryClient)(t),d=n.defaultQueryOptions(e);n.getDefaultOptions().queries?._experimental_beforeQuery?.(d);let o=n.getQueryCache().get(d.queryHash);if(d._optimisticResults=l?"isRestoring":"optimistic",d.suspense){let e=e=>"static"===e?e:Math.max(e??1e3,1e3),s=d.staleTime;d.staleTime="function"==typeof s?(...t)=>e(s(...t)):e(s),"number"==typeof d.gcTime&&(d.gcTime=Math.max(d.gcTime,1e3))}r=o?.state.error&&"function"==typeof d.throwOnError?(0,u.shouldThrowError)(d.throwOnError,[o.state.error,o]):d.throwOnError,(d.suspense||d.experimental_prefetchInRender||r)&&!i.isReset()&&(d.retryOnMount=!1),a.useEffect(()=>{i.clearReset()},[i]);let h=!n.getQueryCache().get(d.queryHash),[m]=a.useState(()=>new s(n,d)),x=m.getOptimisticResult(d),p=!l&&!1!==e.subscribed;if(a.useSyncExternalStore(a.useCallback(e=>{let s=p?m.subscribe(c.notifyManager.batchCalls(e)):u.noop;return m.updateResult(),s},[m,p]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),a.useEffect(()=>{m.setOptions(d)},[d,m]),d?.suspense&&x.isPending)throw y(d,m,i);if((({result:e,errorResetBoundary:s,throwOnError:t,query:a,suspense:r})=>e.isError&&!s.isReset()&&!e.isFetching&&a&&(r&&void 0===e.data||(0,u.shouldThrowError)(t,[e.error,a])))({result:x,errorResetBoundary:i,throwOnError:d.throwOnError,query:o,suspense:d.suspense}))throw x.error;if(n.getDefaultOptions().queries?._experimental_afterQuery?.(d,x),d.experimental_prefetchInRender&&!u.isServer&&x.isLoading&&x.isFetching&&!l){let e=h?y(d,m,i):o?.promise;e?.catch(u.noop).finally(()=>{m.updateResult()})}return d.notifyOnChangeProps?x:m.trackResult(x)}(e,m,s)}var w=e.i(91482);let R={all:["products"],lists:()=>[...R.all,"list"],list:e=>[...R.lists(),e],details:()=>[...R.all,"detail"],detail:e=>[...R.details(),e],seller:e=>[...R.all,"seller",e],sold:()=>[...R.all,"sold"],related:e=>[...R.all,"related",e]};var S=e.i(64076);let C={all:["categories"],lists:()=>[...C.all,"list"],list:()=>[...C.lists()],details:()=>[...C.all,"detail"],detail:(e,s)=>[...C.details(),e,s]};e.i(22195),e.i(42001),e.i(82173);var k=e.i(36291),Q=e.i(80658);function T(){var e;let[s,i]=(0,a.useState)(""),[c,n]=(0,a.useState)(""),[d,o]=(0,a.useState)("createdAt"),[u,h]=(0,a.useState)(1),{data:m}=b({queryKey:C.list(),queryFn:()=>S.categoriesAPI.getCategories().then(e=>e.data.categories),staleTime:6e5,gcTime:36e5,...void 0}),{data:x,isLoading:p}=(e={page:u,limit:12,sortBy:d,category:c||void 0,search:s||void 0},b({queryKey:R.list(e),queryFn:()=>w.productsAPI.getProducts(e).then(e=>e.data),...void 0})),f=(0,a.useMemo)(()=>m?.filter(e=>e.isActive)||[],[m]),v=x?.data||[],g=x?.pagination?.pages||1,j=x?.pagination?.total||0,N=e=>{n(e),h(1)},y=(0,a.useMemo)(()=>`${j} ${1===j?"product":"products"} found`,[j]);return loading&&1===u?(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsx)(k.PageHeaderSkeleton,{showSubtitle:!0,showActions:!1}),(0,t.jsx)("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:(0,t.jsx)(k.ProductCardSkeleton,{count:8})})]}):(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Browse Products"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:y})]}),(0,t.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(r.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)("input",{type:"text",placeholder:"Search products...",value:s,onChange:e=>{i(e.target.value),h(1)},className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)("select",{value:d,onChange:e=>{o(e.target.value)},className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,t.jsx)("option",{value:"createdAt",children:"Newest"}),(0,t.jsx)("option",{value:"price",children:"Price: Low to High"}),(0,t.jsx)("option",{value:"title",children:"Name: A to Z"})]})})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)(Q.default,{size:"sm",variant:""===c?"primary":"outline",onClick:()=>N(""),children:"All Categories"}),f.map(e=>(0,t.jsxs)(Q.default,{size:"sm",variant:c===e._id?"primary":"outline",onClick:()=>N(e._id),children:[e.icon," ",e.name]},e._id))]})]}),0!==v.length||loading?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.default,{products:v,loading:loading&&u>1}),g>1&&(0,t.jsxs)("div",{className:"flex justify-center items-center space-x-2 mt-8",children:[(0,t.jsx)(Q.default,{onClick:()=>h(e=>Math.max(1,e-1)),disabled:1===u,variant:"outline",size:"sm",children:"Previous"}),(0,t.jsxs)("span",{className:"text-sm",children:["Page ",u," of ",g]}),(0,t.jsx)(Q.default,{onClick:()=>h(e=>Math.min(g,e+1)),disabled:u===g,variant:"outline",size:"sm",children:"Next"})]})]}):(0,t.jsxs)("div",{className:"text-center py-16",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ”"}),(0,t.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"No products found"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6",children:"Try adjusting your filters or search terms"}),(0,t.jsx)(Q.default,{onClick:()=>{i(""),n("")},children:"Clear Filters"})]})]})}e.s(["default",()=>T],52369)}]);