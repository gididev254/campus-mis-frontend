(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,80658,e=>{"use strict";var r=e.i(48277),s=e.i(99738);function t({children:e,className:t,variant:a="primary",size:l="md",isLoading:o=!1,loadingText:i,disabled:n,...d}){return(0,r.jsx)("button",{type:d.type||"button",className:(0,s.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-ring disabled:opacity-50 disabled:pointer-events-none disabled:cursor-not-allowed",{primary:"bg-primary text-primary-foreground hover:opacity-90 focus-visible:ring-primary",secondary:"bg-secondary text-secondary-foreground hover:opacity-90 focus-visible:ring-secondary",outline:"border border-border hover:bg-accent hover:text-accent-foreground focus-visible:ring-border",ghost:"hover:bg-accent hover:text-accent-foreground focus-visible:ring-accent",danger:"bg-destructive text-destructive-foreground hover:opacity-90 focus-visible:ring-destructive"}[a],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[l],t),disabled:n||o,"aria-live":o?"polite":void 0,"aria-busy":o,...d,children:o?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",role:"img",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,r.jsx)("span",{children:i||"Loading..."})]}):e})}e.s(["default",()=>t])},50042,e=>{"use strict";var r=e.i(48277),s=e.i(30668),t=e.i(99738);function a({label:e,error:a,helperText:l,className:o,id:i,...n}){let d=s.default.useId(),c=i||d,m=a?`${c}-error`:void 0,u=l?`${c}-helper`:void 0,x=[m,u].filter(Boolean).join(" ")||void 0;return(0,r.jsxs)("div",{className:"w-full",children:[e&&(0,r.jsxs)("label",{htmlFor:c,className:"block text-sm font-medium mb-1.5 text-foreground",children:[e,n.required&&(0,r.jsx)("span",{className:"text-destructive ml-1","aria-label":"required",children:"*"})]}),(0,r.jsx)("input",{id:c,"aria-invalid":a?"true":"false","aria-describedby":x,"aria-required":n.required?"true":void 0,className:(0,t.cn)("w-full px-4 py-2.5 rounded-lg border border-input bg-background text-foreground","placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent focus-visible:ring-2 focus-visible:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed",a&&"border-destructive focus:ring-destructive focus-visible:ring-destructive",o),...n}),a&&(0,r.jsx)("p",{id:m,className:"mt-1 text-sm text-destructive",role:"alert","aria-live":"assertive",children:a}),l&&!a&&(0,r.jsx)("p",{id:u,className:"mt-1 text-sm text-muted-foreground",children:l})]})}e.s(["default",()=>a])},34086,e=>{"use strict";var r=e.i(48277),s=e.i(96086),t=e.i(16506),a=e.i(46471),l=e.i(42854),o=e.i(40206);e.i(92544);var i=e.i(11897),n=e.i(80658),d=e.i(50042),c=e.i(45932),m=e.i(90851);function u(){let e=(0,s.useRouter)(),{register:u}=(0,o.useAuth)(),{register:x,handleSubmit:g,watch:p,setValue:h,formState:{errors:f,isSubmitting:b},setError:v}=(0,a.useForm)({resolver:(0,l.zodResolver)(c.registrationSchema),mode:"onBlur",defaultValues:{role:"buyer"}}),y=p("password"),j=p("confirmPassword"),N=p("role"),w=(0,m.getPasswordStrength)(y||""),k=async r=>{try{await u({name:r.name,email:r.email,password:r.password,phone:r.phone,role:r.role,location:r.location}),i.toast.success("Account created successfully!"),e.push("/")}catch(r){let e=r.response?.data?.message||"Registration failed. Please try again.";v("root",{type:"manual",message:e}),i.toast.error(e)}};return(0,r.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,r.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Create Account"}),(0,r.jsx)("p",{className:"text-muted-foreground mt-2",children:"Join Campus Market today"})]}),(0,r.jsxs)("div",{className:"bg-card rounded-lg border p-8",children:[f.root&&(0,r.jsx)("div",{className:"mb-4 p-3 rounded-lg bg-destructive/10 text-destructive text-sm",children:f.root.message}),(0,r.jsxs)("form",{onSubmit:g(k),className:"space-y-4",noValidate:!0,children:[(0,r.jsx)(d.default,{label:"Full Name",type:"text",placeholder:"John Doe",error:f.name?.message,...x("name")}),(0,r.jsx)(d.default,{label:"Email",type:"email",placeholder:"your.email@example.com",error:f.email?.message,...x("email")}),(0,r.jsx)(d.default,{label:"Phone Number",type:"tel",placeholder:"+254700000000",error:f.phone?.message,...x("phone")}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1.5",children:"I want to"}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["buyer","seller"].map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>h("role",e),className:`px-4 py-2 rounded-lg border capitalize transition-colors ${N===e?"bg-primary text-primary-foreground border-primary":"bg-background hover:bg-accent"}`,children:e},e))}),f.role&&(0,r.jsx)("p",{className:"mt-1 text-sm text-destructive",children:f.role.message})]}),(0,r.jsx)(d.default,{label:"Location (Optional)",type:"text",placeholder:"Campus location",error:f.location?.message,...x("location")}),(0,r.jsxs)("div",{children:[(0,r.jsx)(d.default,{label:"Password",type:"password",placeholder:"••••••••",error:f.password?.message,...x("password")}),y&&(0,r.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,r.jsx)("div",{className:"flex gap-1",children:[1,2,3,4].map(e=>(0,r.jsx)("div",{className:`h-1.5 flex-1 rounded-full transition-colors ${e<=w.score?w.color:"bg-gray-200 dark:bg-gray-700"}`},e))}),w.label&&(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Password strength: ",(0,r.jsx)("span",{className:`font-medium ${w.score<=1?"text-red-500":2===w.score?"text-orange-500":3===w.score?"text-yellow-600":"text-green-600"}`,children:w.label})]}),(0,r.jsxs)("div",{className:"mt-2 p-3 rounded-lg bg-muted/50 space-y-1",children:[(0,r.jsx)("p",{className:"text-xs font-medium mb-2",children:"Password Requirements:"}),(0,r.jsxs)("ul",{className:"space-y-1 text-xs",children:[(0,r.jsxs)("li",{className:y?.length>=12?"text-green-600 dark:text-green-400":"text-muted-foreground",children:[y?.length>=12?"✓":"○"," At least 12 characters"]}),(0,r.jsxs)("li",{className:/[a-z]/.test(y||"")?"text-green-600 dark:text-green-400":"text-muted-foreground",children:[/[a-z]/.test(y||"")?"✓":"○"," One lowercase letter (a-z)"]}),(0,r.jsxs)("li",{className:/[A-Z]/.test(y||"")?"text-green-600 dark:text-green-400":"text-muted-foreground",children:[/[A-Z]/.test(y||"")?"✓":"○"," One uppercase letter (A-Z)"]}),(0,r.jsxs)("li",{className:/[0-9]/.test(y||"")?"text-green-600 dark:text-green-400":"text-muted-foreground",children:[/[0-9]/.test(y||"")?"✓":"○"," One number (0-9)"]}),(0,r.jsxs)("li",{className:/[@$!%*?&]/.test(y||"")?"text-green-600 dark:text-green-400":"text-muted-foreground",children:[/[@$!%*?&]/.test(y||"")?"✓":"○"," One special character (@$!%*?&)"]})]})]})]})]}),(0,r.jsx)(d.default,{label:"Confirm Password",type:"password",placeholder:"••••••••",error:f.confirmPassword?.message,...x("confirmPassword")}),j&&y&&(0,r.jsx)("div",{className:`text-xs ${y===j?"text-green-600 dark:text-green-400":"text-destructive"}`,children:y===j?"✓ Passwords match":"✗ Passwords do not match"}),(0,r.jsx)(n.default,{type:"submit",className:"w-full",isLoading:b,children:"Create Account"})]}),(0,r.jsxs)("div",{className:"mt-6 text-center text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Already have an account?"})," ",(0,r.jsx)(t.default,{href:"/login",className:"text-primary hover:underline",children:"Sign in"})]})]}),(0,r.jsxs)("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:[(0,r.jsx)("p",{className:"font-medium mb-2",children:"Need help?"}),(0,r.jsxs)("p",{children:["WhatsApp: ",(0,r.jsx)("a",{href:"https://wa.me/254111938368",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"0111938368"})]}),(0,r.jsxs)("p",{children:["Email: ",(0,r.jsx)("a",{href:"mailto:gedionmutua2024@gmail.com",className:"text-primary hover:underline",children:"gedionmutua2024@gmail.com"})]})]})]})})}e.s(["default",()=>u])}]);