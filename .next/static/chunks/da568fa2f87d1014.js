(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,80658,e=>{"use strict";var r=e.i(48277),s=e.i(99738);function i({children:e,className:i,variant:t="primary",size:o="md",isLoading:a=!1,loadingText:l,disabled:n,...c}){return(0,r.jsx)("button",{type:c.type||"button",className:(0,s.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-ring disabled:opacity-50 disabled:pointer-events-none disabled:cursor-not-allowed",{primary:"bg-primary text-primary-foreground hover:opacity-90 focus-visible:ring-primary",secondary:"bg-secondary text-secondary-foreground hover:opacity-90 focus-visible:ring-secondary",outline:"border border-border hover:bg-accent hover:text-accent-foreground focus-visible:ring-border",ghost:"hover:bg-accent hover:text-accent-foreground focus-visible:ring-accent",danger:"bg-destructive text-destructive-foreground hover:opacity-90 focus-visible:ring-destructive"}[t],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[o],i),disabled:n||a,"aria-live":a?"polite":void 0,"aria-busy":a,...c,children:a?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",role:"img",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,r.jsx)("span",{children:l||"Loading..."})]}):e})}e.s(["default",()=>i])},50042,e=>{"use strict";var r=e.i(48277),s=e.i(30668),i=e.i(99738);function t({label:e,error:t,helperText:o,className:a,id:l,...n}){let c=s.default.useId(),d=l||c,u=t?`${d}-error`:void 0,m=o?`${d}-helper`:void 0,f=[u,m].filter(Boolean).join(" ")||void 0;return(0,r.jsxs)("div",{className:"w-full",children:[e&&(0,r.jsxs)("label",{htmlFor:d,className:"block text-sm font-medium mb-1.5 text-foreground",children:[e,n.required&&(0,r.jsx)("span",{className:"text-destructive ml-1","aria-label":"required",children:"*"})]}),(0,r.jsx)("input",{id:d,"aria-invalid":t?"true":"false","aria-describedby":f,"aria-required":n.required?"true":void 0,className:(0,i.cn)("w-full px-4 py-2.5 rounded-lg border border-input bg-background text-foreground","placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent focus-visible:ring-2 focus-visible:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed",t&&"border-destructive focus:ring-destructive focus-visible:ring-destructive",a),...n}),t&&(0,r.jsx)("p",{id:u,className:"mt-1 text-sm text-destructive",role:"alert","aria-live":"assertive",children:t}),o&&!t&&(0,r.jsx)("p",{id:m,className:"mt-1 text-sm text-muted-foreground",children:o})]})}e.s(["default",()=>t])},73129,e=>{"use strict";var r=e.i(48277),s=e.i(96086),i=e.i(16506),t=e.i(46471),o=e.i(42854),a=e.i(40206);e.i(92544);var l=e.i(11897),n=e.i(80658),c=e.i(50042),d=e.i(45932);function u(){let e=(0,s.useRouter)(),{login:u}=(0,a.useAuth)(),{register:m,handleSubmit:f,formState:{errors:p,isSubmitting:x},setError:g}=(0,t.useForm)({resolver:(0,o.zodResolver)(d.loginSchema),mode:"onBlur"}),b=async r=>{try{let s=await u(r.email,r.password);l.toast.success("Successfully logged in!"),s.forcePasswordChange?e.push("/change-password"):e.push("/")}catch(r){let e=r.response?.data?.message||"Login failed. Please try again.";g("root",{type:"manual",message:e}),l.toast.error(e)}};return(0,r.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,r.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,r.jsxs)("header",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Welcome Back"}),(0,r.jsx)("p",{className:"text-muted-foreground mt-2",children:"Sign in to your account"})]}),(0,r.jsxs)("main",{children:[(0,r.jsxs)("div",{className:"bg-card rounded-lg border p-8",children:[p.root&&(0,r.jsx)("div",{className:"mb-4 p-3 rounded-lg bg-destructive/10 text-destructive text-sm",role:"alert","aria-live":"assertive",children:p.root.message}),(0,r.jsxs)("form",{onSubmit:f(b),className:"space-y-4",noValidate:!0,"aria-label":"Login form",children:[(0,r.jsx)(c.default,{label:"Email",type:"email",placeholder:"your.email@example.com",error:p.email?.message,required:!0,autoComplete:"email",...m("email")}),(0,r.jsx)(c.default,{label:"Password",type:"password",placeholder:"••••••••",error:p.password?.message,required:!0,autoComplete:"current-password",...m("password")}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",className:"mr-2 w-4 h-4 rounded border-input focus:ring-2 focus:ring-ring focus:ring-offset-2","aria-label":"Remember me on this device"}),(0,r.jsx)("span",{children:"Remember me"})]}),(0,r.jsx)(i.default,{href:"/forgot-password",className:"text-primary hover:underline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ring rounded px-2 py-1 -mx-2",children:"Forgot password?"})]}),(0,r.jsx)(n.default,{type:"submit",className:"w-full",isLoading:x,"aria-live":"polite",children:x?"Signing in...":"Sign In"})]}),(0,r.jsxs)("p",{className:"mt-6 text-center text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Don't have an account?"})," ",(0,r.jsx)(i.default,{href:"/register",className:"text-primary hover:underline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ring rounded px-2 py-1 -mx-2",children:"Sign up"})]})]}),(0,r.jsxs)("aside",{className:"mt-6 text-center text-sm text-muted-foreground","aria-label":"Help and support information",children:[(0,r.jsx)("p",{className:"font-medium mb-2",children:"Need help?"}),(0,r.jsxs)("p",{children:["WhatsApp:"," ",(0,r.jsx)("a",{href:"https://wa.me/254111938368",className:"text-primary hover:underline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ring rounded px-2 py-1 -mx-2",target:"_blank",rel:"noopener noreferrer",children:"0111938368"})]}),(0,r.jsxs)("p",{children:["Email:"," ",(0,r.jsx)("a",{href:"mailto:gedionmutua2024@gmail.com",className:"text-primary hover:underline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-ring rounded px-2 py-1 -mx-2",children:"gedionmutua2024@gmail.com"})]})]})]})]})})}e.s(["default",()=>u])}]);